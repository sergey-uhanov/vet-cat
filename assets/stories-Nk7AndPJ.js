import{g as u,b as s,c as d,m,i as g,s as b}from"./header--BVm7LaD.js";import{g as f,c as p,d as l}from"./firebase-D0A0i6wl.js";import{u as o}from"./use-query-DC4Lgv9E.js";import{r as y}from"./render-small-img-card-CfF6AgLh.js";async function i(a){return(await f(p(l,`истории-${a}`))).docs.map(t=>({id:t.id,...t.data()}))}async function c(a){const e=u(".tubs__cards");e.innerHTML="",a.forEach(t=>{e.insertAdjacentHTML("beforeend",y(t))})}async function v(){const a=s(".button-group__button"),e=o();let t=e.getParam("active")??a[0].getAttribute("data-attribute");t!==e.getParam("active")&&e.setParam("active",a[0].getAttribute("data-attribute")),a.forEach(n=>{n.innerText.toLowerCase()===t&&(d(n,"add","button-group__button_active"),m(n))});const r=await i(t);await c(r)}async function w(){const a=s(".button-group__button"),e=o();a.forEach(t=>{t.addEventListener("click",async()=>{const r=t.getAttribute("data-attribute");e.setParam("active",r);const n=await i(r);await c(n)})})}document.addEventListener("DOMContentLoaded",async a=>{g(),b(),await v(),await w()});
