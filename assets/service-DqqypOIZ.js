import{f as h,d as b,h as f,r as p,g as i,b as g,e as d,i as y}from"./firebase-kXAzlJEp.js";import{u as v}from"./use-query-DC4Lgv9E.js";import{e as _,t as x}from"./experts-slider-inner-g0B9Bclt.js";async function C(s){const t=s||"дерматология";try{const n=h(b,"articles",t),o=await f(n);if(o.exists())return o.data()}catch(n){console.error(n)}}function E(s){const t={container:"story__text-container",paragraph:"story__paragraph",heading:"story__sub-title",list:"story__list",listItem:"story__list-item"},n=p("div",t.container),o=document.createDocumentFragment();return s.story.forEach(a=>{switch(a.type){case"paragraph":{const e=p("p",t.paragraph);e.textContent=a.content,o.appendChild(e);break}case"heading":{const e=a.level,r=p("h"+e,t.heading);r.textContent=a.content,o.appendChild(r);break}case"list":{const e=p("ul",t.list);a.items.forEach(r=>{const u=p("li",t.listItem);u.textContent=r,e.appendChild(u)}),o.appendChild(e)}}}),n.appendChild(o),n}async function w(){const s="/vet-cat/",t=i(".story__title"),n=i(".story__img-wrapper"),o=i("picture",n),c=p("source"),a=p("img"),e=i(".breadcrumbs").lastElementChild,u=v().getParam("story"),l=await C(u);t.innerText=l.title,a.src=`${s}${l.img}`,a.alt="animal",a.width="824",a.height="360",c.srcset=`${s}${l.imgWebp}`,c.type="image/webp",o.appendChild(c),o.appendChild(a),document.title=l.title,e.innerText=l.title,i(".story__text-block").appendChild(E(l))}function k(s){const t=i(s),n=g(".button-group__button",t);let o=i(".button-group__button_active",t);const c=i(".button-group__slider",t);function a(e){const{offsetWidth:r,offsetHeight:u,offsetLeft:l,offsetTop:m}=e;c.style.width=`${r}px`,c.style.height=`${u}px`,c.style.transform=`translate(${l}px, ${m}px)`}a(o),n.forEach(e=>{e.addEventListener("click",()=>{n.forEach(r=>d(r,"remove","button-group__button_active")),d(e,"add","button-group__button_active"),o=e,a(o)})})}async function $(){const s=g(".button-group__button");let t=i(".button-group__button_active");await _(t.getAttribute("data-attribute")),s.forEach(n=>{n.addEventListener("click",async()=>{await _(n.getAttribute("data-attribute"))})})}document.addEventListener("DOMContentLoaded",async s=>{y(),await w(),x("triple-slider_experts","triple-slider__button-next-icon_experts","triple-slider__button-prev-icon_experts"),await $(),k(".service-slider__button-block")});
