import{r as e,g as u,a as k,i as L}from"./header-zVkTQlWD.js";import{s as S}from"./selection-button-group-CnRSCfiK.js";import{c as q,d as M,q as T,w as B,g as H}from"./firebase-D0A0i6wl.js";import{i as x}from"./init-slider-B_-0JLsa.js";import"./navigation-BLWR7E83.js";async function D(i){try{const t=q(M,"work-time"),o=T(t,B("location","==",i));return(await H(o)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){console.error("Ошибка при получении документов:",t)}}function b(i){const t=document.createDocumentFragment();return i.forEach(o=>{const s=e("div","work-schedule__content-wrapper"),r=e("div",["container-work-time","work-schedule__content"]),p=e("div","item-service__sidebar"),v=e("div","item-service__title");v.textContent=o.service,p.appendChild(v),o.staff.forEach(a=>{const n=e("div","item-service__employer"),d=e("div","item-service__employer-name");d.textContent=a.name;const c=e("div","item-service__employer-position");c.textContent=a.position,n.appendChild(d),n.appendChild(c),p.appendChild(n)}),r.appendChild(p);const _=e("div",["item-service__slider","swiper"]);_.dataset.attribute=o.id;const y=e("div",["swiper-wrapper","item-service__slider-wrapper"]);for(let a=0;a<21;a++){const n=new Date;n.setDate(n.getDate()+a);const d=e("div",["swiper-slide","item-service__slide","slide"]),c=e("div","slide__date-wrapper"),l=e("div","slide__day-week"),m=e("div","slide__date");if(a===0)l.textContent="Сегодня";else if(a===1)l.textContent="Завтра";else{const h=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];l.textContent=h[n.getDay()],(n.getDay()===0||n.getDay()===6)&&(l.style.color="red")}const C=e("span","slide__date-day");C.textContent=n.toLocaleDateString("ru-RU",{day:"numeric"}),m.textContent=n.toLocaleDateString("ru-RU",{month:"long"}),c.appendChild(l),m.prepend(C),c.appendChild(m),d.appendChild(c),o.staff.forEach(h=>{const f=e("div","slide__times-wrapper"),E=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][n.getDay()];f.textContent=h.schedule[E]||"-",d.appendChild(f)}),y.appendChild(d)}_.appendChild(y),r.appendChild(_);const w=e("div","item-service__button-prev");w.innerHTML=`<svg class="icon item-service__button-prev-icon">
                                <use xlink:href="#row"></use>
                             </svg>`;const g=e("div","item-service__button-next");g.innerHTML=`<svg class="icon item-service__button-next-icon">
                                <use xlink:href="#row"></use>
                             </svg>`,r.appendChild(w),r.appendChild(g),s.appendChild(r),t.appendChild(s)}),t}async function W(){const i=u(".work-schedule__wrapper");try{const t=await D("Строгино");console.log(t),i.append(b(t)),k(".work-schedule__content").forEach(s=>{x(s)})}catch(t){console.log(t)}}async function K(){const i=u(".work-schedule__wrapper"),t=u(".button-group__container");t.addEventListener("click",async()=>{const o=u(".button-group__button_active",t);try{const s=await D(o.innerText);i.innerHTML="",i.append(b(s)),k(".work-schedule__content").forEach(p=>{x(p)})}catch(s){console.log(s)}})}document.addEventListener("DOMContentLoaded",async i=>{L(),S(),await W(),await K()});
