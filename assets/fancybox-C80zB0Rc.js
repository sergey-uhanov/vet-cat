function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var In=Object.defineProperty,kn=(e,t,i)=>t in e?In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,xe=(e,t,i)=>(kn(e,typeof t!="symbol"?t+"":t,i),i);const zn=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_n=/^-?[0-9]\d*$/,Vn=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/,Rn=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,Dn=e=>{let t=e;return typeof e=="string"&&(t=e.trim()),!t},Hn=e=>zn.test(e),Nn=(e,t)=>e.length>t,qn=(e,t)=>e.length<t,Gn=e=>typeof e!="string"?!1:!isNaN(+e)&&!isNaN(parseFloat(e)),Bn=e=>_n.test(e),Wn=e=>Vn.test(e),Xn=e=>Rn.test(e),Zn=(e,t)=>e>t,Yn=(e,t)=>e<t,et=e=>typeof e!="string"||e==="";var pe=(e=>(e.Required="required",e.Email="email",e.MinLength="minLength",e.MaxLength="maxLength",e.Password="password",e.Number="number",e.Integer="integer",e.MaxNumber="maxNumber",e.MinNumber="minNumber",e.StrongPassword="strongPassword",e.CustomRegexp="customRegexp",e.MinFilesCount="minFilesCount",e.MaxFilesCount="maxFilesCount",e.Files="files",e))(pe||{}),Dt=(e=>(e.Required="required",e))(Dt||{}),Sn=(e=>(e.Label="label",e.LabelArrow="labelArrow",e))(Sn||{});const Ut=[{key:pe.Required,dict:{en:"The field is required"}},{key:pe.Email,dict:{en:"Email has invalid format"}},{key:pe.MaxLength,dict:{en:"The field must contain a maximum of :value characters"}},{key:pe.MinLength,dict:{en:"The field must contain a minimum of :value characters"}},{key:pe.Password,dict:{en:"Password must contain minimum eight characters, at least one letter and one number"}},{key:pe.StrongPassword,dict:{en:"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"}},{key:pe.Number,dict:{en:"Value should be a number"}},{key:pe.MaxNumber,dict:{en:"Number should be less or equal than :value"}},{key:pe.MinNumber,dict:{en:"Number should be more or equal than :value"}},{key:pe.MinFilesCount,dict:{en:"Files count should be more or equal than :value"}},{key:pe.MaxFilesCount,dict:{en:"Files count should be less or equal than :value"}},{key:pe.Files,dict:{en:"Uploaded files have one or several invalid properties (extension/size/type etc)."}}],Un="Value is incorrect",mt=e=>typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function",Kn=e=>{let t=e;const i=[];for(;t;)i.unshift(t),t=t.parentNode;return i},Jn=(e,t)=>{const i=[...t].reverse();for(let n=0,o=i.length;n<o;++n){const l=i[n];for(const s in e){const c=e[s];if(c.groupElem===l)return[s,c]}}return null},Ze=e=>Array.isArray(e)?e.filter(t=>t.length>0):typeof e=="string"&&e.trim()?[...e.split(" ").filter(t=>t.length>0)]:[],bt=e=>e instanceof Element||e instanceof HTMLDocument,Qn=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",Lt=5,jt={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1,validateBeforeSubmitting:!1,submitFormAutomatically:!1};class gi{constructor(t,i,n){xe(this,"form",null),xe(this,"fields",{}),xe(this,"groupFields",{}),xe(this,"errors",{}),xe(this,"isValid",!1),xe(this,"isSubmitted",!1),xe(this,"globalConfig",jt),xe(this,"errorLabels",{}),xe(this,"successLabels",{}),xe(this,"eventListeners",[]),xe(this,"dictLocale",Ut),xe(this,"currentLocale","en"),xe(this,"customStyleTags",{}),xe(this,"onSuccessCallback"),xe(this,"onFailCallback"),xe(this,"onValidateCallback"),xe(this,"tooltips",[]),xe(this,"lastScrollPosition"),xe(this,"isScrollTick"),xe(this,"fieldIds",new Map),xe(this,"getKeyByFieldSelector",o=>this.fieldIds.get(o)),xe(this,"getFieldSelectorByKey",o=>{for(const[l,s]of this.fieldIds)if(o===s)return l}),xe(this,"getCompatibleFields",()=>{const o={};return Object.keys(this.fields).forEach(l=>{let s=l;const c=this.getFieldSelectorByKey(l);typeof c=="string"&&(s=c),o[s]={...this.fields[l]}}),o}),xe(this,"setKeyByFieldSelector",o=>{if(this.fieldIds.has(o))return this.fieldIds.get(o);const l=String(this.fieldIds.size+1);return this.fieldIds.set(o,l),l}),xe(this,"refreshAllTooltips",()=>{this.tooltips.forEach(o=>{o.refresh()})}),xe(this,"handleDocumentScroll",()=>{this.lastScrollPosition=window.scrollY,this.isScrollTick||(window.requestAnimationFrame(()=>{this.refreshAllTooltips(),this.isScrollTick=!1}),this.isScrollTick=!0)}),xe(this,"formSubmitHandler",o=>{o.preventDefault(),this.isSubmitted=!0,this.validateHandler(o)}),xe(this,"handleFieldChange",o=>{let l;for(const s in this.fields)if(this.fields[s].elem===o){l=s;break}l&&(this.fields[l].touched=!0,this.validateField(l,!0))}),xe(this,"handleGroupChange",o=>{let l;for(const s in this.groupFields)if(this.groupFields[s].elems.find(g=>g===o)){l=s;break}l&&(this.groupFields[l].touched=!0,this.validateGroup(l,!0))}),xe(this,"handlerChange",o=>{o.target&&(this.handleFieldChange(o.target),this.handleGroupChange(o.target),this.renderErrors())}),this.initialize(t,i,n)}initialize(t,i,n){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=jt,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],this.currentLocale="en",typeof t=="string"){const o=document.querySelector(t);if(!o)throw Error(`Form with ${t} selector not found! Please check the form selector`);this.setForm(o)}else if(t instanceof HTMLFormElement)this.setForm(t);else throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");if(this.globalConfig={...jt,...i},n&&(this.dictLocale=[...n,...Ut]),this.isTooltip()){const o=document.createElement("style");o.textContent=Qn,this.customStyleTags[Sn.Label]=document.head.appendChild(o),this.addListener("scroll",document,this.handleDocumentScroll)}}getLocalisedString(t,i,n){var o;const l=n??t;let s=(o=this.dictLocale.find(c=>c.key===l))==null?void 0:o.dict[this.currentLocale];if(s||n&&(s=n),s&&i!==void 0)switch(t){case pe.MaxLength:case pe.MinLength:case pe.MaxNumber:case pe.MinNumber:case pe.MinFilesCount:case pe.MaxFilesCount:s=s.replace(":value",String(i))}return s||n||Un}getFieldErrorMessage(t,i){const n=typeof t.errorMessage=="function"?t.errorMessage(this.getElemValue(i),this.fields):t.errorMessage;return this.getLocalisedString(t.rule,t.value,n)}getFieldSuccessMessage(t,i){const n=typeof t=="function"?t(this.getElemValue(i),this.fields):t;return this.getLocalisedString(void 0,void 0,n)}getGroupErrorMessage(t){return this.getLocalisedString(t.rule,void 0,t.errorMessage)}getGroupSuccessMessage(t){if(t.successMessage)return this.getLocalisedString(void 0,void 0,t.successMessage)}setFieldInvalid(t,i){this.fields[t].isValid=!1,this.fields[t].errorMessage=this.getFieldErrorMessage(i,this.fields[t].elem)}setFieldValid(t,i){this.fields[t].isValid=!0,i!==void 0&&(this.fields[t].successMessage=this.getFieldSuccessMessage(i,this.fields[t].elem))}setGroupInvalid(t,i){this.groupFields[t].isValid=!1,this.groupFields[t].errorMessage=this.getGroupErrorMessage(i)}setGroupValid(t,i){this.groupFields[t].isValid=!0,this.groupFields[t].successMessage=this.getGroupSuccessMessage(i)}getElemValue(t){switch(t.type){case"checkbox":return t.checked;case"file":return t.files;default:return t.value}}validateGroupRule(t,i,n){switch(n.rule){case Dt.Required:i.every(o=>!o.checked)?this.setGroupInvalid(t,n):this.setGroupValid(t,n)}}validateFieldRule(t,i,n,o=!1){const l=n.value,s=this.getElemValue(i);if(n.plugin){n.plugin(s,this.getCompatibleFields())||this.setFieldInvalid(t,n);return}switch(n.rule){case pe.Required:{Dn(s)&&this.setFieldInvalid(t,n);break}case pe.Email:{if(et(s))break;Hn(s)||this.setFieldInvalid(t,n);break}case pe.MaxLength:{if(l===void 0){console.error(`Value for ${n.rule} rule for [${t}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(typeof l!="number"){console.error(`Value for ${n.rule} rule for [${t}] should be a number. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(et(s))break;Nn(s,l)&&this.setFieldInvalid(t,n);break}case pe.MinLength:{if(l===void 0){console.error(`Value for ${n.rule} rule for [${t}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(typeof l!="number"){console.error(`Value for ${n.rule} rule for [${t}] should be a number. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(et(s))break;qn(s,l)&&this.setFieldInvalid(t,n);break}case pe.Password:{if(et(s))break;Wn(s)||this.setFieldInvalid(t,n);break}case pe.StrongPassword:{if(et(s))break;Xn(s)||this.setFieldInvalid(t,n);break}case pe.Number:{if(et(s))break;Gn(s)||this.setFieldInvalid(t,n);break}case pe.Integer:{if(et(s))break;Bn(s)||this.setFieldInvalid(t,n);break}case pe.MaxNumber:{if(l===void 0){console.error(`Value for ${n.rule} rule for [${t}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(typeof l!="number"){console.error(`Value for ${n.rule} rule for [${t}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(et(s))break;const c=+s;(Number.isNaN(c)||Zn(c,l))&&this.setFieldInvalid(t,n);break}case pe.MinNumber:{if(l===void 0){console.error(`Value for ${n.rule} rule for [${t}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(typeof l!="number"){console.error(`Value for ${n.rule} rule for [${t}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(et(s))break;const c=+s;(Number.isNaN(c)||Yn(c,l))&&this.setFieldInvalid(t,n);break}case pe.CustomRegexp:{if(l===void 0){console.error(`Value for ${n.rule} rule for [${t}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(t,n);return}let c;try{c=new RegExp(l)}catch{console.error(`Value for ${n.rule} rule for [${t}] should be a valid regexp. This field will be always invalid.`),this.setFieldInvalid(t,n);break}const g=String(s);g!==""&&!c.test(g)&&this.setFieldInvalid(t,n);break}case pe.MinFilesCount:{if(l===void 0){console.error(`Value for ${n.rule} rule for [${t}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(t,n);break}if(typeof l!="number"){console.error(`Value for ${n.rule} rule for [${t}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(Number.isFinite(s==null?void 0:s.length)&&s.length<l){this.setFieldInvalid(t,n);break}break}case pe.MaxFilesCount:{if(l===void 0){console.error(`Value for ${n.rule} rule for [${t}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(t,n);break}if(typeof l!="number"){console.error(`Value for ${n.rule} rule for [${t}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(t,n);break}if(Number.isFinite(s==null?void 0:s.length)&&s.length>l){this.setFieldInvalid(t,n);break}break}case pe.Files:{if(l===void 0){console.error(`Value for ${n.rule} rule for [${t}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(t,n);return}if(typeof l!="object"){console.error(`Value for ${n.rule} rule for [${t}] field should be an object. This field will be always invalid.`),this.setFieldInvalid(t,n);return}const c=l.files;if(typeof c!="object"){console.error(`Value for ${n.rule} rule for [${t}] field should be an object with files array. This field will be always invalid.`),this.setFieldInvalid(t,n);return}const g=(v,E)=>{const h=Number.isFinite(E.minSize)&&v.size<E.minSize,f=Number.isFinite(E.maxSize)&&v.size>E.maxSize,r=Array.isArray(E.names)&&!E.names.includes(v.name),p=Array.isArray(E.extensions)&&!E.extensions.includes(v.name.split(".")[v.name.split(".").length-1]),a=Array.isArray(E.types)&&!E.types.includes(v.type);return h||f||r||p||a};if(typeof s=="object"&&s!==null)for(let v=0,E=s.length;v<E;++v){const h=s.item(v);if(!h){this.setFieldInvalid(t,n);break}if(g(h,c)){this.setFieldInvalid(t,n);break}}break}default:{if(typeof n.validator!="function"){console.error(`Validator for custom rule for [${t}] field should be a function. This field will be always invalid.`),this.setFieldInvalid(t,n);return}const c=n.validator(s,this.getCompatibleFields());if(typeof c!="boolean"&&typeof c!="function"&&console.error(`Validator return value for [${t}] field should be boolean or function. It will be cast to boolean.`),typeof c=="function")if(o)this.fields[t].asyncCheckPending=!0;else{this.fields[t].asyncCheckPending=!1;const g=c();if(!mt(g)){console.error(`Validator function for custom rule for [${t}] field should return a Promise. This field will be always invalid.`),this.setFieldInvalid(t,n);return}return g.then(v=>{v||this.setFieldInvalid(t,n)}).catch(()=>{this.setFieldInvalid(t,n)})}c||this.setFieldInvalid(t,n)}}}isFormValid(){let t=!0;for(let i=0,n=Object.values(this.fields).length;i<n;++i){const o=Object.values(this.fields)[i];if(o.isValid===void 0){t=void 0;break}if(o.isValid===!1){t=!1;break}}for(let i=0,n=Object.values(this.groupFields).length;i<n;++i){const o=Object.values(this.groupFields)[i];if(o.isValid===void 0){t=void 0;break}if(o.isValid===!1){t=!1;break}}return t}validateField(t,i=!1){var n;const o=this.fields[t];o.isValid=!0;const l=[];return[...o.rules].reverse().forEach(s=>{const c=this.validateFieldRule(t,o.elem,s,i);mt(c)&&l.push(c)}),o.isValid&&this.setFieldValid(t,(n=o.config)==null?void 0:n.successMessage),Promise.allSettled(l).finally(()=>{var s;i&&((s=this.onValidateCallback)==null||s.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}))})}revalidateField(t){if(typeof t!="string"&&!bt(t))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const i=this.getKeyByFieldSelector(t);return!i||!this.fields[i]?(console.error("Field not found. Check the field selector."),Promise.reject()):new Promise(n=>{this.validateField(i,!0).finally(()=>{this.clearFieldStyle(i),this.clearFieldLabel(i),this.renderFieldError(i,!0),n(!!this.fields[i].isValid)})})}revalidateGroup(t){if(typeof t!="string"&&!bt(t))throw Error("Group selector is not valid. Please specify a string selector or a valid DOM element.");const i=this.getKeyByFieldSelector(t);return!i||!this.groupFields[i]?(console.error("Group not found. Check the group selector."),Promise.reject()):new Promise(n=>{this.validateGroup(i).finally(()=>{this.clearFieldLabel(i),this.renderGroupError(i,!0),n(!!this.groupFields[i].isValid)})})}validateGroup(t,i=!1){const n=this.groupFields[t],o=[];return[...n.rules].reverse().forEach(l=>{const s=this.validateGroupRule(t,n.elems,l);mt(s)&&o.push(s)}),Promise.allSettled(o).finally(()=>{var l;i&&((l=this.onValidateCallback)==null||l.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}))})}focusInvalidField(){for(const t in this.fields){const i=this.fields[t];if(!i.isValid){setTimeout(()=>i.elem.focus(),0);break}}}afterSubmitValidation(t=!1){this.renderErrors(t),this.globalConfig.focusInvalidField&&this.focusInvalidField()}validate(t=!1){return new Promise(i=>{const n=[];Object.keys(this.fields).forEach(o=>{const l=this.validateField(o);mt(l)&&n.push(l)}),Object.keys(this.groupFields).forEach(o=>{const l=this.validateGroup(o);mt(l)&&n.push(l)}),Promise.allSettled(n).then(()=>{var o;this.afterSubmitValidation(t),(o=this.onValidateCallback)==null||o.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}),i(!!n.length)})})}revalidate(){return new Promise(t=>{this.validateHandler(void 0,!0).finally(()=>{this.globalConfig.focusInvalidField&&this.focusInvalidField(),t(this.isValid)})})}validateHandler(t,i=!1){return this.globalConfig.lockForm&&this.lockForm(),this.validate(i).finally(()=>{var n,o,l;this.globalConfig.lockForm&&this.unlockForm(),this.isValid?((n=this.onSuccessCallback)==null||n.call(this,t),this.globalConfig.submitFormAutomatically&&((o=t==null?void 0:t.currentTarget)==null||o.submit())):(l=this.onFailCallback)==null||l.call(this,this.getCompatibleFields(),this.groupFields)})}setForm(t){this.form=t,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}addListener(t,i,n){i.addEventListener(t,n),this.eventListeners.push({type:t,elem:i,func:n})}removeListener(t,i,n){i.removeEventListener(t,n),this.eventListeners=this.eventListeners.filter(o=>o.type!==t||o.elem!==i)}addField(t,i,n){if(typeof t!="string"&&!bt(t))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");let o;if(typeof t=="string"?o=this.form.querySelector(t):o=t,!o)throw Error("Field doesn't exist in the DOM! Please check the field selector.");if(!Array.isArray(i)||!i.length)throw Error("Rules argument should be an array and should contain at least 1 element.");i.forEach(s=>{if(!("rule"in s||"validator"in s||"plugin"in s))throw Error("Rules argument must contain at least one rule or validator property.");if(!s.validator&&!s.plugin&&(!s.rule||!Object.values(pe).includes(s.rule)))throw Error(`Rule should be one of these types: ${Object.values(pe).join(", ")}. Provided value: ${s.rule}`)});const l=this.setKeyByFieldSelector(t);return this.fields[l]={elem:o,rules:i,isValid:void 0,touched:!1,config:n},this.setListeners(o),(this.isSubmitted||this.globalConfig.validateBeforeSubmitting)&&this.validateField(l),this}removeField(t){if(typeof t!="string"&&!bt(t))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const i=this.getKeyByFieldSelector(t);if(!i||!this.fields[i])return console.error("Field not found. Check the field selector."),this;const n=this.getListenerType(this.fields[i].elem.type);return this.removeListener(n,this.fields[i].elem,this.handlerChange),this.clearErrors(),delete this.fields[i],this}removeGroup(t){if(typeof t!="string")throw Error("Group selector is not valid. Please specify a string selector.");const i=this.getKeyByFieldSelector(t);return!i||!this.groupFields[i]?(console.error("Group not found. Check the group selector."),this):(this.groupFields[i].elems.forEach(n=>{const o=this.getListenerType(n.type);this.removeListener(o,n,this.handlerChange)}),this.clearErrors(),delete this.groupFields[i],this)}addRequiredGroup(t,i,n,o){if(typeof t!="string"&&!bt(t))throw Error("Group selector is not valid. Please specify a string selector or a valid DOM element.");let l;if(typeof t=="string"?l=this.form.querySelector(t):l=t,!l)throw Error("Group selector not found! Please check the group selector.");const s=l.querySelectorAll("input"),c=Array.from(s).filter(v=>{const E=Jn(this.groupFields,Kn(v));return E?E[1].elems.find(h=>h!==v):!0}),g=this.setKeyByFieldSelector(t);return this.groupFields[g]={rules:[{rule:Dt.Required,errorMessage:i,successMessage:o}],groupElem:l,elems:c,touched:!1,isValid:void 0,config:n},s.forEach(v=>{this.setListeners(v)}),this}getListenerType(t){switch(t){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListeners(t){const i=this.getListenerType(t.type);this.removeListener(i,t,this.handlerChange),this.addListener(i,t,this.handlerChange)}clearFieldLabel(t){var i,n;(i=this.errorLabels[t])==null||i.remove(),(n=this.successLabels[t])==null||n.remove()}clearFieldStyle(t){var i,n,o,l;const s=this.fields[t],c=((i=s.config)==null?void 0:i.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(c).forEach(v=>{s.elem.style[v]=""});const g=((n=s.config)==null?void 0:n.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(g).forEach(v=>{s.elem.style[v]=""}),s.elem.classList.remove(...Ze(((o=s.config)==null?void 0:o.errorFieldCssClass)||this.globalConfig.errorFieldCssClass),...Ze(((l=s.config)==null?void 0:l.successFieldCssClass)||this.globalConfig.successFieldCssClass))}clearErrors(){var t,i;Object.keys(this.errorLabels).forEach(n=>this.errorLabels[n].remove()),Object.keys(this.successLabels).forEach(n=>this.successLabels[n].remove());for(const n in this.fields)this.clearFieldStyle(n);for(const n in this.groupFields){const o=this.groupFields[n],l=((t=o.config)==null?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(l).forEach(c=>{o.elems.forEach(g=>{var v;g.style[c]="",g.classList.remove(...Ze(((v=o.config)==null?void 0:v.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))})});const s=((i=o.config)==null?void 0:i.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(s).forEach(c=>{o.elems.forEach(g=>{var v;g.style[c]="",g.classList.remove(...Ze(((v=o.config)==null?void 0:v.successFieldCssClass)||this.globalConfig.successFieldCssClass))})})}this.tooltips=[]}isTooltip(){return!!this.globalConfig.tooltip}lockForm(){const t=this.form.querySelectorAll("input, textarea, button, select");for(let i=0,n=t.length;i<n;++i)t[i].setAttribute("data-just-validate-fallback-disabled",t[i].disabled?"true":"false"),t[i].setAttribute("disabled","disabled"),t[i].style.pointerEvents="none",t[i].style.webkitFilter="grayscale(100%)",t[i].style.filter="grayscale(100%)"}unlockForm(){const t=this.form.querySelectorAll("input, textarea, button, select");for(let i=0,n=t.length;i<n;++i)t[i].getAttribute("data-just-validate-fallback-disabled")!=="true"&&t[i].removeAttribute("disabled"),t[i].style.pointerEvents="",t[i].style.webkitFilter="",t[i].style.filter=""}renderTooltip(t,i,n){var o;const{top:l,left:s,width:c,height:g}=t.getBoundingClientRect(),v=i.getBoundingClientRect(),E=n||((o=this.globalConfig.tooltip)==null?void 0:o.position);switch(E){case"left":{i.style.top=`${l+g/2-v.height/2}px`,i.style.left=`${s-v.width-Lt}px`;break}case"top":{i.style.top=`${l-v.height-Lt}px`,i.style.left=`${s+c/2-v.width/2}px`;break}case"right":{i.style.top=`${l+g/2-v.height/2}px`,i.style.left=`${s+c+Lt}px`;break}case"bottom":{i.style.top=`${l+g+Lt}px`,i.style.left=`${s+c/2-v.width/2}px`;break}}return i.dataset.direction=E,{refresh:()=>{this.renderTooltip(t,i,n)}}}createErrorLabelElem(t,i,n){const o=document.createElement("div");o.innerHTML=i;const l=this.isTooltip()?n==null?void 0:n.errorLabelStyle:(n==null?void 0:n.errorLabelStyle)||this.globalConfig.errorLabelStyle;return Object.assign(o.style,l),o.classList.add(...Ze((n==null?void 0:n.errorLabelCssClass)||this.globalConfig.errorLabelCssClass),"just-validate-error-label"),this.isTooltip()&&(o.dataset.tooltip="true"),this.globalConfig.testingMode&&(o.dataset.testId=`error-label-${t}`),this.errorLabels[t]=o,o}createSuccessLabelElem(t,i,n){if(i===void 0)return null;const o=document.createElement("div");o.innerHTML=i;const l=(n==null?void 0:n.successLabelStyle)||this.globalConfig.successLabelStyle;return Object.assign(o.style,l),o.classList.add(...Ze((n==null?void 0:n.successLabelCssClass)||this.globalConfig.successLabelCssClass),"just-validate-success-label"),this.globalConfig.testingMode&&(o.dataset.testId=`success-label-${t}`),this.successLabels[t]=o,o}renderErrorsContainer(t,i){const n=i||this.globalConfig.errorsContainer;if(typeof n=="string"){const o=this.form.querySelector(n);if(o)return o.appendChild(t),!0;console.error(`Error container with ${n} selector not found. Errors will be rendered as usual`)}return n instanceof Element?(n.appendChild(t),!0):(n!==void 0&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}renderGroupLabel(t,i,n,o){!o&&this.renderErrorsContainer(i,n)||t.appendChild(i)}renderFieldLabel(t,i,n,o){var l,s,c,g,v,E,h;if(!(!o&&this.renderErrorsContainer(i,n)))if(t.type==="checkbox"||t.type==="radio"){const f=document.querySelector(`label[for="${t.getAttribute("id")}"]`);((s=(l=t.parentElement)==null?void 0:l.tagName)==null?void 0:s.toLowerCase())==="label"?(g=(c=t.parentElement)==null?void 0:c.parentElement)==null||g.appendChild(i):f?(v=f.parentElement)==null||v.appendChild(i):(E=t.parentElement)==null||E.appendChild(i)}else(h=t.parentElement)==null||h.appendChild(i)}showLabels(t,i){Object.keys(t).forEach((n,o)=>{const l=t[n],s=this.getKeyByFieldSelector(n);if(!s||!this.fields[s]){console.error("Field not found. Check the field selector.");return}const c=this.fields[s];c.isValid=!i,this.clearFieldStyle(s),this.clearFieldLabel(s),this.renderFieldError(s,!1,l),o===0&&this.globalConfig.focusInvalidField&&setTimeout(()=>c.elem.focus(),0)})}showErrors(t){if(typeof t!="object")throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(t,!0)}showSuccessLabels(t){if(typeof t!="object")throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(t,!1)}renderFieldError(t,i=!1,n){var o,l,s,c,g,v;const E=this.fields[t];if(E.isValid===!1&&(this.isValid=!1),E.isValid===void 0||!i&&!this.isSubmitted&&!E.touched&&n===void 0)return;if(E.isValid){if(!E.asyncCheckPending){const f=this.createSuccessLabelElem(t,n!==void 0?n:E.successMessage,E.config);f&&this.renderFieldLabel(E.elem,f,(o=E.config)==null?void 0:o.errorsContainer,!0),E.elem.classList.add(...Ze(((l=E.config)==null?void 0:l.successFieldCssClass)||this.globalConfig.successFieldCssClass))}return}E.elem.classList.add(...Ze(((s=E.config)==null?void 0:s.errorFieldCssClass)||this.globalConfig.errorFieldCssClass));const h=this.createErrorLabelElem(t,n!==void 0?n:E.errorMessage,E.config);this.renderFieldLabel(E.elem,h,(c=E.config)==null?void 0:c.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(E.elem,h,(v=(g=E.config)==null?void 0:g.tooltip)==null?void 0:v.position))}renderGroupError(t,i=!0){var n,o,l,s;const c=this.groupFields[t];if(c.isValid===!1&&(this.isValid=!1),c.isValid===void 0||!i&&!this.isSubmitted&&!c.touched)return;if(c.isValid){c.elems.forEach(E=>{var h,f;Object.assign(E.style,((h=c.config)==null?void 0:h.successFieldStyle)||this.globalConfig.successFieldStyle),E.classList.add(...Ze(((f=c.config)==null?void 0:f.successFieldCssClass)||this.globalConfig.successFieldCssClass))});const v=this.createSuccessLabelElem(t,c.successMessage,c.config);v&&this.renderGroupLabel(c.groupElem,v,(n=c.config)==null?void 0:n.errorsContainer,!0);return}this.isValid=!1,c.elems.forEach(v=>{var E,h;Object.assign(v.style,((E=c.config)==null?void 0:E.errorFieldStyle)||this.globalConfig.errorFieldStyle),v.classList.add(...Ze(((h=c.config)==null?void 0:h.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))});const g=this.createErrorLabelElem(t,c.errorMessage,c.config);this.renderGroupLabel(c.groupElem,g,(o=c.config)==null?void 0:o.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(c.groupElem,g,(s=(l=c.config)==null?void 0:l.tooltip)==null?void 0:s.position))}renderErrors(t=!1){if(!(!this.isSubmitted&&!t&&!this.globalConfig.validateBeforeSubmitting)){this.clearErrors(),this.isValid=!0;for(const i in this.groupFields)this.renderGroupError(i);for(const i in this.fields)this.renderFieldError(i)}}destroy(){this.eventListeners.forEach(t=>{this.removeListener(t.type,t.elem,t.func)}),Object.keys(this.customStyleTags).forEach(t=>{this.customStyleTags[t].remove()}),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}refresh(){this.destroy(),this.form?(this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach(t=>{const i=this.getFieldSelectorByKey(t);i&&this.addField(i,[...this.fields[t].rules],this.fields[t].config)})):console.error("Cannot initialize the library! Form is not defined")}setCurrentLocale(t){if(typeof t!="string"&&t!==void 0){console.error("Current locale should be a string");return}this.currentLocale=t,this.isSubmitted&&this.validate()}onSuccess(t){return this.onSuccessCallback=t,this}onFail(t){return this.onFailCallback=t,this}onValidate(t){return this.onValidateCallback=t,this}}/*! License details at fancyapps.com/license */const De=e=>typeof e=="object"&&e!==null&&e.constructor===Object&&Object.prototype.toString.call(e)==="[object Object]";/*! License details at fancyapps.com/license */const Ae=e=>typeof e=="string";/*! License details at fancyapps.com/license */const ht=e=>e&&e!==null&&e instanceof Element&&"nodeType"in e;/*! License details at fancyapps.com/license */const lt=function(e){var t=new DOMParser().parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var i=document.createElement("div");t.firstChild;)i.appendChild(t.firstChild);return i}let n=t.firstChild;return!n||n instanceof HTMLElement?n:((i=document.createElement("div")).appendChild(n),i)};/*! License details at fancyapps.com/license */const ei=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY,n=i.indexOf("hidden")!==-1,o=i.indexOf("visible")!==-1;return t&&!n&&!o},ct=function(e,t=void 0){return!e||e===document.body||t&&e===t?null:ei(e)?e:ct(e.parentElement,t)};/*! License details at fancyapps.com/license */const Kt=(e=!0,t="--f-scrollbar-compensate",i="--f-body-margin",n="hide-scrollbar")=>{const o=document,l=o.body,s=o.documentElement;if(e){if(l.classList.contains(n))return;let c=window.innerWidth-s.getBoundingClientRect().width;c<0&&(c=0),s.style.setProperty(t,`${c}px`);const g=parseFloat(window.getComputedStyle(l).marginRight);g&&l.style.setProperty(i,`${g}px`),l.classList.add(n)}else l.classList.remove(n),l.style.setProperty(i,""),o.documentElement.style.setProperty(t,"")};/*! License details at fancyapps.com/license */const Ne=(e,...t)=>{const i=t.length;for(let n=0;n<i;n++){const o=t[n]||{};Object.entries(o).forEach(([l,s])=>{const c=Array.isArray(s)?[]:{};e[l]||Object.assign(e,{[l]:c}),De(s)?Object.assign(e[l],Ne(e[l],s)):Array.isArray(s)?Object.assign(e,{[l]:[...s]}):Object.assign(e,{[l]:s})})}return e};/*! License details at fancyapps.com/license */function Mn(){return!(typeof window>"u"||!window.document||!window.document.createElement)}/*! License details at fancyapps.com/license */const me=function(e=0,t=0,i=0){return Math.max(Math.min(t,i),e)};/*! License details at fancyapps.com/license */const Ht=function(e=0,t=0,i=0,n=0,o=0,l=!1){const s=(e-t)/(i-t)*(o-n)+n;return l?n<o?me(n,s,o):me(o,s,n):s};/*! License details at fancyapps.com/license */const ve=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(i=>{i&&e.classList.add(i)})};/*! License details at fancyapps.com/license */function Jt(e){return De(e)||Array.isArray(e)}function Nt(e,t){const i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every(o=>{const l=e[o],s=t[o];return typeof l=="function"?`${l}`==`${s}`:Jt(l)&&Jt(s)?Nt(l,s):l===s})}/*! License details at fancyapps.com/license */const Cn=function(e){for(const t of Ot)t.getState()===Re.Running&&t.tick(It?e-It:0);It=e,vt=window.requestAnimationFrame(Cn)};var Re,ot,gt;(function(e){e[e.Initializing=0]="Initializing",e[e.Running=1]="Running",e[e.Paused=2]="Paused",e[e.Completed=3]="Completed",e[e.Destroyed=4]="Destroyed"})(Re||(Re={})),function(e){e[e.Spring=0]="Spring",e[e.Ease=1]="Ease"}(ot||(ot={})),function(e){e[e.Loop=0]="Loop",e[e.Reverse=1]="Reverse"}(gt||(gt={}));const Ot=new Set;let vt=null,It=0;function rt(){let e=Re.Initializing,t=ot.Ease,i=0,n=0,o=rt.Easings.Linear,l=500,s=0,c=0,g=0,v=0,E=1/0,h=.01,f=.01,r=!1,p={},a=null,C={},F={},I={},k=0,T=0,L=gt.Loop,_=rt.Easings.Linear;const V=new Map;function R(se,...j){for(const be of V.get(se)||[])be(...j)}function re(se){return n=0,se?a=setTimeout(()=>{he()},se):he(),ae}function he(){e=Re.Running,R("start",C,F)}function fe(){if(e=Re.Completed,I={},R("end",C),e===Re.Completed)if(i<k){if(i++,L===gt.Reverse){const se=Object.assign({},p);p=Object.assign({},F),F=se}re(T)}else i=0;return ae}const ae={getState:function(){return e},easing:function(se){return o=se,t=ot.Ease,I={},ae},duration:function(se){return l=se,ae},spring:function(se={}){t=ot.Spring;const j={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0},{velocity:be,mass:Ee,tension:we,friction:J,restDelta:X,restSpeed:ee,maxSpeed:D,clamp:de}=Object.assign(Object.assign({},j),se);return s=be,c=Ee,g=we,v=J,f=X,h=ee,E=D,r=de,I={},ae},isRunning:function(){return e===Re.Running},isSpring:function(){return t===ot.Spring},from:function(se){return C=Object.assign({},se),ae},to:function(se){return F=se,ae},repeat:function(se,j=0,be=gt.Loop,Ee){return k=se,T=j,L=be,_=Ee||o,ae},on:function(se,j){var be,Ee;return be=se,Ee=j,V.set(be,[...V.get(be)||[],Ee]),ae},off:function(se,j){var be,Ee;return be=se,Ee=j,V.has(be)&&V.set(be,V.get(be).filter(we=>we!==Ee)),ae},start:function(se){return e=Re.Initializing,p=Object.assign({},C),Nt(p,F)||(Ot.add(this),vt||(vt=window.requestAnimationFrame(Cn)),re(se)),ae},pause:function(){return a&&(clearTimeout(a),a=null),e===Re.Running&&(e=Re.Paused,R("pause",C)),ae},end:fe,tick:function(se){se>50&&(se=50),n+=se;let j=0,be=!1;if(e!==Re.Running)return ae;if(t===ot.Ease){j=me(0,n/l,1),be=j===1;const we=L===gt.Reverse?_:o;for(const J in C)C[J]=p[J]+(F[J]-p[J])*we(j)}if(t===ot.Spring){const we=.001*se;let J=0;for(const X in C){const ee=F[X];let D=C[X];if(typeof ee!="number"||isNaN(ee)||typeof D!="number"||isNaN(D))continue;if(Math.abs(ee-D)<=f){C[X]=ee,I[X]=0;continue}I[X]||(typeof s=="object"&&typeof s[X]=="number"?I[X]=s[X]:I[X]=typeof s=="number"?s:0);let de=I[X];de=me(-1*Math.abs(E),de,Math.abs(E));const Le=de*c*v;de+=((D>ee?-1:1)*(Math.abs(ee-D)*g)-Le)/c*we,D+=de*we;const je=C[X]>ee?D<ee:D>ee;let ye=Math.abs(de)<h&&Math.abs(ee-D)<=f;r&&je&&(ye=!0),ye?(D=ee,de=0):J++,C[X]=D,I[X]=de}be=!J}const Ee=Object.assign({},F);return R("step",C,p,F,j),be&&e===Re.Running&&Nt(F,Ee)&&(e=Re.Completed,fe()),ae},getStartValues:function(){return p},getCurrentValues:function(){return C},getCurrentVelocities:function(){return I},getEndValues:function(){return F},destroy:function(){e=Re.Destroyed,a&&(clearTimeout(a),a=null),p=C=F={},Ot.delete(this)}};return ae}rt.destroy=()=>{for(const e of Ot)e.destroy();vt&&(cancelAnimationFrame(vt),vt=null)},rt.Easings={Linear:function(e){return e},EaseIn:function(e){return e===0?0:Math.pow(2,10*e-10)},EaseOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};/*! License details at fancyapps.com/license */function kt(e){const t=[],i=typeof TouchEvent<"u"&&e instanceof TouchEvent?e.touches:e instanceof MouseEvent&&e.type!=="mouseup"?[e]:[];for(const n of i)t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function Fn(e){const t=[],i=typeof TouchEvent<"u"&&e instanceof TouchEvent?e.changedTouches:e instanceof MouseEvent?[e]:[];for(const n of i)t.push({x:n.clientX,y:n.clientY,ts:Date.now()});return t}function it(e){const t=e[0],i=e[1]||t;return{x:(t.x+i.x)/2,y:(t.y+i.y)/2,ts:i.ts}}function St(e){const t=e[0],i=e[1]||e[0];return t&&i?-1*Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)):0}const Qt=e=>{e.cancelable&&e.preventDefault()},nt={passive:!1},ti={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let zt=!1,Et=!0;const pt=(e,t)=>{let i,n,o,l=Object.assign(Object.assign({},ti),t),s=[],c=[],g=[],v=!1,E=!1,h=!1,f=0,r=0,p=0,a=0,C=0,F=0,I=0,k=0,T=0,L=[],_=0,V=0;const R=new Map;function re(X){const ee=St(c),D=St(g),de=ee&&D?ee/D:0,Le=Math.abs(I)>Math.abs(k)?I:k,je={srcEvent:i,isPanRecognized:v,isSwipeRecognized:E,firstTouch:s,previousTouch:g,currentTouch:c,deltaX:p,deltaY:a,offsetX:C,offsetY:F,velocityX:I,velocityY:k,velocity:Le,angle:T,axis:o,scale:de,center:n};for(const ye of R.get(X)||[])ye(je)}function he(X){const ee=Date.now();L=L.filter(D=>!D.ts||D.ts>ee-100),X&&L.push(X)}function fe(){if(I=0,k=0,L.length>3){const X=L[0],ee=L[L.length-1];if(X&&ee){const D=ee.x-X.x,de=ee.y-X.y,Le=X.ts&&ee.ts?ee.ts-X.ts:0;Le>0&&(I=Math.abs(D)>3?D/(Le/30):0,k=Math.abs(de)>3?de/(Le/30):0)}}}function ae(X){if(X instanceof MouseEvent){if(zt)return}else zt=!0;const ee=X.composedPath()[0],D=l.ignore.join(",");if(ee.matches(D)||ee.closest(D)||typeof MouseEvent<"u"&&X instanceof MouseEvent&&(!X.buttons||X.button!==0))return;X instanceof MouseEvent&&Qt(X);const de=Date.now(),Le=de-(f||de);h=Le>0&&Le<=250,f=de,clearTimeout(_),i=X,X instanceof MouseEvent&&(window.addEventListener("mousemove",se),window.addEventListener("mouseup",j)),window.addEventListener("blur",be),c=kt(X),s=[...c],g=[],r=c.length,n=it(c),r===1&&(v=!1,E=!1),r&&he(it(c)),re("start")}function se(X){var ee;if(!s.length||X.defaultPrevented)return;i=X,g=[...c],c=kt(X),r=c.length,n=it(c);const D=n,de=it(g);if(p=D.x-de.x,a=D.y-de.y,he(D),fe(),re("move"),c.length>1){const Le=St(c),je=St(g);Math.abs(Le-je)>=.1&&re("pinch")}if(!v&&s.length){const Le=it(s);C=D.x-Le.x,F=D.y-Le.y,v=Math.abs(C)>l.panThreshold||Math.abs(F)>l.panThreshold,v&&(Et=!1,clearTimeout(V),V=0,T=Math.abs(180*Math.atan2(F,C)/Math.PI),o=T>45&&T<135?"y":"x",s=[...c],g=[...c],(ee=window.getSelection())===null||ee===void 0||ee.removeAllRanges(),re("panstart"))}v&&(p||a)&&re("pan")}function j(X){if(i=X,!s.length)return;const ee=kt(X),D=Fn(X);if(r=ee.length,n=it(D),D.length&&he(it(D)),fe(),g=[...c],c=[...ee],s=[...ee],ee.length>0)re("end"),v=!1,E=!1,L=[];else{const de=l.swipeThreshold;(Math.abs(I)>de||Math.abs(k)>de)&&(E=!0),v&&re("panend"),E&&re("swipe"),v||E||(re("tap"),h?re("doubleTap"):_=setTimeout(function(){re("singleTap")},250)),re("end"),Ee()}}function be(){clearTimeout(_),Ee(),v&&re("panend"),re("end")}function Ee(){v=!1,E=!1,h=!1,r=0,L=[],c=[],g=[],s=[],p=0,a=0,C=0,F=0,I=0,k=0,T=0,o=void 0,window.removeEventListener("mousemove",se),window.removeEventListener("mouseup",j),window.removeEventListener("blur",be),Et||V||(V=setTimeout(()=>{Et=!0,V=0},100))}function we(X){const ee=X.target;zt=!1,ee&&!X.defaultPrevented&&(Et||(Qt(X),X.stopPropagation()))}const J={init:function(){if(e)return e.addEventListener("click",we,nt),e.addEventListener("mousedown",ae,nt),e.addEventListener("touchstart",ae,nt),e.addEventListener("touchmove",se,nt),e.addEventListener("touchend",j),e.addEventListener("touchcancel",j),J},on:function(X,ee){return function(D,de){R.set(D,[...R.get(D)||[],de])}(X,ee),J},off:function(X,ee){return R.has(X)&&R.set(X,R.get(X).filter(D=>D!==ee)),J},isPointerDown:()=>r>0,destroy:function(){clearTimeout(_),clearTimeout(V),V=0,e&&(e.removeEventListener("click",we,nt),e.removeEventListener("mousedown",ae,nt),e.removeEventListener("touchstart",ae,nt),e.removeEventListener("touchmove",se,nt),e.removeEventListener("touchend",j),e.removeEventListener("touchcancel",j)),e=null,Ee()}};return J};pt.isClickAllowed=()=>Et;/*! License details at fancyapps.com/license */const Xt={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset"};/*! License details at fancyapps.com/license */const Ue=(e,t="")=>{e&&e.classList&&t.split(" ").forEach(i=>{i&&e.classList.remove(i)})};/*! License details at fancyapps.com/license */const ze=(e,t="",i)=>{e&&e.classList&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,i||!1)})};/*! License details at fancyapps.com/license */const Mt=e=>{e.cancelable&&e.preventDefault()},Ve=(e,t=1e4)=>(e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t),Ye=e=>e instanceof HTMLImageElement;var K,en;(function(e){e.Reset="reset",e.Zoom="zoom",e.ZoomIn="zoomIn",e.ZoomOut="zoomOut",e.ZoomTo="zoomTo",e.ToggleCover="toggleCover",e.ToggleFull="toggleFull",e.ToggleMax="toggleMax",e.IterateZoom="iterateZoom",e.Pan="pan",e.Swipe="swipe",e.Move="move",e.MoveLeft="moveLeft",e.MoveRight="moveRight",e.MoveUp="moveUp",e.MoveDown="moveDown",e.RotateCCW="rotateCCW",e.RotateCW="rotateCW",e.FlipX="flipX",e.FlipY="flipY"})(K||(K={})),function(e){e.Cover="cover",e.Full="full",e.Max="max"}(en||(en={}));const We={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},qt={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:K.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:Xt,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:K.Zoom,width:"auto"};let Ct,tn=0,nn=0,Ft=0;const Gt=(e,t={},i={})=>{let n,o,l,s,c,g,v,E,h=0,f=Object.assign(Object.assign({},qt),t),r={},p=Object.assign({},We),a=Object.assign({},We);const C=[];function F(d){let m=f[d];return m&&typeof m=="function"?m(H):m}function I(){return e&&e.parentElement&&n&&h===3}const k=new Map;function T(d,...m){const O=[...k.get(d)||[]];f.on&&O.push(f.on[d]);for(const S of O)S&&S instanceof Function&&S(H,...m);d!=="*"&&T("*",d,...m)}function L(d){if(!I())return;const m=d.target;if(ct(m))return;const O=Date.now(),S=[-d.deltaX||0,-d.deltaY||0,-d.detail||0].reduce(function(Q,te){return Math.abs(te)>Math.abs(Q)?te:Q}),M=me(-1,S,1);T("wheel",d,M);const Z=F("wheelAction");if(!Z||d.defaultPrevented)return;const ie=a.scale;let q=ie*(M>0?1.5:.5);if(Z===K.Zoom){const Q=Math.abs(d.deltaY)<100&&Math.abs(d.deltaX)<100;if(O-nn<(Q?200:45))return void Mt(d);nn=O;const te=we(),oe=D();if(Ve(q)<Ve(te)&&Ve(ie)<=Ve(te)?(Ft+=Math.abs(M),q=te):Ve(q)>Ve(oe)&&Ve(ie)>=Ve(oe)?(Ft+=Math.abs(M),q=oe):(Ft=0,q=me(te,q,oe)),Ft>7)return}switch(Mt(d),Z){case K.Pan:ye(Z,{srcEvent:d,deltaX:2*-d.deltaX,deltaY:2*-d.deltaY});break;case K.Zoom:ye(K.ZoomTo,{srcEvent:d,scale:q,center:{x:d.clientX,y:d.clientY}});break;default:ye(Z,{srcEvent:d})}}function _(d){var m,O;const S=d.composedPath()[0];if(!pt.isClickAllowed()||!ht(S)||d.defaultPrevented||!(e!=null&&e.contains(S))||S.hasAttribute("disabled")||S.hasAttribute("aria-disabled"))return;const M=S.closest("[data-panzoom-action]"),Z=(m=M==null?void 0:M.dataset)===null||m===void 0?void 0:m.panzoomAction,ie=((O=M==null?void 0:M.dataset)===null||O===void 0?void 0:O.panzoomValue)||"";if(Z){switch(Z){case K.ZoomTo:case K.ZoomIn:case K.ZoomOut:ye(Z,{scale:parseFloat(ie||"")||void 0});break;case K.MoveLeft:case K.MoveRight:ye(Z,{deltaX:parseFloat(ie||"")||void 0});break;case K.MoveUp:case K.MoveDown:ye(Z,{deltaY:parseFloat(ie||"")||void 0});break;default:ye(Z)}return}if(!(n!=null&&n.contains(S)))return;const q={srcEvent:d};if(ye(F("clickAction"),q),F("dblClickAction")){const Q=Date.now(),te=Q-(tn||Q);tn=Q,te>0&&te<=250?(Ct&&(clearTimeout(Ct),Ct=void 0),ye(F("dblClickAction"),q)):Ct=setTimeout(()=>{ye(F("singleClickAction"),q)},250)}}function V(d){if(E=d,!I()||!j()||p.scale<=1||a.scale<=1||((n==null?void 0:n.dataset.animationName)||"").indexOf("zoom")>-1)return;const m=be(a.scale);if(!m)return;const{x:O,y:S}=m;ye(K.Pan,{deltaX:O-a.x,deltaY:S-a.y})}function R(){var d;e&&(Ue(e,"is-loading"),(d=e.querySelector(".f-spinner"))===null||d===void 0||d.remove())}function re(){if(!e||!o)return;if(R(),Ye(o)&&(!o.complete||!o.naturalWidth))return h=2,n==null||n.classList.add("has-error"),void T("error");T("loaded");const{width:d,height:m}=ae();Ye(o)&&(o.setAttribute("width",d+""),o.setAttribute("height",m+"")),n&&(Ue(n,"has-error"),Ye(o)&&(n.setAttribute("width",d+""),n.setAttribute("height",m+""),n.style.aspectRatio=`${d/m||""}`)),g=rt().on("start",(S,M)=>{a=Object.assign(Object.assign({},We),M),M.angle!==void 0&&(M.angle=90*Math.round(M.angle/90)),M.flipX!==void 0&&(M.flipX=M.flipX>0?1:-1),M.flipY!==void 0&&(M.flipY=M.flipY>0?1:-1),je(),T("animationStart")}).on("pause",S=>{a=Object.assign(Object.assign({},We),S)}).on("step",S=>{if(!I())return void(g==null||g.end());if(p=Object.assign(Object.assign({},We),S),j()||!F("bounds")||U()||a.scale>p.scale||a.scale<J())return void He();const M=de(a.scale);let Z=!1,ie=!1,q=!1,Q=!1;p.x<M.x[0]&&(Z=!0),p.x>M.x[1]&&(ie=!0),p.y<M.y[0]&&(Q=!0),p.y>M.y[1]&&(q=!0);let te=!1,oe=!1,ce=!1,ue=!1;a.x<M.x[0]&&(te=!0),a.x>M.x[1]&&(oe=!0),a.y<M.y[0]&&(ue=!0),a.y>M.y[1]&&(ce=!0);let Me=!1;(ie&&oe||Z&&te)&&(a.x=me(M.x[0],a.x,M.x[1]),Me=!0),(q&&ce||Q&&ue)&&(a.y=me(M.y[0],a.y,M.y[1]),Me=!0),Me&&g&&g.spring({tension:94,friction:17,maxSpeed:555*a.scale,restDelta:.1,restSpeed:.1,velocity:g.getCurrentVelocities()}).from(p).to(a).start(),He()}).on("end",()=>{Le(),g!=null&&g.isRunning()||(je(),T("animationEnd"))}),function(){const S=F("gestures");S&&s&&o&&(c=pt(s,S).on("start",M=>{if(!g)return;const Z=M.srcEvent;j()||((p.scale>1||M.currentTouch.length>1)&&(Z==null||Z.stopPropagation(),g.pause()),M.currentTouch.length===1&&T("touchStart"))}).on("move",M=>{j()||(a.scale!==1||M.currentTouch.length>1)&&(M.srcEvent.preventDefault(),M.srcEvent.stopPropagation())}).on("pan",M=>{if(!I()||j())return;const Z=M.srcEvent;(a.scale!==1||M.currentTouch.length>1)&&(Mt(Z),ye(K.Pan,M))}).on("swipe",M=>{I()&&!j()&&a.scale>1&&ye(K.Swipe,M)}).on("tap",M=>{T("click",M)}).on("singleTap",M=>{T("singleClick",M)}).on("doubleTap",M=>{T("dblClick",M)}).on("pinch",M=>{j()||(M.scale>J()?ye(K.ZoomIn,M):M.scale<J()?ye(K.ZoomOut,M):ye(K.Pan,M))}).on("end",M=>{j()||(M.currentTouch.length?(M.srcEvent.stopPropagation(),Mt(M.srcEvent),g==null||g.end()):(je(),Le(),T("touchEnd")))}).init())}(),s&&(s.addEventListener("wheel",L,{passive:!1}),C.push(()=>{s==null||s.removeEventListener("wheel",L,{passive:!1})})),e==null||e.addEventListener("click",_),document==null||document.addEventListener("mousemove",V),C.push(()=>{e==null||e.removeEventListener("click",_),document==null||document.removeEventListener("mousemove",V)});const O=he();p=Object.assign({},O),a=Object.assign({},O),h=3,He(),je(),T("ready"),requestAnimationFrame(()=>{R(),s&&(s.style.visibility="")})}function he(){const d=Object.assign({},F("startPos")||{});let m=d.scale,O=1;O=typeof m=="string"?Ee(m):typeof m=="number"?m:J();const S=Object.assign(Object.assign(Object.assign({},We),d),{scale:O}),M=j()?be(O):void 0;if(M){const{x:Z,y:ie}=M;S.x=Z,S.y=ie}return S}function fe(){const d={top:0,left:0,width:0,height:0};if(n){const m=n.getBoundingClientRect();a.angle%180==90?(d.top=m.top+.5*m.height-.5*m.width,d.left=m.left+.5*m.width-.5*m.height,d.width=m.height,d.height=m.width):(d.top=m.top,d.left=m.left,d.width=m.width,d.height=m.height)}return d}function ae(){let d=F("width"),m=F("height");if(o&&d==="auto"){const O=o.getAttribute("width");d=O?parseFloat(O+""):o.dataset.width!==void 0?parseFloat(o.dataset.width+""):Ye(s)?s.naturalWidth:Ye(o)?o.naturalWidth:o.getBoundingClientRect().width}else d=Ae(d)?parseFloat(d):d;if(o&&m==="auto"){const O=o.getAttribute("height");m=O?parseFloat(O+""):o.dataset.height!==void 0?parseFloat(o.dataset.height+""):Ye(s)?s.naturalHeight:Ye(o)?o.naturalHeight:o.getBoundingClientRect().height}else m=Ae(m)?parseFloat(m):m;return{width:d,height:m}}function se(){const d=fe();return{width:d.width,height:d.height}}function j(){return F("panMode")==="mousemove"&&matchMedia("(hover: hover)").matches}function be(d){const m=E||F("event"),O=n==null?void 0:n.getBoundingClientRect();if(!m||!O||d<=1)return{x:0,y:0};const S=(m.clientX||0)-O.left,M=(m.clientY||0)-O.top,{width:Z,height:ie}=se(),q=de(d);if(d>1){const ue=F("mouseMoveFactor");ue>1&&(d*=ue)}let Q=Z*d,te=ie*d,oe=.5*(Q-Z)-S/Z*100/100*(Q-Z),ce=.5*(te-ie)-M/ie*100/100*(te-ie);return oe=me(q.x[0],oe,q.x[1]),ce=me(q.y[0],ce,q.y[1]),{x:oe,y:ce}}function Ee(d="base"){if(!e)return 1;const m=e.getBoundingClientRect(),O=fe(),{width:S,height:M}=ae(),Z=oe=>{if(typeof oe=="number")return oe;switch(oe){case"min":case"base":return 1;case"cover":return Math.max(m.height/O.height,m.width/O.width)||1;case"full":case"max":{const ce=a.angle%180==90?M:S;return ce&&O.width?ce/O.width:1}}},ie=F("minScale"),q=F("maxScale"),Q=Math.min(Z("full"),Z(ie)),te=typeof q=="number"?Z("full")*q:Math.min(Z("full"),Z(q));switch(d){case"min":return Q;case"base":return me(Q,1,te);case"cover":return Z("cover");case"full":return Math.min(te,Z("full"));case"max":return te}}function we(){return Ee("min")}function J(){return Ee("base")}function X(){return Ee("cover")}function ee(){return Ee("full")}function D(){return Ee("max")}function de(d){const m={x:[0,0],y:[0,0]},O=e==null?void 0:e.getBoundingClientRect();if(!O)return m;const S=fe(),M=O.width,Z=O.height;let ie=S.width,q=S.height,Q=d=d===void 0?a.scale:d,te=d;if(j()&&d>1){const oe=F("mouseMoveFactor");oe>1&&(ie*d>M+.01&&(Q*=oe),q*d>Z+.01&&(te*=oe))}return ie*=Q,q*=te,d>1&&(ie>M&&(m.x[0]=.5*(M-ie),m.x[1]=.5*(ie-M)),m.x[0]-=.5*(S.left-O.left),m.x[1]-=.5*(S.left-O.left),m.x[0]-=.5*(S.left+S.width-O.right),m.x[1]-=.5*(S.left+S.width-O.right),q>Z&&(m.y[0]=.5*(Z-q),m.y[1]=.5*(q-Z)),m.y[0]-=.5*(S.top-O.top),m.y[1]-=.5*(S.top-O.top),m.y[0]-=.5*(S.top+S.height-O.bottom),m.y[1]-=.5*(S.top+S.height-O.bottom)),m}function Le(){if(!I()||!F("bounds")||!g)return;const d=we(),m=D(),O=me(d,a.scale,m);if(a.scale<d-.01||a.scale>m+.01)return void ye(K.ZoomTo,{scale:O});if(g.isRunning()||U())return;const S=de(O);a.x<S.x[0]||a.x>S.x[1]||a.y<S.y[0]||a.y>S.y[1]?(a.x=me(S.x[0],a.x,S.x[1]),a.y=me(S.y[0],a.y,S.y[1]),g.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:g.getCurrentVelocities()}),g.from(p).to(a).start()):He()}function je(){if(!I())return;const d=$(),m=U(),O=P(),S=z(),M=Je(),Z=Xe();ze(n,"is-fullsize",S),ze(n,"is-expanded",O),ze(n,"is-dragging",m),ze(n,"can-drag",d),ze(n,"will-zoom-in",M),ze(n,"will-zoom-out",Z);const ie=ke(),q=x(),Q=!I();for(const te of(e==null?void 0:e.querySelectorAll("[data-panzoom-action]"))||[]){const oe=te.dataset.panzoomAction;let ce=!1;if(Q)ce=!0;else switch(oe){case K.ZoomIn:ie||(ce=!0);break;case K.ZoomOut:q||(ce=!0);break;case K.ToggleFull:ie||q||(ce=!0);const ue=te.querySelector("g");ue&&(ue.style.display=S?"none":"");break;case K.ToggleCover:case K.ToggleMax:ie||q||(ce=!0)}ce?(te.setAttribute("aria-disabled",""),te.setAttribute("tabindex","-1")):(te.removeAttribute("aria-disabled"),te.removeAttribute("tabindex"))}}function ye(d,m){var O;if(!e||!o||!g||d===K.Swipe&&Math.abs(g.getCurrentVelocities().scale)>.01)return;let S=Object.assign({},a),M=de(j()?a.scale:p.scale);const Z=g.getCurrentVelocities(),ie=fe(),q=(((O=(m=m||{}).currentTouch)===null||O===void 0?void 0:O.length)||0)>1,Q=m.velocityX||0,te=m.velocityY||0;let oe=m.center;!oe&&m.srcEvent&&(oe=it(Fn(m.srcEvent)));let ce=m.deltaX||0,ue=m.deltaY||0;switch(d){case K.MoveRight:ce=m.deltaX||100;break;case K.MoveLeft:ce=m.deltaX||-100;break;case K.MoveUp:ue=m.deltaY||-100;break;case K.MoveDown:ue=m.deltaY||100}let Me=[];switch(d){case K.Reset:a=Object.assign({},We),a.scale=J();break;case K.Pan:case K.Move:case K.MoveLeft:case K.MoveRight:case K.MoveUp:case K.MoveDown:if(U()){let le=1,u=1;a.x<=M.x[0]&&Q<=0&&(le=Math.max(.01,1-Math.abs(1/ie.width*Math.abs(a.x-M.x[0]))),le*=.2),a.x>=M.x[1]&&Q>=0&&(le=Math.max(.01,1-Math.abs(1/ie.width*Math.abs(a.x-M.x[1]))),le*=.2),a.y<=M.y[0]&&te<=0&&(u=Math.max(.01,1-Math.abs(1/ie.height*Math.abs(a.y-M.y[0]))),u*=.2),a.y>=M.y[1]&&te>=0&&(u=Math.max(.01,1-Math.abs(1/ie.height*Math.abs(a.y-M.y[1]))),u*=.2),a.x+=ce*le,a.y+=ue*u}else a.x=me(M.x[0],a.x+ce,M.x[1]),a.y=me(M.y[0],a.y+ue,M.y[1]);break;case K.Swipe:const Se=(le=0)=>Math.sign(le)*Math.pow(Math.abs(le),1.5);a.x+=me(-1e3,Se(Q),1e3),a.y+=me(-1e3,Se(te),1e3),te&&!Q&&(a.x=me(M.x[0],a.x,M.x[1])),!te&&Q&&(a.y=me(M.y[0],a.y,M.y[1])),Z.x=Q,Z.y=te;break;case K.ZoomTo:a.scale=m.scale||1;break;case K.ZoomIn:a.scale=a.scale*(m.scale||2),q||(a.scale=Math.min(a.scale,D()));break;case K.ZoomOut:a.scale=a.scale*(m.scale||.5),q||(a.scale=Math.max(a.scale,we()));break;case K.ToggleCover:Me=[J(),X()];break;case K.ToggleFull:Me=[J(),ee()];break;case K.ToggleMax:Me=[J(),D()];break;case K.IterateZoom:Me=[J(),ee(),D()];break;case K.Zoom:const Pe=ee();a.scale>=Pe-.05?a.scale=J():a.scale=Math.min(Pe,a.scale*(m.scale||2));break;case K.RotateCW:a.angle+=90;break;case K.RotateCCW:a.angle-=90;break;case K.FlipX:a.flipX*=-1;break;case K.FlipY:a.flipY*=-1}if(p.angle!==void 0&&Math.abs(p.angle)>=360&&(a.angle-=360*Math.floor(p.angle/360),p.angle-=360*Math.floor(p.angle/360)),Me.length){const Se=Me.findIndex(Pe=>Pe>a.scale+1e-4);a.scale=Me[Se]||Me[0]}if(q&&(a.scale=me(we()*(q?.8:1),a.scale,D()*(q?1.6:1))),j()){const Se=be(a.scale);if(Se){const{x:Pe,y:le}=Se;a.x=Pe,a.y=le}}else if(a.scale!==S.scale){let Se=0,Pe=0;if(oe)Se=oe.x,Pe=oe.y;else{const w=e.getBoundingClientRect();Se=w.x+.5*w.width,Pe=w.y+.5*w.height}let le=Se-ie.left,u=Pe-ie.top;le-=.5*ie.width,u-=.5*ie.height;const b=(le-S.x)/S.scale,y=(u-S.y)/S.scale;a.x=le-b*a.scale,a.y=u-y*a.scale,!q&&F("bounds")&&(M=de(),a.x=me(M.x[0],a.x,M.x[1]),a.y=me(M.y[0],a.y,M.y[1]))}if(d===K.Swipe){let Se=94,Pe=17,le=500*a.scale,u=Z;g.spring({tension:Se,friction:Pe,maxSpeed:le,restDelta:.1,restSpeed:.1,velocity:u})}else d===K.Pan||q?g.spring({tension:900,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):g.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:Z});d===K.Reset||m.velocity===0?p=Object.assign({},a):g.from(p).to(a).start(),T("action",d)}function He(){if(!o)return;if(n){const{width:q,height:Q}=ae();n.style.maxWidth=`min(${q}px, 100%)`,n.style.maxHeight=`min(${Q}px, 100%)`}let{x:d,y:m,scale:O,angle:S,flipX:M,flipY:Z}=p;const ie=function(){const{width:q,height:Q}=ae(),{width:te,height:oe}=se();if(!e)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:te,fitHeight:oe,fullWidth:q,fullHeight:Q};let{x:ce,y:ue,scale:Me,angle:Se,flipX:Pe,flipY:le}=p,u=1/ee(),b=q,y=Q,w=p.scale*u,B=a.scale*u;const A=Math.max(te,oe),N=Math.min(te,oe);q>Q?(b=A,y=N):(b=N,y=A),w=q>Q?A*Me/q||1:A*Me/Q||1;let G=b?q*B:0,Y=y?Q*B:0;return ce=ce+.5*b-.5*G,ue=ue+.5*y-.5*Y,{x:ce,y:ue,width:G,height:Y,scale:b&&y?q*w/G:0,flipX:Pe,flipY:le,angle:Se,fitWidth:te,fitHeight:oe,fullWidth:q,fullHeight:Q}}();if(ie){const{x:q,y:Q,width:te,height:oe,scale:ce,flipX:ue,flipY:Me}=ie;let Se=`translate(${Ve(q)}px, ${Ve(Q)}px)`;Se+=ue!==1||Me!==1?` scaleX(${Ve(ce*ue)}) scaleY(${Ve(ce*Me)})`:` scale(${Ve(ce)})`,S!==0&&(Se+=` rotate(${S}deg)`),s&&(s.style.width=`${Ve(te)}px`,s.style.height=`${Ve(oe)}px`,s.style.transform=`${Se}`)}T("render")}function _e(){let d=a.scale;const m=F("clickAction");let O=J();if(m){let S=[];switch(m){case K.ZoomIn:O=2*d;break;case K.ZoomOut:O=.5*d;break;case K.ToggleCover:S=[J(),X()];break;case K.ToggleFull:S=[J(),ee()];break;case K.ToggleMax:S=[J(),D()];break;case K.IterateZoom:S=[J(),ee(),D()];break;case K.Zoom:const M=ee();O=d>=M-.05?J():Math.min(M,2*d)}if(S.length){const M=S.findIndex(Z=>Z>d+1e-4);O=S[M]||J()}}return O=me(we(),O,D()),O}function Je(){return!!(I()&&_e()>a.scale)}function Xe(){return!!(I()&&_e()<a.scale)}function ke(){return!!(I()&&a.scale<D())}function x(){return!!(I()&&a.scale>we())}function $(){return!(!(I()&&P()&&c)||j())}function U(){return!(!I()||!(c!=null&&c.isPointerDown())||j())}function P(){return!!(I()&&a.scale>J())}function z(){return!!(I()&&a.scale>=ee())}const H={canDrag:$,canZoomIn:ke,canZoomOut:x,destroy:function(){T("destroy");for(const d of Object.values(r))d==null||d.destroy(H);for(const d of C)d();return n&&(n.style.aspectRatio="",n.style.maxWidth="",n.style.maxHeight=""),s&&(s.style.width="",s.style.height="",s.style.transform=""),n=void 0,o=void 0,s=void 0,p=Object.assign({},We),a=Object.assign({},We),g==null||g.destroy(),g=void 0,c==null||c.destroy(),c=void 0,h=4,H},emit:T,execute:ye,getBoundaries:de,getContainer:function(){return e},getContent:function(){return o},getFullDim:ae,getGestures:function(){return c},getMousemovePos:be,getOptions:function(){return f},getScale:Ee,getStartPosition:he,getState:function(){return h},getTransform:function(d){return d===!0?a:p},getTween:function(){return g},getViewport:function(){return s},getWrapper:function(){return n},init:function(){return h=0,T("init"),function(){for(const[d,m]of Object.entries(Object.assign(Object.assign({},i),f.plugins||{})))if(d&&!r[d]&&m instanceof Function){const O=m();O.init(H),r[d]=O}T("initPlugins")}(),function(){const d=Object.assign(Object.assign({},qt.classes),F("classes"));if(e&&(ve(e,d.container),o=e.querySelector("."+d.content),!!o)){if(o.setAttribute("draggable","false"),n=e.querySelector("."+d.wrapper),n||(n=document.createElement("div"),ve(n,d.wrapper),o.insertAdjacentElement("beforebegin",n),n.insertAdjacentElement("afterbegin",o)),s=e.querySelector("."+d.viewport),s||(s=document.createElement("div"),ve(s,d.viewport),s.insertAdjacentElement("afterbegin",o),n.insertAdjacentElement("beforeend",s)),l=o.cloneNode(!0),l.removeAttribute("id"),n.insertAdjacentElement("afterbegin",l),o instanceof HTMLPictureElement&&(o=o.querySelector("img")),l instanceof HTMLPictureElement&&(l=l.querySelector("img")),s instanceof HTMLPictureElement&&(s=s.querySelector("img")),s&&(s.style.visibility="hidden",F("protected"))){s.addEventListener("contextmenu",O=>{O.preventDefault()});const m=document.createElement("div");ve(m,"f-panzoom__protected"),s.appendChild(m)}T("initLayout")}}(),function(){if(e&&n&&!v){let d=null;v=new ResizeObserver(()=>{I()&&(d=d||requestAnimationFrame(()=>{I()&&(je(),Le(),T("refresh")),d=null}))}),v.observe(n),C.push(()=>{v==null||v.disconnect(),v=void 0,d&&(cancelAnimationFrame(d),d=null)})}}(),function(){if(!e||!o)return;if(!Ye(o)||!Ye(l))return void re();const d=()=>{o&&Ye(o)&&o.decode().then(()=>{re()}).catch(()=>{re()})};if(h=1,e.classList.add("is-loading"),T("loading"),l.src&&l.complete)return void d();(function(){if(!e||e!=null&&e.querySelector(".f-spinner"))return;const m=F("spinnerTpl"),O=lt(m);O&&(O.classList.add("f-spinner"),e.classList.add("is-loading"),n==null||n.insertAdjacentElement("afterbegin",O))})(),l.addEventListener("load",d,!1),l.addEventListener("error",d,!1),C.push(()=>{l==null||l.removeEventListener("load",d,!1),l==null||l.removeEventListener("error",d,!1)})}(),H},isDragging:U,isExpanded:P,isFullsize:z,localize:function(d,m=[]){const O=F("l10n")||{};d=String(d).replace(/\{\{(\w+)\}\}/g,(S,M)=>O[M]||S);for(let S=0;S<m.length;S++)d=d.split(m[S][0]).join(m[S][1]);return d=d.replace(/\{\{(.*?)\}\}/g,(S,M)=>M)},off:function(d,m){for(const O of d instanceof Array?d:[d])k.has(O)&&k.set(O,k.get(O).filter(S=>S!==m));return H},on:function(d,m){for(const O of d instanceof Array?d:[d])k.set(O,[...k.get(O)||[],m]);return H},version:"6.0.29",willZoomIn:Je,willZoomOut:Xe};return H};Gt.l10n={en_EN:Xt},Gt.getDefaults=()=>qt;/*! License details at fancyapps.com/license */const _t=(e,t)=>{let i=[];return e.childNodes.forEach(n=>{n.nodeType!==Node.ELEMENT_NODE||t&&!n.matches(t)||i.push(n)}),i};/*! License details at fancyapps.com/license */const Zt=Object.assign(Object.assign({},Xt),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"});/*! License details at fancyapps.com/license */const yt=e=>{e.cancelable&&e.preventDefault()},ft={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:Zt,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:160,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let on,sn=0;const Pt=(e,t={},i={})=>{sn++;let n,o,l,s,c,g=0,v=Object.assign({},ft),E=Object.assign({},ft),h={},f=null,r=null,p=!1,a=!1,C=!1,F=!1,I="height",k=0,T=!0,L=0,_=0,V=0,R=0,re="*",he=[],fe=[];const ae=new Set;let se=[],j=[],be=0,Ee=0,we=0;function J(u,...b){let y=E[u];return y&&y instanceof Function?y(le,...b):y}function X(u,b=[]){const y=J("l10n")||{};u=String(u).replace(/\{\{(\w+)\}\}/g,(w,B)=>y[B]||w);for(let w=0;w<b.length;w++)u=u.split(b[w][0]).join(b[w][1]);return u=u.replace(/\{\{(.*?)\}\}/g,(w,B)=>B)}const ee=new Map;function D(u,...b){const y=[...ee.get(u)||[]];E.on&&y.push(E.on[u]);for(const w of y)w&&w instanceof Function&&w(le,...b);u!=="*"&&D("*",u,...b)}function de(){var u,b;const y=Ne({},ft,v);Ne(y,ft,v);let w="";const B=v.breakpoints||{};if(B)for(const[A,N]of Object.entries(B))window.matchMedia(A).matches&&(w+=A,Ne(y,N));if(c===void 0||w!==c){if(c=w,g!==0){let A=(b=(u=j[L])===null||u===void 0?void 0:u.slides[0])===null||b===void 0?void 0:b.index;A===void 0&&(A=E.initialSlide),y.initialSlide=A,y.slides=[];for(const N of he)N.isVirtual&&y.slides.push(N)}Me(),E=y,E.enabled!==!1&&(g=0,D("init"),function(){for(const[A,N]of Object.entries(Object.assign(Object.assign({},i),E.plugins||{})))if(A&&!h[A]&&N instanceof Function){const G=N();G.init(le,Pt),h[A]=G}D("initPlugins")}(),function(){if(!f)return;const A=J("classes")||{};ve(f,A.container);const N=J("style");if(N&&De(N))for(const[G,Y]of Object.entries(N))f.style.setProperty(G,Y);r=f.querySelector(`.${A.viewport}`),r||(r=document.createElement("div"),ve(r,A.viewport),r.append(..._t(f,`.${A.slide}`)),f.insertAdjacentElement("afterbegin",r)),f.carousel=le,D("initLayout")}(),function(){if(!r)return;const A=J("classes")||{};he=[],[..._t(r,`.${A.slide}`)].forEach(N=>{N.parentElement&&he.push(z(Object.assign({el:N,isVirtual:!1},N.dataset||{})))}),P(J("slides"));for(const N of he)D("addSlide",N);for(const N of he){const G=N.el;G!=null&&G.parentElement&&(ve(G,E.classes.slide),ve(G,N.class),oe(N),D("attachSlideEl",N))}D("initSlides")}(),S(),function(){if(f&&(f.addEventListener("click",q,{passive:!1}),document.addEventListener("mousemove",Le),!l)){let A=null;l=new ResizeObserver(N=>{A||(A=requestAnimationFrame(()=>{(function(G){var Y;if(!f)return;if(g===0){const Te=(Y=G[0])===null||Y===void 0?void 0:Y.contentBoxSize[0],Ie=(Te==null?void 0:Te.blockSize)||0,at=(Te==null?void 0:Te.inlineSize)||0;return be=Ie,Ee=at,g=1,ve(f,(J("classes")||{}).isEnabled),ue(),o=rt().on("start",()=>{n&&n.isPointerDown()||(He(),ue())}).on("step",Ge=>{const Qe=k;k=Ge.pos,k!==Qe&&(T=!1,ue())}).on("end",Ge=>{n!=null&&n.isPointerDown()||(k=Ge.pos,o&&!a&&(k<V||k>R)?o.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:k}).to({pos:me(V,k,R)}).start():T||(T=!0,D("settle")))}),je(),_e(),void D("ready")}if(g!==1)return;const W=j.length;S(),je();const ne=f.getBoundingClientRect(),ge=ne.height,Ce=ne.width;W>1&&(F&&Math.abs(ge-be)<.5||!F&&Math.abs(Ce-Ee)<.5)||(be=ge,Ee=Ce,F&&!ge||!F&&!Ce||f&&r&&(W===j.length&&(n!=null&&n.isPointerDown())||(J("dragFree")&&(a||k>V&&k<R)?(He(),ue()):ce(L,{transition:!1}))))})(N),A=null}))}),l.observe(f)}}())}}function Le(u){on=u}function je(){if(!r)return;const u=J("gestures");u!==!1?n||(n=pt(r,u).on("start",b=>{var y,w;if(!o)return;const{srcEvent:B}=b;F&&ct(B.target),o.pause(),o.getCurrentVelocities().pos=0;const A=(y=j[L])===null||y===void 0?void 0:y.slides[0];A&&ae.has(A.index)&&A.el&&(k=A.offset||0,k+=(function(N){const G=window.getComputedStyle(N),Y=new DOMMatrixReadOnly(G.transform);return{width:Y.m41||0,height:Y.m42||0}}(A.el)[I]||0)*(C&&!F?1:-1)),Z(),!a&&(k<V||k>R)&&o.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:((w=o.getCurrentVelocities())===null||w===void 0?void 0:w.pos)||0,restDelta:1,restSpeed:1}).from({pos:k}).to({pos:me(V,k,R)}).start()}).on("move",b=>{const{srcEvent:y,axis:w}=b,B=b.srcEvent.target;B&&ct(B)||(w||(y.stopPropagation(),y.stopImmediatePropagation()),(w==="y"&&F||w==="x"&&!F)&&(yt(y),y.stopPropagation()))}).on("panstart",b=>{(b==null?void 0:b.axis)===(F?"y":"x")&&ve(r,"is-dragging")}).on("panend",()=>{Ue(r,"is-dragging")}).on("pan",b=>{var y;const{deltaX:w,deltaY:B,currentTouch:A,axis:N}=b;if(!o||A.length>1||N==="y"&&!F||N==="x"&&F)return;const G=C&&!F?1:-1;let Y=F?B:w,W=o!=null&&o.isRunning()?o.getEndValues().pos:k,ne=1;a||(W<=V&&Y*G<0?(ne=Math.max(.01,1-Math.abs(1/x()*Math.abs(W-V))),ne*=.2):W>=R&&Y*G>0&&(ne=Math.max(.01,1-Math.abs(1/x()*Math.abs(W-R))),ne*=.2)),W+=Y*ne*G,o.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:((y=o.getCurrentVelocities())===null||y===void 0?void 0:y.pos)||0,restDelta:1,restSpeed:1}).from({pos:k}).to({pos:W}).start()}).on("end",b=>{var y,w;const{axis:B,velocityX:A,velocityY:N,currentTouch:G}=b,Y=j.length,W=J("dragFree");if(G.length>0||!o||!Y)return;const ne=J("vertical")?N:A;let ge=o!=null&&o.isRunning()?o.getEndValues().pos:k;const Ce=C&&!F?1:-1;if(ge+=ne*(W?5:1)*Ce,!a&&(ne*Ce<=0&&ge<V||ne*Ce>=0&&ge>R)){let Ie=0;return Math.abs(ne)>0&&(Ie=2*Math.abs(ne),Ie=Math.min(.3*x(),Ie)),ge=me(V+-1*Ie,ge,R+Ie),void o.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*ne,restDelta:1,restSpeed:1}).from({pos:k}).to({pos:ge}).start()}if(W||!((y=h.Autoscroll)===null||y===void 0)&&y.isEnabled())return void(Math.abs(ne)>10?o.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*ne,restDelta:1,restSpeed:1}).from({pos:k}).to({pos:ge}).start():o.isRunning()||T||(T=!0,D("settle")));if(!W&&!(!((w=h.Autoscroll)===null||w===void 0)&&w.isEnabled())&&(!b.offsetX&&!b.offsetY||B==="y"&&!F||B==="x"&&F))return void ce(L,{transition:"tween"});let Te=Xe(ge);Math.abs(ne)>10&&Te===L&&(Te+=ne>0?C&&!F?1:-1:C&&!F?-1:1),ce(Te,{transition:"tween",tween:{velocity:-1*ne}})}).init()):n&&(n.destroy(),n=void 0)}function ye(u="*"){var b;const y=[];for(const w of he)(u==="*"||w.class&&w.class.includes(u)||w.el&&(!((b=w.el)===null||b===void 0)&&b.classList.contains(u)))&&y.push(w);s=void 0,re=u,fe=[...y]}function He(){if(!o)return;const u=Xe(o!=null&&o.isRunning()?o.getEndValues().pos:k);u!==L&&(s=L,L=u,oe(),_e(),Je(),D("change",L,s))}function _e(){var u;if(!f)return;ze(r,"is-draggable",!!n&&j.length>0);for(const w of f.querySelectorAll("[data-carousel-index]"))w.innerHTML=L+"";for(const w of f.querySelectorAll("[data-carousel-page]"))w.innerHTML=L+1+"";for(const w of f.querySelectorAll("[data-carousel-pages]"))w.innerHTML=j.length+"";for(const w of f.querySelectorAll("[data-carousel-go-prev]"))w.toggleAttribute("aria-disabled",!Se()),Se()?w.removeAttribute("tabindex"):w.setAttribute("tabindex","-1");for(const w of f.querySelectorAll("[data-carousel-go-next]"))w.toggleAttribute("aria-disabled",!Pe()),Pe()?w.removeAttribute("tabindex"):w.setAttribute("tabindex","-1");let b=!1;const y=(u=j[L])===null||u===void 0?void 0:u.slides[0];y&&(y.downloadSrc||y.type==="image"&&y.src)&&(b=!0);for(const w of f.querySelectorAll("[data-carousel-download]"))w.toggleAttribute("aria-disabled",!b)}function Je(u){var b;u||(u=(b=j[L])===null||b===void 0?void 0:b.slides[0]);const y=u.el;if(y)for(const w of y.querySelectorAll("[data-slide-index]"))w.innerHTML=u.index+1+""}function Xe(u){var b,y,w;if(!j.length||!o)return 0;const B=$();let A=u;a?A-=Math.floor((u-((b=j[0])===null||b===void 0?void 0:b.pos))/B)*B:A=me((y=j[0])===null||y===void 0?void 0:y.pos,u,(w=j[j.length-1])===null||w===void 0?void 0:w.pos);const N=new Map;let G=0;for(const W of j){const ne=Math.abs(W.pos-A),ge=Math.abs(W.pos-A-B),Ce=Math.abs(W.pos-A+B),Te=Math.min(ne,ge,Ce);N.set(G,Te),G++}const Y=N.size>0?[...N.entries()].reduce((W,ne)=>ne[1]<W[1]?ne:W):[L,0];return parseInt(Y[0])}function ke(){return we}function x(){return r&&r.getBoundingClientRect()[I]||0}function $(u=!0){return fe.reduce((b,y)=>b+y.dim,0)+(fe.length-(a&&u?0:1))*we}function U(u){const b=$();let y=x();if(!r)return[];const w=[];if(!b||!y)return[];u=u===void 0?k:u,a&&(u-=Math.floor(u/b)*b);let B=0,A=0;if(p){const G=r.getBoundingClientRect();B=Math.abs(G.left),A=Math.abs(window.innerWidth-G.right)}let N=0;for(let G of fe){const Y=(W=0)=>{w.indexOf(G)>-1||(G.pos=N-u+W||0,G.offset+W>u-G.dim-B+.51&&G.offset+W<u+y+A-.51&&w.push(G))};G.offset=N,a&&(Y(b),Y(-1*b)),Y(),N+=G.dim+we}return w}function P(u,b){const y=[];for(const w of Array.isArray(u)?u:[u]){const B=z(Object.assign(Object.assign({},w),{isVirtual:!0}));y.push(B)}he.splice(b===void 0?he.length:b,0,...y),O();for(const w of y)H(w);return ye(re),y}function z(u){return(Ae(u)||u instanceof HTMLElement)&&(u={html:u}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},u)}function H(u){if(!u)return;let b=u.el;b||(b=document.createElement("div"),u.el=b);const y=u.html?u.html instanceof HTMLElement?u.html:lt(u.html):void 0;y&&(ve(y,"f-html"),u.htmlEl=y,ve(b,"has-html"),b.append(y),D("contentReady",u))}function d(u){if(!r||!u)return;let b=u.el;if(b){if(b.setAttribute("index",u.index+""),b.parentElement!==r){let y;ve(b,E.classes.slide),ve(b,u.class),oe(u);for(const w of he)if(w.index>u.index){y=w.el;break}r.insertBefore(b,y&&r.contains(y)?y:null),D("attachSlideEl",u)}return Je(u),b}}function m(u){const b=u==null?void 0:u.el;b&&(b.remove(),M(b),D("detachSlideEl",u))}function O(){for(let u=0;u<he.length;u++){const b=he[u],y=b.el;y&&(b.index!==u&&M(y),y.setAttribute("index",`${u}`)),b.index=u}}function S(){var u,b,y,w,B;if(!f||!r)return;C=J("rtl"),F=J("vertical"),I=F?"height":"width";const A=J("classes");ze(f,A.isLTR,!C),ze(f,A.isRTL,C),ze(f,A.isHorizontal,!F),ze(f,A.isVertical,F),ze(f,A.hasAdaptiveHeight,J("adaptiveHeight")),p=window.getComputedStyle(r).getPropertyValue("overflow-"+(F?"y":"x"))==="visible";const N=r.getBoundingClientRect();if(!N.width&&!N.height)return;we=r&&parseFloat(getComputedStyle(r).getPropertyValue("--f-carousel-gap"))||0;const G=function(){let Y=0;if(r){let W=document.createElement("div");ve(W,E.classes.slide),r.appendChild(W),Y=W.getBoundingClientRect()[I],W.remove(),W=void 0}return Y}();for(const Y of fe){const W=Y.el;let ne=0;if(!Y.isVirtual&&W&&ht(W)){let ge=!1;W.parentElement&&W.parentElement===r||(r.appendChild(W),ge=!0),ne=W.getBoundingClientRect()[I],ge&&((u=W.parentElement)===null||u===void 0||u.removeChild(W))}else ne=G;Y.dim=ne}if(a=!1,J("infinite")){a=!0;const Y=$();let W=x();if(p){const ne=r.getBoundingClientRect();W+=ne.left,W+=ne.right-ne.width}for(let ne=0;ne<fe.length;ne++){const ge=((b=fe[ne])===null||b===void 0?void 0:b.dim)+we;if(Y-ge<W&&Y-ge-W<ge){a=!1;break}}}if(function(){var Y;if(!f)return;O();const W=x(),ne=$(!1);let ge=J("slidesPerPage");ge=ge==="auto"?1/0:parseFloat(ge+""),j=[];let Ce=0,Te=0;for(const Oe of fe)(!j.length||Ce+Oe.dim-W>.05||Te>=ge)&&(j.push({index:j.length,slides:[],dim:0,offset:0,pos:0}),Ce=0,Te=0),(Y=j[j.length-1])===null||Y===void 0||Y.slides.push(Oe),Ce+=Oe.dim+we,Te++;const Ie=J("center"),at=J("fill");let Ge=0;for(const Oe of j){Oe.dim=(Oe.slides.length-1)*we;for(const Be of Oe.slides)Oe.dim+=Be.dim;Oe.offset=Ge,Oe.pos=Ge,Ie!==!1&&(Oe.pos-=.5*(W-Oe.dim)),at&&!a&&ne>W&&(Oe.pos=me(0,Oe.pos,ne-W)),Ge+=Oe.dim+we}const Qe=[];let qe;for(const Oe of j){const Be=Object.assign({},Oe);qe&&Math.abs(Be.pos-qe.pos)<.1?(qe.dim+=Be.dim,qe.slides=[...qe.slides,...Be.slides]):(qe=Be,Be.index=Qe.length,Qe.push(Be))}j=Qe,_e()}(),V=((y=j[0])===null||y===void 0?void 0:y.pos)||0,R=((w=j[j.length-1])===null||w===void 0?void 0:w.pos)||0,g===0)(function(){var Y;s=void 0,L=J("initialPage");const W=J("initialSlide")||void 0;W!==void 0&&(L=le.getPageIndex(W)||0),L=me(0,L,j.length-1),k=((Y=j[L])===null||Y===void 0?void 0:Y.pos)||0,_=k})();else{const Y=o!=null&&o.isRunning()?o.getEndValues().pos:k;(Y<V||Y>R)&&(L=me(0,L,j.length-1),_=((B=j[L||0])===null||B===void 0?void 0:B.pos)||0)}D("refresh")}function M(u){if(!u||!ht(u))return;const b=parseInt(u.getAttribute("index")||"-1");let y="";for(const B of Array.from(u.classList)){const A=B.match(/^f-(\w+)(Out|In)$/);A&&A[1]&&(y=A[1]+"")}if(!u||!y)return;const w=[`f-${y}Out`,`f-${y}In`,"to-prev","to-next","from-prev","from-next"];u.removeEventListener("animationend",ie),Ue(u,w.join(" ")),ae.delete(b)}function Z(){if(!r)return;const u=ae.size;for(const b of fe)M(b.el);ae.clear(),u&&ue()}function ie(u){u.animationName.substring(0,2)==="f-"&&(M(u.target),ae.size||(Ue(f,"in-transition"),!T&&Math.abs(le.getPosition(!0)-_)<.5&&(T=!0,D("settle"))),ue())}function q(u){var b;if(u.defaultPrevented)return;const y=u.composedPath()[0];if(y.closest("[data-carousel-go-prev]"))return yt(u),void le.prev();if(y.closest("[data-carousel-go-next]"))return yt(u),void le.next();const w=y.closest("[data-carousel-go-to]");if(w)return yt(u),void le.goTo(parseFloat(w.dataset.carouselGoTo||"")||0);if(y.closest("[data-carousel-download]")){yt(u);const B=(b=j[L])===null||b===void 0?void 0:b.slides[0];if(B&&(B.downloadSrc||B.type==="image"&&B.src)){const A=B.downloadFilename,N=document.createElement("a"),G=B.downloadSrc||B.src||"";N.href=G,N.target="_blank",N.download=A||G,N.click()}}else D("click",u)}function Q(u){var b;const y=u.el;y&&((b=y.querySelector(".f-spinner"))===null||b===void 0||b.remove())}function te(u){var b;const y=u.el;y&&((b=y.querySelector(".f-html.is-error"))===null||b===void 0||b.remove(),Ue(y,"has-error"))}function oe(u){var b;u||(u=(b=j[L])===null||b===void 0?void 0:b.slides[0]);const y=u==null?void 0:u.el;if(!y)return;let w=J("formatCaption",u);w===void 0&&(w=u.caption),w=w||"";const B=J("captionEl");if(B&&B instanceof HTMLElement){if(u.index!==L)return;if(Ae(w)&&(B.innerHTML=X(w+"")),w instanceof HTMLElement){if(w.parentElement===B)return;B.innerHTML="",w.parentElement&&(w=w.cloneNode(!0)),B.append(w)}return}if(!w)return;let A=u.captionEl||y.querySelector(".f-caption");!A&&w instanceof HTMLElement&&w.classList.contains("f-caption")&&(A=w),A||(A=document.createElement("div"),ve(A,"f-caption"),Ae(w)?A.innerHTML=X(w+""):w instanceof HTMLElement&&(w.parentElement&&(w=w.cloneNode(!0)),A.append(w)));const N=`f-caption-${sn}_${u.index}`;A.setAttribute("id",N),A.dataset.selectable="true",ve(y,"has-caption"),y.setAttribute("aria-labelledby",N),u.captionEl=A,y.insertAdjacentElement("beforeend",A)}function ce(u,b={}){var y,w;let{transition:B,tween:A}=Object.assign({transition:E.transition,tween:E.tween},b||{});if(!f||!o)return;const N=j.length;if(!N||function(Y,W){var ne,ge,Ce,Te;if(!(f&&o&&W&&Ae(W)&&W!=="tween")||((ne=j[L])===null||ne===void 0?void 0:ne.slides.length)>1)return!1;const Ie=j.length;let at=Y>L?1:-1;Y=a?(Y%Ie+Ie)%Ie:me(0,Y,Ie-1),C&&(at*=-1);const Ge=(ge=j[L])===null||ge===void 0?void 0:ge.slides[0],Qe=Ge==null?void 0:Ge.index,qe=(Ce=j[Y])===null||Ce===void 0?void 0:Ce.slides[0],Oe=qe==null?void 0:qe.index,Be=(Te=j[Y])===null||Te===void 0?void 0:Te.pos;if(Oe===void 0||Qe===void 0||Qe===Oe||k===Be||Math.abs(x()-((qe==null?void 0:qe.dim)||0))>1)return!1;T=!1,o.pause(),Z(),ve(f,"in-transition"),k=_=Be;const ut=d(Ge),dt=d(qe);return He(),ut&&(ae.add(Qe),ut.style.transform="",ut.addEventListener("animationend",ie),Ue(ut,E.classes.isSelected),ut.inert=!1,ve(ut,`f-${W}Out to-${at>0?"next":"prev"}`)),dt&&(ae.add(Oe),dt.style.transform="",dt.addEventListener("animationend",ie),ve(dt,E.classes.isSelected),dt.inert=!1,ve(dt,`f-${W}In from-${at>0?"prev":"next"}`)),ue(),!0}(u,B))return;u=a?(u%N+N)%N:me(0,u,N-1),_=((y=j[u||0])===null||y===void 0?void 0:y.pos)||0;const G=o.isRunning()?o.getEndValues().pos:k;if(Math.abs(_-G)<1)return k=_,L!==u&&(oe(),_e(),Je(),s=L,L=u,D("change",L,s)),ue(),void(T||(T=!0,D("settle")));if(o.pause(),Z(),a){const Y=$(),W=Math.floor((G-((w=j[0])===null||w===void 0?void 0:w.pos))/Y),ne=_+W*Y;_=[ne+Y,ne,ne-Y].reduce(function(ge,Ce){return Math.abs(Ce-G)<Math.abs(ge-G)?Ce:ge})}B!==!1&&De(A)?o.spring(Ne({},E.tween,A)).from({pos:k}).to({pos:_}).start():(k=_,He(),ue(),T||(T=!0,D("settle")))}function ue(){var u;if(!f||!r)return;const b=j[L];se=U();const y=new Set;let w;const B=[];for(const A of fe){if(A.isVirtual&&!ae.has(A.index)&&se.indexOf(A)<0)continue;let N=d(A);if(!N)continue;B.push(A);const G=((u=b==null?void 0:b.slides)===null||u===void 0?void 0:u.indexOf(A))>-1;if(G&&y.add(N),J("adaptiveHeight")&&G){const Y=(N.firstElementChild||N).getBoundingClientRect().height;w=w==null?Y:Math.max(w,Y)}}r&&w&&(r.style.height=`${w}px`),[..._t(r,`.${E.classes.slide}`)].forEach(A=>{const N=parseInt(A.getAttribute("index")||"-1"),G=he[N];G||A.remove();const Y=y.has(A);if(ze(A,E.classes.isSelected,Y),A.inert=se.indexOf(G)<0,G.isVirtual&&!ae.has(G.index)&&se.indexOf(G)<0)return void m(G);let W=G.pos?Math.round(1e4*G.pos)/1e4:0,ne=0,ge=0,Ce=0,Te=0,Ie=E.setTransform||void 0;ae.has(G.index)||(ne=F?0:C?-1*W:W,ge=F?W:0,Ce=Ht(ne,0,G.dim,0,100),Te=Ht(ge,0,G.dim,0,100)),Ie instanceof Function&&!ae.has(G.index)?Ie(le,G,{x:ne,y:ge,xPercent:Ce,yPercent:Te}):A.style.transform=ne||ge?`translate3d(${Ce}%, ${Te}%,0)`:""}),D("render",B)}function Me(){var u;f==null||f.removeEventListener("click",q),Z(),document.removeEventListener("mousemove",Le),l==null||l.disconnect(),l=void 0;for(const b of he)b.el&&ht(b.el)&&(b.state=void 0,Q(b),te(b),m(b),b.isVirtual?((u=b.el)===null||u===void 0||u.remove(),b.el=void 0):(b.el.style.transform="",r==null||r.appendChild(b.el)));for(const b of Object.values(h))b==null||b.destroy();h={},n==null||n.destroy(),n=void 0,o==null||o.destroy(),o=void 0;for(const[b,y]of Object.entries(E.classes||{}))b!=="container"&&Ue(f,y);Ue(r,"is-draggable")}function Se(){return a||L>0}function Pe(){return a||L<j.length-1}const le={add:function(u,b){var y,w;let B=k;const A=L,N=$(),G=o!=null&&o.isRunning()?o.getEndValues().pos:k,Y=Math.floor((G-((y=j[0])===null||y===void 0?void 0:y.pos))/N),W=P(u,b);for(const ne of W)D("addSlide",ne);return ye(re),S(),o&&(A===L&&(B-=Y*N),_=((w=j[L||0])===null||w===void 0?void 0:w.pos)||0,B===_?k=_:o.spring({clamp:!0,mass:1,tension:300,friction:25,restDelta:1,restSpeed:1}).from({pos:B}).to({pos:_}).start()),ue(),le},canGoPrev:Se,canGoNext:Pe,destroy:function(){return D("destroy"),window.removeEventListener("resize",de),Me(),ee.clear(),f=null,j=[],he=[],E=Object.assign({},ft),h={},fe=[],c="",re="*",g=2,le},emit:D,filter:function(u="*"){return ye(u),S(),ue(),D("filter",u),le},getContainer:function(){return f},getGapDim:ke,getGestures:function(){return n},getLastMouseMove:function(){return on},getOption:function(u){return J(u)},getOptions:function(){return E},getPage:function(){return j[L]},getPageIndex:function(u){if(u!==void 0){for(const b of j||[])for(const y of b.slides)if(y.index===u)return b.index;return-1}return L},getPageProgress:function(u,b){var y;u===void 0&&(u=L);const w=j[u];if(!w)return u>L?-1:1;const B=$(),A=ke();let N=w.pos,G=le.getPosition();if(a&&b!==!0){const Y=Math.floor((G-((y=j[0])===null||y===void 0?void 0:y.pos))/B);G-=Y*B,N=[N+B,N,N-B].reduce(function(W,ne){return Math.abs(ne-G)<Math.abs(W-G)?ne:W})}return(G-N)/(w.dim+A)},getPageVisibility:function(u){var b;u===void 0&&(u=L);const y=j[u];if(!y)return u>L?-1:1;const w=le.getPosition(),B=x();let A=y.pos;if(a){const N=le.getPosition(),G=$(),Y=A+Math.floor((N-((b=j[0])===null||b===void 0?void 0:b.pos))/G)*G;A=[Y+G,Y,Y-G].reduce(function(W,ne){return Math.abs(ne-N)<Math.abs(W-N)?ne:W})}return A>w&&A+y.dim<w+B?1:A<w?(A+y.dim-w)/y.dim:A+y.dim>w+B?(w+B-A)/y.dim:0},getPages:function(){return j},getPlugins:function(){return h},getPosition:function(u){var b;let y=k;if(a&&u!==!0){const w=$();y-=Math.floor((k-((b=j[0])===null||b===void 0?void 0:b.pos)||0)/w)*w}return y},getSlides:function(){return he},getState:function(){return g},getTotalSlideDim:$,getTween:function(){return o},getViewport:function(){return r},getViewportDim:x,getVisibleSlides:function(u){return u===void 0?se:U(u)},goTo:ce,hasNavigated:function(){return s!==void 0},hideError:te,hideLoading:Q,init:function(){if(!e||!ht(e))throw new Error("No Element found");return g!==0&&(Me(),g=0),f=e,v=t,window.removeEventListener("resize",de),v.breakpoints&&window.addEventListener("resize",de),de(),le},isInfinite:function(){return a},isInTransition:function(){return ae.size>0},isRTL:function(){return C},isSettled:function(){return T},isVertical:function(){return F},localize:function(u,b=[]){return X(u,b)},next:function(u={}){return ce(L+1,u),le},off:function(u,b){for(const y of u instanceof Array?u:[u])ee.has(y)&&ee.set(y,ee.get(y).filter(w=>w!==b));return le},on:function(u,b){for(const y of u instanceof Array?u:[u])ee.set(y,[...ee.get(y)||[],b]);return le},prev:function(u={}){return ce(L-1,u),le},remove:function(u){u===void 0&&(u=he.length-1);const b=he[u];return b&&(D("removeSlide",b),b.el&&(M(b.el),b.el.remove(),b.el=void 0),he.splice(u,1),ye(re),S(),ue()),le},setPosition:function(u){k=u,He(),ue()},showError:function(u,b){Q(u),te(u);const y=u.el;if(y){const w=document.createElement("div");ve(w,"f-html"),ve(w,"is-error"),w.innerHTML=X(b||"<p>{{ERROR}}</p>"),u.htmlEl=w,ve(y,"has-html"),ve(y,"has-error"),y.insertAdjacentElement("afterbegin",w),D("contentReady",u)}return le},showLoading:function(u){const b=u.el,y=b==null?void 0:b.querySelector(".f-spinner");if(!b||y)return le;const w=J("spinnerTpl"),B=lt(w);return B&&(ve(B,"f-spinner"),b.insertAdjacentElement("beforeend",B)),le},version:"6.0.29"};return le};Pt.l10n={en_EN:Zt},Pt.getDefaults=()=>ft;/*! License details at fancyapps.com/license */const st=function(e="",t="",i=""){return e.split(t).join(i)};/*! License details at fancyapps.com/license */const ln={tpl:e=>`<img class="f-panzoom__content" 
    ${e.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${e.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},ni=()=>{let e;function t(E,h){const f=e==null?void 0:e.getOptions().Zoomable;let r=(De(f)?Object.assign(Object.assign({},ln),f):ln)[E];return r&&typeof r=="function"&&h?r(h):r}function i(){e&&(e.on("addSlide",l),e.on("removeSlide",s),e.on("attachSlideEl",c),e.on("click",o),e.on("change",n))}function n(){g()}function o(E,h){const f=h.target;f&&!h.defaultPrevented&&f.dataset.panzoomAction&&v(f.dataset.panzoomAction)}function l(E,h){if(!e)return;const f=h.el;if(!f)return;const r=h.src||h.lazySrc||"",p=h.alt||h.caption||`Image #${h.index}`,a=h.srcset||h.lazySrcset||"",C=h.sizes||h.lazySizes||"";if(r&&Ae(r)&&!h.html&&(!h.type||h.type==="image")){h.type="image",h.thumbSrc=h.thumbSrc||r;let T=t("tpl",h);T=st(T,"{{src}}",r+""),T=st(T,"{{alt}}",p+""),T=st(T,"{{srcset}}",a+""),T=st(T,"{{sizes}}",C+""),f.insertAdjacentHTML("afterbegin",T)}if(!f.querySelector(".f-panzoom__content"))return;const F=h.width&&h.width!=="auto"?parseFloat(h.width+""):"auto",I=h.height&&h.height!=="auto"?parseFloat(h.height+""):"auto",k=Gt(f,Object.assign({width:F,height:I,classes:{container:"f-zoomable"},event:()=>e==null?void 0:e.getLastMouseMove(),spinnerTpl:()=>(e==null?void 0:e.getOption("spinnerTpl"))||""},t("Panzoom")));k.on("*",(T,L,..._)=>{e&&(L==="loading"&&(h.state=0),L==="loaded"&&(h.state=1),L==="error"&&(h.state=2,e==null||e.showError(h,"{{IMAGE_ERROR}}")),e.emit(`panzoom:${L}`,h,..._),L==="ready"&&e.emit("contentReady",h),h.index===(e==null?void 0:e.getPageIndex())&&g())}),h.panzoomRef=k}function s(E,h){h.panzoomRef&&(h.panzoomRef.destroy(),h.panzoomRef=void 0)}function c(E,h){const f=h.panzoomRef;if(f)switch(f.getState()){case 0:f.init();break;case 3:f.execute(K.ZoomTo,Object.assign(Object.assign({},f.getStartPosition()),{velocity:0}))}}function g(){var E;const h=e==null?void 0:e.getContainer();if(!h)return;const f=(E=e==null?void 0:e.getPage())===null||E===void 0?void 0:E.slides[0].panzoomRef,r=(f==null?void 0:f.canZoomIn())||!1,p=(f==null?void 0:f.canZoomOut())||!1,a=(f==null?void 0:f.isFullsize())||!1,C=!f||(f==null?void 0:f.getState())!==3;for(const F of(h==null?void 0:h.querySelectorAll("[data-panzoom-action]"))||[]){const I=F.dataset.panzoomAction;let k=!1;if(C)k=!0;else switch(I){case K.ZoomIn:r||(k=!0);break;case K.ZoomOut:p||(k=!0);break;case K.ToggleFull:r||p||(k=!0);const T=F.querySelector("g");T&&(T.style.display=a?"none":"");break;case K.ToggleCover:case K.ToggleMax:r||p||(k=!0)}k?(F.setAttribute("aria-disabled",""),F.setAttribute("tabindex","-1")):(F.removeAttribute("aria-disabled"),F.removeAttribute("tabindex"))}}function v(E,...h){var f;(f=e==null?void 0:e.getPage().slides[0].panzoomRef)===null||f===void 0||f.execute(E,...h)}return{init:function(E){e=E,e.getOptions().Zoomable!==!1&&e.on("initPlugins",i)},destroy:function(){if(e){e.off("addSlide",l),e.off("removeSlide",s),e.off("attachSlideEl",c),e.off("click",o),e.off("change",n);for(const E of e.getSlides())s(0,E)}e=void 0},execute:v}};/*! License details at fancyapps.com/license */const rn={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},Tn=()=>{let e,t;function i(){const r=e==null?void 0:e.getOptions().Sync;return De(r)?Object.assign(Object.assign({},rn),r):rn}function n(r){var p,a,C;e&&r&&(t=r,e.getOptions().classes=Object.assign(Object.assign({},e.getOptions().classes),{isSelected:""}),e.getOptions().initialSlide=((a=(p=t.getPage())===null||p===void 0?void 0:p.slides[0])===null||a===void 0?void 0:a.index)||0,i().syncOnChange&&e.on("change",s),i().syncOnClick&&e.on("click",g),i().syncOnHover&&((C=e.getViewport())===null||C===void 0||C.addEventListener("mouseover",v)),function(){!e||!t||(e.on("ready",l),e.on("refresh",E),t.on("change",c),t.on("filter",h))}())}function o(){const r=i().target;e&&r&&n(r)}function l(){f()}function s(){var r;if(e&&t){const p=((r=e.getPage())===null||r===void 0?void 0:r.slides)||[],a=t.getPageIndex(p[0].index||0);a>-1&&t.goTo(a,e.hasNavigated()?void 0:{tween:!1,transition:!1}),f()}}function c(){var r;if(e&&t){const p=e.getPageIndex(((r=t.getPage())===null||r===void 0?void 0:r.slides[0].index)||0);p>-1&&e.goTo(p,t.hasNavigated()?void 0:{tween:!1,transition:!1}),f()}}function g(r,p){var a;if(!e||!t||!((a=e.getTween())===null||a===void 0)&&a.isRunning())return;const C=e==null?void 0:e.getOptions().classes.slide;if(!C)return;const F=C?p.target.closest(`.${C}`):null;if(F){const I=parseInt(F.getAttribute("index")||"")||0,k=t.getPageIndex(I);t.goTo(k)}}function v(r){e&&g(0,r)}function E(){var r;if(e&&t){const p=e.getPageIndex(((r=t.getPage())===null||r===void 0?void 0:r.slides[0].index)||0);p>-1&&e.goTo(p,{tween:!1,transition:!1}),f()}}function h(r,p){e&&t&&(e.filter(p),c())}function f(){var r,p,a;if(!t)return;const C=((p=(r=t.getPage())===null||r===void 0?void 0:r.slides[0])===null||p===void 0?void 0:p.index)||0;for(const F of(e==null?void 0:e.getSlides())||[])(a=F.el)===null||a===void 0||a.classList.toggle("is-selected",F.index===C)}return{init:function(r){e=r,e.on("initSlides",o)},destroy:function(){var r;e==null||e.off("ready",l),e==null||e.off("refresh",E),e==null||e.off("change",s),e==null||e.off("click",g),(r=e==null?void 0:e.getViewport())===null||r===void 0||r.removeEventListener("mouseover",v),t==null||t.off("change",c),t==null||t.off("filter",h),t=void 0,e==null||e.off("initSlides",o),e=void 0},getTarget:function(){return t}}};/*! License details at fancyapps.com/license */const an={showLoading:!0,preload:1},Tt="is-lazyloading",cn="is-lazyloaded",On=()=>{let e;function t(){const o=e==null?void 0:e.getOptions().Lazyload;return De(o)?Object.assign(Object.assign({},an),o):an}function i(o){var l;const s=o.el;if(!s)return;const c="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",g=Array.from(s.querySelectorAll(c));s.matches(c)&&g.push(s);for(const v of g){const E=v.dataset.lazySrc,h=v.dataset.lazySrcset,f=v.dataset.lazySizes,r=v.dataset.lazyBg,p=(v instanceof HTMLImageElement||v instanceof HTMLSourceElement)&&(E||h),a=v instanceof HTMLElement&&r;if(!p&&!a)continue;const C=E||h||r;if(C){if(p&&C){const F=(l=v.parentElement)===null||l===void 0?void 0:l.classList.contains("f-panzoom__wrapper");t().showLoading&&(e==null||e.showLoading(o)),v.addEventListener("load",()=>{e==null||e.hideLoading(o),v instanceof HTMLImageElement?v.decode().then(()=>{v.classList.remove(Tt),v.classList.add(cn)}):(v.classList.remove(Tt),v.classList.add(cn)),F||e==null||e.emit("lazyLoad:loaded",o,v,C)}),v.addEventListener("error",()=>{e==null||e.hideLoading(o),v.classList.remove(Tt),v.classList.add("has-lazyerror"),F||e==null||e.emit("lazyLoad:error",o,v,C)}),v.classList.add("f-lazyload"),v.classList.add(Tt),F||e==null||e.emit("lazyLoad:load",o,v,C),E&&(v.src=E),h&&(v.srcset=h),f&&(v.sizes=f)}else a&&(document.body.contains(v)||(document.createElement("img").src=r),v.style.backgroundImage=`url('${r}')`);delete v.dataset.lazySrc,delete v.dataset.lazySrcset,delete v.dataset.lazySizes,delete v.dataset.lazyBg}}}function n(){if(!e)return;const o=[...e.getVisibleSlides()],l=t().preload;if(l>0){const s=e.getPosition(),c=e.getViewportDim();o.push(...e.getVisibleSlides(s+c*l),...e.getVisibleSlides(s-c*l))}for(const s of o)i(s)}return{init:function(o){e=o,e.on("render",n)},destroy:function(){e==null||e.off("render",n),e=void 0}}};/*! License details at fancyapps.com/license */const un={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"></path></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"></path></svg>'},ii=()=>{let e,t,i;function n(){const c=e==null?void 0:e.getOptions().Arrows;return De(c)?Object.assign(Object.assign({},un),c):un}function o(c){if(!e)return;const g=`<button data-carousel-go-${c} tabindex="0" class="f-button is-arrow is-${c}" title="{{${c.toUpperCase()}}}">`+n()[`${c}Tpl`]+"</button",v=lt(e.localize(g))||void 0;return v&&ve(v,n()[`${c}Class`]),v}function l(){var c;t==null||t.remove(),t=void 0,i==null||i.remove(),i=void 0,(c=e==null?void 0:e.getContainer())===null||c===void 0||c.classList.remove("has-arrows")}function s(){e&&e.getOptions().Arrows!==!1&&e.getPages().length>1?(function(){if(!e)return;const c=e.getViewport();c&&(t||(t=o("prev"),t&&c.insertAdjacentElement("beforebegin",t)),i||(i=o("next"),i&&c.insertAdjacentElement("afterend",i)),ze(e.getContainer(),"has-arrows",!(!t&&!i)))}(),e&&(t==null||t.toggleAttribute("aria-disabled",!e.canGoPrev()),i==null||i.toggleAttribute("aria-disabled",!e.canGoNext()))):l()}return{init:function(c){e=c.on(["change","refresh"],s)},destroy:function(){l(),e==null||e.off(["change","refresh"],s),e=void 0}}};/*! License details at fancyapps.com/license */const Pn={moveLeft:{tpl:'<button data-panzoom-action="moveLeft" class="f-button" title="{{MOVE_LEFT}}"><svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg></button>'},moveRight:{tpl:'<button data-panzoom-action="moveRight" class="f-button" title="{{MOVE_RIGHT}}"><svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg></button>'},moveUp:{tpl:'<button data-panzoom-action="moveUp" class="f-button" title="{{MOVE_UP}}"><svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg></button>'},moveDown:{tpl:'<button data-panzoom-action="moveDown" class="f-button" title="{{MOVE_DOWN}}"><svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg></button>'},zoomIn:{tpl:'<button data-panzoom-action="zoomIn" class="f-button" title="{{ZOOM_IN}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg></button>'},zoomOut:{tpl:'<button data-panzoom-action="zoomOut" class="f-button" title="{{ZOOM_OUT}}"><svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},toggle1to1:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg></button>'},toggleFull:{tpl:'<button data-panzoom-action="toggleFull" class="f-button" title="{{TOGGLE_FULL}}"><svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg></button>'},rotateCCW:{tpl:'<button data-panzoom-action="rotateCCW" class="f-button" title="{{ROTATE_CCW}}"><svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg></button>'},rotateCW:{tpl:'<button data-panzoom-action="rotateCW" class="f-button" title="{{ROTATE_CW}}"><svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg></button>'},flipX:{tpl:'<button data-panzoom-action="flipX" class="f-button" title="{{FLIP_X}}"><svg><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg></button>'},flipY:{tpl:'<button data-panzoom-action="flipY" class="f-button" title="{{FLIP_Y}}"><svg><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg></button>'},reset:{tpl:'<button data-panzoom-action="reset" class="f-button" title="{{RESET}}"><svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg></button>'}};/*! License details at fancyapps.com/license */var dn;(function(e){e.Left="left",e.middle="middle",e.right="right"})(dn||(dn={}));const fn=Object.assign({counter:{tpl:'<div class="f-counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},Pn),hn={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},$n=()=>{let e,t;function i(o){const l=e==null?void 0:e.getOptions().Toolbar;let s=(De(l)?Object.assign(Object.assign({},hn),l):hn)[o];return s&&typeof s=="function"&&e?s(e):s}function n(){var o,l,s,c;if(!(e!=null&&e.getOptions().Toolbar)||!e||t)return;let g=i("enabled");if(!g)return;const v=i("absolute"),E=e.getSlides().length>1;let h=!1,f=!1;for(const I of e.getSlides())I.panzoomRef&&(h=!0),(I.downloadSrc||I.type==="image"&&I.src)&&(f=!0);const r=((o=e.getPlugins().Thumbs)===null||o===void 0?void 0:o.isEnabled())||!1,p=E&&e.getPlugins().Autoplay||!1,a=e.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if(g==="auto"&&(g=h),!g)return;t=((l=e.getContainer())===null||l===void 0?void 0:l.querySelector(".f-carousel__toolbar"))||void 0,t||(t=document.createElement("div"),t.classList.add("f-carousel__toolbar"));const C=i("display"),F=Ne({},fn,i("items"));for(const I of["left","middle","right"]){const k=C[I]||[],T=document.createElement("div");T.classList.add("f-carousel__toolbar__column"),T.classList.add(`is-${I}`);for(const L of k){let _;if(Ae(L)){if(L==="counter"&&!E||L==="autoplay"&&!p||Pn[L]&&!h||L==="fullscreen"&&!a||L==="thumbs"&&!r||L==="download"&&!f)continue;_=F[L]}if(typeof L=="object"&&(_=L),_&&_.tpl){let V=e.localize(_.tpl);V=V.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const R=lt(V);R&&(typeof _.click=="function"&&e&&R.addEventListener("click",re=>{re.preventDefault(),re.stopPropagation(),typeof _.click=="function"&&e&&_.click(e,re)}),T.append(R))}}t.append(T)}if(t.childElementCount&&(v===!0&&t.classList.add("is-absolute"),(s=e.getContainer())===null||s===void 0||s.classList.add("has-toolbar"),!t.parentElement)){const I=i("parentEl");I?I.insertAdjacentElement("afterbegin",t):(c=e.getViewport())===null||c===void 0||c.insertAdjacentElement("beforebegin",t)}}return{init:function(o){e=o,e.on("initSlides",n)},destroy:function(){var o;e==null||e.off("initSlides",n),(o=e==null?void 0:e.getContainer())===null||o===void 0||o.classList.remove("has-toolbar"),t==null||t.remove(),t=void 0},add:function(o,l){fn[o]=l},isEnabled:function(){return!!t}}};/*! License details at fancyapps.com/license */const gn={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},oi=()=>{let e,t,i=!1,n=!1,o=!1,l=null;function s(_){const V=e==null?void 0:e.getOptions().Autoplay;let R=(De(V)?Object.assign(Object.assign({},gn),V):gn)[_];return R&&typeof R=="function"&&e?R(e):R}function c(){var _;const V=((_=e==null?void 0:e.getPage())===null||_===void 0?void 0:_.slides)||[];for(const R of V)if(R.state===0)return!0;return!1}function g(){clearTimeout(t),t=void 0}function v(){if(t||o||c()||!(e!=null&&e.isSettled()))return;(function(){var V,R,re,he;if(!e||(f(),!s("showProgressbar")))return;let fe=s("progressbarParentEl");if(!fe&&(!((V=e.getPlugins().Toolbar)===null||V===void 0)&&V.isEnabled())&&(fe=e.getContainer()),!fe&&((R=e.getPlugins().Toolbar)===null||R===void 0?void 0:R.isEnabled())!==!0){const se=((re=e.getPages()[0])===null||re===void 0?void 0:re.slides)||[],j=((he=e.getPage())===null||he===void 0?void 0:he.slides)||[];se.length===1&&j.length===1&&(fe=j[0].el)}if(fe||(fe=e.getViewport()),!fe)return;l=document.createElement("div"),l.classList.add("f-progressbar"),fe.prepend(l);const ae=s("timeout")||1e3;l.style.animationDuration=`${ae}ms`})();const _=s("timeout");t=setTimeout(()=>{e&&i&&!n&&(e.isInfinite()||e.getPageIndex()!==e.getPages().length-1?e.next():e.goTo(0))},_)}function E(){var _,V;if(!e||e.getPages().length<2||e.getOptions().Autoplay===!1||i)return;i=!0,e.emit("autoplay:start",s("timeout")),(_=e.getContainer())===null||_===void 0||_.classList.add("has-autoplay"),(V=e.getTween())===null||V===void 0||V.on("start",I);const R=e==null?void 0:e.getContainer();R&&s("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(R.addEventListener("mouseenter",k,!1),R.addEventListener("mouseleave",T,!1)),e.on("change",C),e.on("settle",F),e.on("contentReady",p),e.on("panzoom:animationStart",h),e.isSettled()&&v()}function h(){var _,V;if(g(),f(),i&&e){e.emit("autoplay:end"),(_=e.getContainer())===null||_===void 0||_.classList.remove("has-autoplay"),(V=e.getTween())===null||V===void 0||V.off("start",I);const R=e==null?void 0:e.getContainer();R&&(R.removeEventListener("mouseenter",k,!1),R.removeEventListener("mouseleave",T,!1))}e&&(e.off("change",C),e.off("settle",F),e.off("contentReady",p),e.off("panzoom:animationStart",h)),i=!1,n=!1}function f(){l&&(l.remove(),l=null)}function r(){e&&e.getPages().length>1&&s("autoStart")&&E()}function p(_){e&&e.getPageIndex(_.index)===e.getPageIndex()&&(!i||o||c()||v())}function a(_,V){const R=V.target;R&&!V.defaultPrevented&&R.dataset.autoplayAction==="toggle"&&L.toggle()}function C(){!e||!(e!=null&&e.isInfinite())&&e.getPageIndex()===e.getPages().length-1?h():(f(),g())}function F(){!i||o||n||v()}function I(){g(),f()}function k(){o=!0,i&&(f(),g())}function T(){o=!1,i&&!n&&(e!=null&&e.isSettled())&&v()}const L={init:function(_){e=_,e.on("ready",r),e.on("click",a)},destroy:function(){h(),e==null||e.off("ready",r),e==null||e.off("click",a),e=void 0},isEnabled:()=>i,pause:function(){n=!0,g()},resume:function(){n=!1,i&&!o&&v()},start(){E()},stop(){h()},toggle(){i?h():E()}};return L};/*! License details at fancyapps.com/license */const Vt={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let Rt;const si=()=>{let e,t,i,n=0,o=0,l=!0;function s(T){const L=e==null?void 0:e.getOptions().Thumbs;let _=(De(L)?Object.assign(Object.assign({},Vt),L):Vt)[T];return _&&typeof _=="function"&&e?_(e):_}function c(){if(!e||(e==null?void 0:e.getOptions().Thumbs)===!1)return!1;let T=0;for(const L of e.getSlides())L.thumbSrc&&T++;return T>=s("minCount")}function g(){return s("type")==="modern"}function v(T=!1){var L;const _=e==null?void 0:e.getContainer();if(!e||!_||i||!c())return;if(!i){const R=_.nextElementSibling;R!=null&&R.classList.contains("f-thumbs")&&(i=R)}if(!i){i=document.createElement("div");const R=s("parentEl");R?R.insertAdjacentElement("beforeend",i):_.insertAdjacentElement("afterend",i)}const V=(L=s("Carousel"))===null||L===void 0?void 0:L.classes;V!=null&&V.container&&ve(i,V.container),ve(i,"f-thumbs"),ve(i,`is-${s("type")}`),ve(i,"is-syncing"),T&&(i.style.maxHeight="0px")}function E(T){const L=T.thumb?T.thumb instanceof HTMLImageElement?T.thumb.src:T.thumb:T.thumbSrc||void 0,_=T.thumbAlt===void 0?`Thumbnail #${T.index}`:T.thumbAlt+"";let V=s("thumbTpl");return V=st(V,"{{alt}}",_),V=st(V,"{{src}}",L+""),V=st(V,"{{index}}",`${T.index}`),V=st(V,"{{page}}",`${T.index||1}`),{html:V,class:T.thumbClass}}function h(){var T;if(!Rt||!e||!i||t)return;const L=[];for(const _ of e.getSlides())L.push(E(_));L.length&&(t=Rt(i,Ne({},{Sync:{target:e},Lazyload:{preload:1},slides:L,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},initialSlide:e.getOptions().initialPage,center:!0,fill:!g(),infinite:!1,dragFree:!0,rtl:e.getOptions().rtl||!1,slidesPerPage:_=>{let V=0;return g()&&(function(){if(!g()||!i)return;const R=re=>i&&parseFloat(getComputedStyle(i).getPropertyValue("--f-thumb-"+re))||0;n=R("width"),o=R("clip-width")}(),V=4*(n-o)),_&&_.getTotalSlideDim()<=_.getViewportDim()-V?1/0:1}},Vt.Carousel||{},s("Carousel")||{}),{Sync:Tn,Lazyload:On}),t.on("ready",()=>{e==null||e.emit("thumbs:ready")}),t.on("destroy",()=>{e==null||e.emit("thumbs:destroy")}),t.init(),(T=t.getGestures())===null||T===void 0||T.on("start",()=>{l=!1}),t.on("click",(_,V)=>{const R=V.target;if(R){const re=R.matches("button")?R:R.firstElementChild;re&&re.matches("button")&&(V.preventDefault(),re.focus({preventScroll:!0}))}}),ve(e.getContainer(),"has-thumbs"),k())}function f(){c()&&s("showOnStart")&&(v(),h())}function r(){var T;c()&&(e==null||e.on("addSlide",F),e==null||e.on("click",I),(T=e==null?void 0:e.getGestures())===null||T===void 0||T.on("start",p))}function p(){var T,L;l=!0,!((T=document.activeElement)===null||T===void 0)&&T.closest(".f-thumbs")&&((L=document.activeElement)===null||L===void 0||L.blur())}function a(){var T,L;i==null||i.classList.toggle("is-syncing",(e==null?void 0:e.hasNavigated())===!1||((T=e==null?void 0:e.getTween())===null||T===void 0?void 0:T.isRunning())),k(),!((L=e==null?void 0:e.getGestures())===null||L===void 0)&&L.isPointerDown()&&function(){if(!g()||!e||!t||!l)return;const _=t.getTween(),V=t.getPages(),R=e.getPageIndex()||0,re=e.getPageProgress()||0;if(!(e&&V&&V[R]&&_))return;const he=_.isRunning()?_.getCurrentValues().pos:t.getPosition();if(he===void 0)return;let fe=V[R].pos+re*(n-o);fe=me(V[0].pos,fe,V[V.length-1].pos),_.from({pos:he}).to({pos:fe}).start()}()}function C(){l=!0}function F(T,L){t==null||t.add(E(L),L.index)}function I(T,L){const _=L.target;_&&!L.defaultPrevented&&_.dataset.thumbsAction==="toggle"&&function(){if(i||(v(!0),h()),!i)return;const V=t!=null&&t.isVertical()?"maxWidth":"maxHeight",R=i.style[V];i.style[V]=R?"":"0px"}()}function k(){if(!g()||!e||!t)return;const T=(t==null?void 0:t.getSlides())||[];let L=-.5*n;for(const _ of T){const V=_.el;if(!V)continue;let R=e.getPageProgress(_.index)||0;R=Math.max(-1,Math.min(1,R)),R>-1&&R<1&&(L+=.5*n*(1-Math.abs(R))),R=Math.round(1e4*R)/1e4,L=Math.round(1e4*L)/1e4,V.style.setProperty("--progress",`${Math.abs(R)}`),V.style.setProperty("--shift",`${e!=null&&e.isRTL()?-1*L:L}px`),R>-1&&R<1&&(L+=.5*n*(1-Math.abs(R)))}}return{init:function(T,L){Rt=L,e=T,e.on("ready",r),e.on("initSlides",f),e.on("render",a),e.on("change",C)},destroy:function(){var T,L;e==null||e.off("ready",r),e==null||e.off("initSlides",f),e==null||e.off("render",a),e==null||e.off("change",C),e==null||e.off("addSlide",F),e==null||e.off("click",I),(T=e==null?void 0:e.getGestures())===null||T===void 0||T.off("start",p),(L=e==null?void 0:e.getContainer())===null||L===void 0||L.classList.remove("has-thumbs"),e=void 0,t==null||t.destroy(),t=void 0,i==null||i.remove(),i=void 0},getCarousel:function(){return t},getContainer:function(){return i},isEnabled:function(){return c()}}};/*! License details at fancyapps.com/license */const vn={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},li=()=>{let e;function t(o,l){let s=l.src;if(!Ae(s))return;let c=l.type;if(!c){if(c||(s.charAt(0)==="#"?c="inline":s.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?c="image":s.match(/\.(pdf)((\?|#).*)?$/i)?c="pdf":s.match(/\.(html|php)((\?|#).*)?$/i)&&(c="iframe")),!c){const g=s.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);g&&(s=`https://maps.google.${g[1]}/?ll=${(g[2]?g[2]+"&z="+Math.floor(parseFloat(g[3]))+(g[4]?g[4].replace(/^\//,"&"):""):g[4]+"").replace(/\?/,"&")}&output=${g[4]&&g[4].indexOf("layer=c")>0?"svembed":"embed"}`,c="gmap")}if(!c){const g=s.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);g&&(s=`https://maps.google.${g[1]}/maps?q=${g[2].replace("query=","q=").replace("api=1","")}&output=embed`,c="gmap")}l.src=s,l.type=c}}function i(o,l){l.type!=="iframe"&&l.type!=="pdf"&&l.type!=="gmap"||function(s){if(!e||!s.el||!s.src)return;const c=document.createElement("iframe");c.classList.add("f-iframe");for(const[v,E]of Object.entries(function(){const h=e==null?void 0:e.getOptions().Html;return De(h)?Object.assign(Object.assign({},vn),h):vn}().iframeAttr||{}))c.setAttribute(v,E);c.onerror=()=>{e&&e.getState()===1&&e.showError(s,"{{IFRAME_ERROR}}")},c.src=s.src;const g=document.createElement("div");if(g.classList.add("f-html"),g.append(c),s.width){let v=`${s.width}`;v.match(/^\d+$/)&&(v+="px"),g.style.maxWidth=`${v}`}if(s.height){let v=`${s.height}`;v.match(/^\d+$/)&&(v+="px"),g.style.maxHeight=`${v}`}if(s.aspectRatio){const v=s.el.getBoundingClientRect();g.style.aspectRatio=`${s.aspectRatio}`,g.style[v.width>v.height?"width":"height"]="auto",g.style[v.width>v.height?"maxWidth":"maxHeight"]="none"}s.contentEl=c,s.htmlEl=g,s.el.classList.add("has-html"),s.el.classList.add("has-iframe"),s.el.classList.add(`has-${s.type}`),s.el.prepend(g),e.emit("contentReady",s)}(l)}function n(o,l){var s,c;l.type!=="iframe"&&l.type!=="pdf"&&l.type!=="gmap"||(e==null||e.hideError(l),(s=l.contentEl)===null||s===void 0||s.remove(),l.contentEl=void 0,(c=l.htmlEl)===null||c===void 0||c.remove(),l.htmlEl=void 0)}return{init:function(o){e=o,e.on("addSlide",t),e.on("attachSlideEl",i),e.on("detachSlideEl",n)},destroy:function(){e==null||e.off("addSlide",t),e==null||e.off("attachSlideEl",i),e==null||e.off("detachSlideEl",n),e=void 0}}};/*! License details at fancyapps.com/license */const pn=(e,t={})=>{const i=new URL(e),n=new URLSearchParams(i.search),o=new URLSearchParams;for(const[c,g]of[...n,...Object.entries(t)]){let v=g+"";if(c==="t"){let E=v.match(/((\d*)m)?(\d*)s?/);E&&o.set("start",60*parseInt(E[2]||"0")+parseInt(E[3]||"0")+"")}else o.set(c,v)}let l=o+"",s=e.match(/#t=((.*)?\d+s)/);return s&&(l+=`#t=${s[1]}`),l},mn={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},ri=()=>{let e,t=!1;function i(){const f=e==null?void 0:e.getOptions().Video;return De(f)?Object.assign(Object.assign({},mn),f):mn}function n(){var f;return(f=e==null?void 0:e.getPage())===null||f===void 0?void 0:f.slides[0]}const o=f=>{var r;try{let p=JSON.parse(f.data);if(f.origin==="https://player.vimeo.com"){if(p.event==="ready")for(let a of Array.from(((r=e==null?void 0:e.getContainer())===null||r===void 0?void 0:r.getElementsByClassName("f-iframe"))||[]))a instanceof HTMLIFrameElement&&a.contentWindow===f.source&&(a.dataset.ready="true")}else if(f.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&p.event==="onReady"){const a=document.getElementById(p.id);a&&(a.dataset.ready="true")}}catch{}};function l(f,r){const p=r.src;if(!Ae(p))return;let a=r.type;if(!a||a==="html5video"){const C=p.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);C&&(a="html5video",r.html5videoFormat=r.html5videoFormat||"video/"+(C[1]==="ogv"?"ogg":C[1]))}if(!a||a==="youtube"){const C=p.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(C){const F=Object.assign(Object.assign({},i().youtube),r.youtube||{}),I=`www.youtube${F.nocookie?"-nocookie":""}.com`,k=pn(p,F),T=encodeURIComponent(C[2]);r.videoId=T,r.src=`https://${I}/embed/${T}?${k}`,r.thumb=r.thumb||`https://i.ytimg.com/vi/${T}/mqdefault.jpg`,a="youtube"}}if(!a||a==="vimeo"){const C=p.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(C){const F=Object.assign(Object.assign({},i().vimeo),r.vimeo||{}),I=pn(p,F),k=encodeURIComponent(C[2]),T=C[5]||"";r.videoId=k,r.src=`https://player.vimeo.com/video/${k}?${T?`h=${T}${I?"&":""}`:""}${I}`,a="vimeo"}}r.type=a}function s(f,r){r.type==="html5video"&&function(p){if(!e||!p.el||!p.src)return;const{el:a,src:C}=p;if(!a||!C)return;const F=p.html5videoTpl||i().html5videoTpl,I=p.html5videoFormat||i().html5videoFormat;if(!F)return;const k=p.poster||(p.thumb&&Ae(p.thumb)?p.thumb:""),T=lt(F.replace(/\{\{src\}\}/gi,C+"").replace(/\{\{format\}\}/gi,I||"").replace(/\{\{poster\}\}/gi,k+""));if(!T)return;const L=document.createElement("div");L.classList.add("f-html"),L.append(T),p.contentEl=T,p.htmlEl=L,a.classList.add(`has-${p.type}`),a.prepend(L),E(p),e.emit("contentReady",p)}(r),r.type!=="youtube"&&r.type!=="vimeo"||function(p){if(!e||!p.el||!p.src)return;const a=document.createElement("iframe");a.classList.add("f-iframe"),a.setAttribute("id",`f-iframe_${p.videoId}`);for(const[F,I]of Object.entries(i().iframeAttr||{}))a.setAttribute(F,I);a.onload=()=>{var F;e&&e.getState()===1&&p.type==="youtube"&&((F=a.contentWindow)===null||F===void 0||F.postMessage(JSON.stringify({event:"listening",id:a.getAttribute("id")}),"*"))},a.onerror=()=>{e&&e.getState()===1&&(e==null||e.showError(p,"{{IFRAME_ERROR}}"))},a.src=p.src;const C=document.createElement("div");C.classList.add("f-html"),C.append(a),p.contentEl=a,p.htmlEl=C,p.el.classList.add("has-html"),p.el.classList.add("has-iframe"),p.el.classList.add(`has-${p.type}`),p.el.prepend(C),E(p),e.emit("contentReady",p)}(r)}function c(f,r){var p,a;r.type!=="html5video"&&r.type!=="youtube"&&r.type!=="vimeo"||((p=r.contentEl)===null||p===void 0||p.remove(),r.contentEl=void 0,(a=r.htmlEl)===null||a===void 0||a.remove(),r.htmlEl=void 0),r.poller&&clearTimeout(r.poller)}function g(){t=!1}function v(){if(t)return;t=!0;const f=n();(f&&f.autoplay!==void 0?f.autoplay:i().autoplay)&&(function(){var r;const p=n(),a=p==null?void 0:p.el;if(a&&(p==null?void 0:p.type)==="html5video")try{const F=a.querySelector("video");if(F){const I=F.play();I!==void 0&&I.then(()=>{}).catch(k=>{F.muted=!0,F.play()})}}catch{}const C=p==null?void 0:p.htmlEl;C instanceof HTMLIFrameElement&&((r=C.contentWindow)===null||r===void 0||r.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))}(),function(){const r=n(),p=r==null?void 0:r.type;if(!(r!=null&&r.el)||p!=="youtube"&&p!=="vimeo")return;const a=()=>{if(r.contentEl&&r.contentEl instanceof HTMLIFrameElement&&r.contentEl.contentWindow){let C;if(r.contentEl.dataset.ready==="true")return C=r.type==="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"},C&&r.contentEl.contentWindow.postMessage(JSON.stringify(C),"*"),void(r.poller=void 0);r.type==="youtube"&&(C={event:"listening",id:r.contentEl.getAttribute("id")},r.contentEl.contentWindow.postMessage(JSON.stringify(C),"*"))}r.poller=setTimeout(a,250)};a()}())}function E(f){const r=f==null?void 0:f.htmlEl;if(f&&r&&(f.type==="html5video"||f.type==="youtube"||f.type==="vimeo")){if(r.style.aspectRatio="",r.style.width="",r.style.height="",r.style.maxWidth="",r.style.maxHeight="",f.width){let p=`${f.width}`;p.match(/^\d+$/)&&(p+="px"),r.style.maxWidth=`${p}`}if(f.height){let p=`${f.height}`;p.match(/^\d+$/)&&(p+="px"),r.style.maxHeight=`${p}`}if(f.aspectRatio){const p=f.aspectRatio.split("/"),a=parseFloat(p[0].trim()),C=p[1]?parseFloat(p[1].trim()):0,F=a&&C?a/C:a;r.offsetHeight;const I=r.getBoundingClientRect(),k=F<(I.width||1)/(I.height||1);r.style.aspectRatio=`${f.aspectRatio}`,r.style.width=k?"auto":"",r.style.height=k?"":"auto"}}}function h(){E(n())}return{init:function(f){e=f,e.on("addSlide",l),e.on("attachSlideEl",s),e.on("detachSlideEl",c),e.on("ready",v),e.on("change",g),e.on("settle",v),e.on("refresh",h),window.addEventListener("message",o)},destroy:function(){e==null||e.off("addSlide",l),e==null||e.off("attachSlideEl",s),e==null||e.off("detachSlideEl",c),e==null||e.off("ready",v),e==null||e.off("change",g),e==null||e.off("settle",v),e==null||e.off("refresh",h),window.removeEventListener("message",o),e=void 0}}};/*! License details at fancyapps.com/license */const bn={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},yn="in-fullscreen-mode",ai=()=>{let e;function t(h){const f=e==null?void 0:e.getOptions().Fullscreen;let r=(De(f)?Object.assign(Object.assign({},bn),f):bn)[h];return r&&typeof r=="function"&&e?r(e):r}function i(){var h;(h=e==null?void 0:e.getPlugins().Toolbar)===null||h===void 0||h.add("fullscreen",{tpl:t("btnTpl")})}function n(){if(t("autoStart")){const h=s();h&&g(h)}}function o(h,f){const r=f.target;r&&!f.defaultPrevented&&r.dataset.fullscreenAction==="toggle"&&E()}function l(h){s()&&h.key==="Escape"&&!h.defaultPrevented&&E()}function s(){return t("el")||(e==null?void 0:e.getContainer())||void 0}function c(){const h=document;return h.fullscreenEnabled?!!h.fullscreenElement:!!h.webkitFullscreenEnabled&&!!h.webkitFullscreenElement}function g(h){const f=document;let r;return h||(h=f.documentElement),f.fullscreenEnabled?r=h.requestFullscreen():f.webkitFullscreenEnabled&&(r=h.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),r&&r.then(()=>{h.classList.add(yn)}),r}function v(){const h=document;let f;return h.fullscreenEnabled?f=h.fullscreenElement&&h.exitFullscreen():h.webkitFullscreenEnabled&&(f=h.webkitFullscreenElement&&h.webkitExitFullscreen()),f&&f.then(()=>{var r;(r=s())===null||r===void 0||r.classList.remove(yn)}),f}function E(){const h=s();h&&(c()?v():g(h))}return{init:function(h){e=h,e.on("initPlugins",i),e.on("ready",n),e.on("click",o)},destroy:function(){e==null||e.off("initPlugins",i),e==null||e.off("ready",n),e==null||e.off("click",o),document.removeEventListener("keydown",l,!0)},exit:v,inFullscreen:c,request:g,toggle:E}};/*! License details at fancyapps.com/license */let Ke,$t=!1,En=!1,wt=!1,Bt=!1;const At=()=>{const e=new URL(document.URL).hash,t=e.slice(1).split("-"),i=t[t.length-1],n=i&&/^\+?\d+$/.test(i)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:n}},Yt=()=>{if(!Ke||Ke.getInstance())return;const{slug:e,index:t}=At();if(!e||!Ke||Ke.getInstance())return;const i=document.querySelectorAll(`[data-fancybox="${e}"]`);if(!i.length)return;const n=i[t-1];n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},ci=()=>{var e,t;if(!Ke||wt)return;const i=Ke==null?void 0:Ke.getInstance();if((i==null?void 0:i.getOptions().Hash)===!1)return;const{slug:n,index:o}=At(),l=((e=i==null?void 0:i.getSlide())===null||e===void 0?void 0:e.fancybox)||void 0;i&&l&&(n===l?(t=i.getCarousel())===null||t===void 0||t.goTo(o-1):(Bt=!0,i.close(),Bt=!1)),Yt()},wn=()=>{Ke&&setTimeout(()=>{$t=!0,Yt(),$t=!1,window.addEventListener("hashchange",ci,!1)},300)},Wt=()=>{let e,t="auto",i="";function n(){var s,c;if(!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const g=e.getCarousel();if(!g)return;const{hash:v,slug:E}=At(),h=e.getSlide();if(!h)return;let f=h.fancybox||"",r=parseInt(h.index+"",10)+1;if(!f)return;let p=`#${f}-${r}`;if((((c=(s=e.getCarousel())===null||s===void 0?void 0:s.getPages())===null||c===void 0?void 0:c.length)||0)<2&&(p=`#${f}`),v!==p&&(i=v),history.scrollRestoration&&(t=history.scrollRestoration,history.scrollRestoration="manual"),g.on("change",o),!$t)if(f===E)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+p)}catch{}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+p),En=!0}catch{}}function o(){if(!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const{slug:s}=At(),c=e.getSlide();if(!c)return;let g=c.fancybox||"",v=`#${g}-${c.index+1}`;if(g===s){wt=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+v)}catch{}wt=!1}}function l(){if(Bt||!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const s=e.getSlide();if(s&&s.fancybox){wt=!0;try{!En||$t||function(){if(window.parent===window)return!1;try{var c=window.frameElement}catch{c=null}return c===null?location.protocol==="data:":c.hasAttribute("sandbox")}()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+i):window.history.back()}catch{}wt=!1}}return{init:function(s){e=s,e.on("ready",n),e.on("close",l)},destroy:function(){e==null||e.off("ready",n),e==null||e.off("close",l);const s=e==null?void 0:e.getCarousel();s&&s.off("change",o),e=void 0,history.scrollRestoration&&t&&(history.scrollRestoration=t)}}};Wt.startFromUrl=Yt,Wt.setup=function(e){Ke||(Ke=e,Mn()&&(/complete|interactive|loaded/.test(document.readyState)?wn():document.addEventListener("DOMContentLoaded",wn)))};/*! License details at fancyapps.com/license */const ui=Object.assign(Object.assign({},Zt),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"});/*! License details at fancyapps.com/license */const An='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';$n().add("close",{tpl:An});const jn=e=>{e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))},xn=(e=null,t="",i)=>{if(!e||!e.parentElement||!t)return void(i&&i());jn(e);const n=o=>{o.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",n),delete e.dataset.animationName,i&&i(),e.classList.remove(t))};e.dataset.animationName=t,e.addEventListener("animationend",n),ve(e,t)};var $e;(function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.Destroyed=3]="Destroyed"})($e||($e={}));const xt={ajax:null,backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:ui,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},tt=new Map;let di=0;const Ln="with-fancybox",fi=()=>{let e,t,i,n,o,l=$e.Init,s=Object.assign({},xt),c=-1,g={},v=[],E=!1,h=!0,f=0;function r(x,...$){let U=s[x];return U&&typeof U=="function"?U(ke,...$):U}function p(x,$=[]){const U=r("l10n")||{};x=String(x).replace(/\{\{(\w+)\}\}/g,(P,z)=>U[z]||P);for(let P=0;P<$.length;P++)x=x.split($[P][0]).join($[P][1]);return x=x.replace(/\{\{(.*?)\}\}/g,(P,z)=>z)}const a=new Map;function C(x,...$){const U=[...a.get(x)||[]];for(const[P,z]of Object.entries(s.on||{}))(P===x||P.split(" ").indexOf(x)>-1)&&U.push(z);for(const P of U)P&&typeof P=="function"&&P(ke,...$);x!=="*"&&C("*",x,...$)}function F(x=[],$={}){l!==$e.Init&&(ke.destroy(),l=$e.Init),s=Ne({},xt,$),c=r("id")||"fancybox-"+ ++di;const U=tt.get(c);if(U&&U.destroy(),tt.set(c,ke),C("init"),function(){for(const[P,z]of Object.entries(Object.assign(Object.assign({},Fe.Plugins),s.plugins||{})))if(P&&!g[P]&&z instanceof Function){const H=z();H.init(ke),g[P]=H}C("initPlugins")}(),function(P=[]){C("initSlides",P),v=[...P]}(x),function(){const P=r("parentEl")||document.body;if(!(P&&P instanceof HTMLElement))return;const z=p(r("mainTpl")||"");if(e=lt(z)||void 0,!e||(t=e.querySelector(".fancybox__container"),!(t&&t instanceof HTMLElement)))return;const H=r("mainClass");H&&ve(t,H);const d=r("mainStyle");if(d&&De(d))for(const[S,M]of Object.entries(d))t.style.setProperty(S,M);const m=r("theme"),O=m==="auto"?window.matchMedia("(prefers-color-scheme:light)").matches:m==="light";t.setAttribute("theme",O?"light":"dark"),e.setAttribute("id",`${c}`),e.addEventListener("keydown",S=>{S.key==="Escape"&&S.preventDefault()}),e.addEventListener("wheel",S=>{const M=S.target;let Z=r("wheel",S);M.closest(".f-thumbs")&&(Z="slide");const ie=Z==="slide",q=[-S.deltaX||0,-S.deltaY||0,-S.detail||0].reduce(function(oe,ce){return Math.abs(ce)>Math.abs(oe)?ce:oe}),Q=Math.max(-1,Math.min(1,q)),te=Date.now();f&&te-f<300?ie&&S.preventDefault():(f=te,C("wheel",S,Q),S.defaultPrevented||(Z==="close"?_e(S):Z==="slide"&&n&&!ct(M)&&(S.preventDefault(),n[Q>0?"prev":"next"]())))},{capture:!0,passive:!1}),e.addEventListener("cancel",S=>{_e(S)}),P.append(e),tt.size===1&&(r("hideScrollbar")&&Kt(!0),document.documentElement.classList.add(Ln)),e instanceof HTMLDialogElement&&e.showModal(),C("initLayout")}(),function(){if(i=(e==null?void 0:e.querySelector(".fancybox__carousel"))||void 0,!i)return;i.fancybox=ke;const P=Ne({},{Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:z=>{const H=z.getContainer();return(H==null?void 0:H.querySelector(".f-carousel__toolbar [data-autoplay-action]"))||H}},Fullscreen:{el:t},Toolbar:{absolute:!0,items:{counter:{tpl:'<div class="f-counter"><span data-fancybox-page></span>/<span data-fancybox-pages></span></div>'}},display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Thumbs:{minCount:2,Carousel:{classes:{container:"fancybox__thumbs"}}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:Tn,Arrows:ii,Lazyload:On,Zoomable:ni,Html:li,Video:ri,Autoplay:oi,Fullscreen:ai,Thumbs:si,Toolbar:$n}},r("Carousel")||{},{slides:v,enabled:!0,initialPage:r("startIndex")||0,l10n:r("l10n")});n=Pt(i,P),C("initCarousel",n),n.on("*",(z,H,...d)=>{C(`Carousel.${H}`,z,...d)}),n.on("attachSlideEl",k),n.on("detachSlideEl",T),n.on("contentReady",re),n.on("ready",V),n.on("change",_),n.on("settle",R),n.on("thumbs:ready",he),n.on("thumbs:destroy",he),n.init()}(),e&&t){if(r("closeExisting"))for(const[P,z]of tt.entries())P!==c&&z.close();r("fadeEffect")?(setTimeout(()=>{I()},500),ve(t,"is-revealing")):I(),t.classList.add("is-ready"),l=$e.Ready,C("ready")}}function I(){Ue(t,"is-revealing");try{document.activeElement===e&&((t==null?void 0:t.querySelector("[autofocus]"))||t).focus()}catch{}}function k(x,$){var U;Ee($),fe(),(U=$.el)===null||U===void 0||U.addEventListener("click",L),$.type!=="inline"&&$.type!=="clone"||function(P){if(!n||!P||!P.el)return;let z=null;if(Ae(P.src)){const H=P.src.split("#",2).pop();z=H?document.getElementById(H):null}if(z){if(ve(z,"f-html"),P.type==="clone"||z.closest(".fancybox__carousel")){z=z.cloneNode(!0);const H=z.dataset.animationName;H&&(z.classList.remove(H),delete z.dataset.animationName);let d=z.getAttribute("id");d=d?`${d}--clone`:`clone-${c}-${P.index}`,z.setAttribute("id",d)}else if(z.parentNode){const H=document.createElement("div");H.inert=!0,z.parentNode.insertBefore(H,z),P.placeholderEl=H}P.htmlEl=z,ve(P.el,"has-html"),P.el.prepend(z),z.classList.remove("hidden"),z.style.display==="none"&&(z.style.display=""),getComputedStyle(z).getPropertyValue("display")==="none"&&(z.style.display=z.dataset.display||"flex"),n==null||n.emit("contentReady",P)}else n==null||n.showError(P,"{{ELEMENT_NOT_FOUND}}")}($),$.type==="ajax"&&function(P){const z=P.el;if(!z||P.htmlEl||P.xhr)return;n==null||n.showLoading(P),P.state=0;const H=new XMLHttpRequest;H.onreadystatechange=function(){if(H.readyState===XMLHttpRequest.DONE&&l===$e.Ready)if(n==null||n.hideLoading(P),P.state=1,H.status===200){let m=H.responseText+"",O=null,S=null;if(P.filter){const M=document.createElement("div");M.innerHTML=m,S=M.querySelector(P.filter+"")}S&&S instanceof HTMLElement?O=S:(O=document.createElement("div"),O.innerHTML=m),O.classList.add("f-html"),P.htmlEl=O,z.classList.add("has-html"),z.classList.add("has-ajax"),z.prepend(O),n==null||n.emit("contentReady",P)}else n==null||n.showError(P)};const d=r("ajax")||null;H.open(d?"POST":"GET",P.src+""),H.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),H.setRequestHeader("X-Requested-With","XMLHttpRequest"),H.send(d),P.xhr=H}($)}function T(x,$){var U;(function(P){P.closeButtonEl&&(P.closeButtonEl.remove(),P.closeButtonEl=void 0)})($),(U=$.el)===null||U===void 0||U.removeEventListener("click",L),$.type!=="inline"&&$.type!=="clone"||function(P){const z=P.htmlEl,H=P.placeholderEl;z&&(getComputedStyle(z).getPropertyValue("display")!=="none"&&(z.style.display="none"),z.offsetHeight),H&&(z&&H.parentNode&&H.parentNode.insertBefore(z,H),H.remove()),P.htmlEl=void 0,P.placeholderEl=void 0}($),$.xhr&&($.xhr.abort(),$.xhr=void 0)}function L(x){if(!J())return;if(l!==$e.Ready)return x.preventDefault(),void x.stopPropagation();if(x.defaultPrevented||!pt.isClickAllowed())return;const $=x.composedPath()[0];$.closest(".fancybox__carousel")&&$.classList.contains("fancybox__slide")&&ae(x)}function _(){h=!1,t&&n&&t.classList.remove("is-revealing"),fe();const x=r("sync");if(n&&x){const $=x.getPageIndex(n.getPageIndex())||0;x.goTo($,{transition:!1})}}function V(){var x;if(l!==$e.Ready)return;we(X()),function(){if(!r("dragToClose")||!n)return;const U=n.getViewport();if(!U)return;const P=pt(U).init();if(!P)return;let z=0,H=0,d=rt().on("step",m=>{z=m.y;const O=n==null?void 0:n.getViewport();if(t&&O){const S=Ht(Math.abs(z),0,.5*O.getBoundingClientRect().height,1,.5);t.style.setProperty("--f-drag-opacity",S+""),t.style.setProperty("--f-drag-offset",z+"px")}}).on("end",()=>{if(!z){t&&t.style.removeProperty("--f-opacity");const m=n==null?void 0:n.getViewport();m&&(m.style.transform="")}});P.on("start",function(){d.pause()}).on("panstart",m=>{var O;const S=m.srcEvent.target;S&&!ct(S)&&((O=n==null?void 0:n.getViewport())===null||O===void 0||O.classList.add("is-dragging"))}).on("pan",function(m){const O=m.srcEvent.target;O&&ct(O)||n!=null&&n.getViewport()&&m.axis==="y"&&(H+=m.deltaY,d.spring({clamp:!0,mass:1,tension:860,friction:17,restDelta:.01,restSpeed:.01}).from({y:z}).to({y:H}).start())}).on("end",function(m){d.pause(),m.axis==="y"&&Math.abs(m.velocityY)>5&&Math.abs(H)>0&&(_e(m.srcEvent,"f-throwOut"+(m.velocityY>0?"Down":"Up")),l===$e.Closing)||H!==0&&(H=0,d.spring({clamp:!0,mass:1,tension:140,friction:25,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:z}).to({y:H}).start())})}(),document.body.addEventListener("click",be),document.body.addEventListener("keydown",j,{passive:!1,capture:!0}),fe(),Le();const $=r("sync");$&&((x=$.getTween())===null||x===void 0||x.start())}function R(){n!=null&&n.canGoNext()?Le():He()}function re(x,$){Ee($),we($)}function he(){var x;const $=n==null?void 0:n.getPlugins().Thumbs;ze(t,"has-thumbs",($==null?void 0:$.isEnabled())||!1),ze(t,"has-vertical-thumbs",((x=$==null?void 0:$.getCarousel())===null||x===void 0?void 0:x.isVertical())||!1)}function fe(){if(t){const x=(n==null?void 0:n.getPages())||[],$=(n==null?void 0:n.getPageIndex())||0;for(const U of t.querySelectorAll("[data-fancybox-index]"))U.innerHTML=$+"";for(const U of t.querySelectorAll("[data-fancybox-page]"))U.innerHTML=$+1+"";for(const U of t.querySelectorAll("[data-fancybox-pages]"))U.innerHTML=x.length+""}}function ae(x){if(x.composedPath()[0].closest("[data-fancybox-close]"))return void _e(x);C("backdropClick",x),!x.defaultPrevented&&r("backdropClick")&&_e(x)}function se(){ye()}function j(x){if(!J()||l!==$e.Ready)return;const $=x.key,U=r("keyboard");if(!U||x.ctrlKey||x.altKey||x.shiftKey)return;const P=x.composedPath()[0];if(!ht(P)||$!=="Escape"&&(H=>{const d=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return H.matches(d)||H.closest(d)})(P)||(C("keydown",x),x.defaultPrevented))return;const z=U[$];if(z)switch(z){case"close":_e(x);break;case"next":x.preventDefault(),n==null||n.next();break;case"prev":x.preventDefault(),n==null||n.prev()}}function be(x){if(!J()||l!==$e.Ready||(ye(),x.defaultPrevented))return;const $=x.composedPath()[0],U=!!$.closest("[data-fancybox-close]"),P=$.classList.contains("fancybox__backdrop");(U||P)&&ae(x)}function Ee(x){var $;const{el:U,htmlEl:P,closeButtonEl:z}=x;if(!U||!P||z)return;let H=r("closeButton");if(H==="auto"&&(H=(($=n==null?void 0:n.getPlugins().Toolbar)===null||$===void 0?void 0:$.isEnabled())!==!0),H){const d=lt(p(An));d&&(x.closeButtonEl=P.insertAdjacentElement("afterbegin",d),U.classList.add("has-close-btn"))}}function we(x){if(!(h&&n&&n.getState()===1&&x&&x.index===n.getOptions().initialPage&&x.el&&x.el.parentElement)||x.state!==void 0&&x.state!==1)return;h=!1;const $=x.panzoomRef,U=$==null?void 0:$.getTween(),P=r("zoomEffect")&&U?D(x):void 0;if($&&U&&P){const{x:H,y:d,scale:m}=$.getStartPosition();return void U.spring({tension:225,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(P).to({x:H,y:d,scale:m}).start()}const z=($==null?void 0:$.getContent())||x.htmlEl;z&&xn(z,r("showClass",x))}function J(){var x;return((x=Fe.getInstance())===null||x===void 0?void 0:x.getId())===c}function X(){var x;return(x=n==null?void 0:n.getPage())===null||x===void 0?void 0:x.slides[0]}function ee(){const x=X();return x?x.triggerEl||r("triggerEl"):void 0}function D(x){var $,U;const P=x.thumbEl;if(!P||!(ie=>{const q=ie.getBoundingClientRect(),Q=ie.closest("[style]"),te=Q==null?void 0:Q.parentElement;if(Q&&Q.style.transform&&te){const ue=te.getBoundingClientRect();if(q.left<ue.left||q.left>ue.left+ue.width-q.width||q.top<ue.top||q.top>ue.top+ue.height-q.height)return!1}const oe=Math.max(document.documentElement.clientHeight,window.innerHeight),ce=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(q.bottom<0||q.top-oe>=0||q.right<0||q.left-ce>=0)})(P))return;const z=(U=($=x.panzoomRef)===null||$===void 0?void 0:$.getWrapper())===null||U===void 0?void 0:U.getBoundingClientRect(),H=z==null?void 0:z.width,d=z==null?void 0:z.height;if(!H||!d)return;const m=P.getBoundingClientRect();let O=m.width,S=m.height,M=m.left,Z=m.top;if(!(!m||!O||!S)){if(P instanceof HTMLImageElement){const ie=window.getComputedStyle(P).getPropertyValue("object-fit");if(ie==="contain"||ie==="scale-down"){const{width:q,height:Q}=((te,oe,ce,ue,Me="contain")=>{if(Me==="contain"||te>ce||oe>ue){const Se=ce/te,Pe=ue/oe,le=Math.min(Se,Pe);te*=le,oe*=le}return{width:te,height:oe}})(P.naturalWidth,P.naturalHeight,O,S,ie);M+=.5*(O-q),Z+=.5*(S-Q),O=q,S=Q}}if(!(Math.abs(H/d-O/S)>.1))return{x:M+.5*O-(z.left+.5*H),y:Z+.5*S-(z.top+.5*d),scale:O/H}}}function de(){o&&clearTimeout(o),o=void 0,document.removeEventListener("mousemove",se)}function Le(){if(E||o)return;const x=r("idle");x&&(o=setTimeout(je,x))}function je(){t&&(de(),ve(t,"is-idle"),document.addEventListener("mousemove",se),E=!0)}function ye(){E&&(He(),Le())}function He(){de(),t==null||t.classList.remove("is-idle"),E=!1}function _e(x,$){var U,P,z,H,d,m;if(l===$e.Closing||l===$e.Destroyed)return;const O=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(C("shouldClose",O,x),O.defaultPrevented)return;if(de(),x){if(x.defaultPrevented)return;x.cancelable&&x.preventDefault(),x.stopPropagation(),x.stopImmediatePropagation()}if(l=$e.Closing,n){(U=n.getGestures())===null||U===void 0||U.destroy(),(P=n.getTween())===null||P===void 0||P.pause();const M=X(),Z=M==null?void 0:M.panzoomRef;M&&Z&&Ne(Z.getOptions(),{clickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0});for(const ie of n.getSlides())(H=(z=ie.panzoomRef)===null||z===void 0?void 0:z.getGestures())===null||H===void 0||H.destroy(),(m=(d=ie.panzoomRef)===null||d===void 0?void 0:d.getTween())===null||m===void 0||m.pause()}const S=n==null?void 0:n.getPlugins().fullscreen;S&&S.inFullscreen()?Promise.resolve(S.exit()).then(()=>{setTimeout(()=>{Je(x,$)},150)}):Je(x,$)}function Je(x,$){var U,P,z,H,d;if(l!==$e.Closing)return;if(C("close",x),r("placeFocusBack")){const Q=ee();!Q||(d=Q.getBoundingClientRect()).bottom>0&&d.right>0&&d.left<(window.innerWidth||document.documentElement.clientWidth)&&d.top<(window.innerHeight||document.documentElement.clientHeight)||Q.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}r("fadeEffect")&&(t==null||t.classList.remove("is-ready"),t==null||t.classList.add("is-hiding")),t==null||t.classList.add("is-closing");const m=X(),O=m==null?void 0:m.panzoomRef,S=(U=m==null?void 0:m.panzoomRef)===null||U===void 0?void 0:U.getTween(),M=$||r("hideClass");let Z=!1,ie=!1;if(n&&m&&O&&S){let Q;r("zoomEffect")&&(((z=(P=n.getTween())===null||P===void 0?void 0:P.getCurrentVelocities())===null||z===void 0?void 0:z.pos)||0)<700&&m.state===1&&(Q=D(m)),Q&&(Z=!0,n.on("refresh",()=>{const te=D(m);te&&S.to(Object.assign(Object.assign({},We),te))}),S.easing(rt.Easings.EaseOut).duration(350).from(Object.assign({},O.getTransform())).to(Object.assign(Object.assign({},We),Q)).start())}const q=(m==null?void 0:m.htmlEl)||((H=m==null?void 0:m.panzoomRef)===null||H===void 0?void 0:H.getWrapper());q&&jn(q),!Z&&M&&q&&(ie=!0,xn(q,M,()=>{Xe()})),Z||ie?setTimeout(()=>{Xe()},350):Xe()}function Xe(){var x,$,U,P,z,H;if(l===$e.Destroyed)return;l=$e.Destroyed,document.body.removeEventListener("click",be),document.body.removeEventListener("keydown",j,{passive:!1,capture:!0});const d=ee();C("destroy"),($=(x=r("sync"))===null||x===void 0?void 0:x.getPlugins().Autoplay)===null||$===void 0||$.resume(),(P=(U=r("sync"))===null||U===void 0?void 0:U.getPlugins().Autoscroll)===null||P===void 0||P.resume(),e instanceof HTMLDialogElement&&e.close(),(z=n==null?void 0:n.getContainer())===null||z===void 0||z.classList.remove("is-idle"),n==null||n.destroy();for(const m of Object.values(g))m==null||m.destroy();if(g={},e==null||e.remove(),e=void 0,t=void 0,n=void 0,tt.delete(c),!tt.size)if(Kt(!1),document.documentElement.classList.remove(Ln),r("placeFocusBack"))try{d==null||d.focus({preventScroll:!0})}catch{}else(H=document.activeElement)===null||H===void 0||H.blur()}const ke={close:_e,destroy:Xe,getCarousel:function(){return n},getContainer:function(){return t},getId:function(){return c},getOptions:function(){return s},getPlugins:function(){return g},getSlide:function(){return X()},getState:function(){return l},init:function(x=[],$={}){return F(x,$),ke},isCurrentSlide:function(x){const $=X();return!(!x||!$)&&$.index===x.index},isTopMost:function(){return J()},off:function(x,$){return a.has(x)&&a.set(x,a.get(x).filter(U=>U!==$)),ke},on:function(x,$){return a.set(x,[...a.get(x)||[],$]),ke},toggleIdle(x){(E||x===!0)&&je(),E&&x!==!1||He()}};return ke},Fe={Plugins:{Hash:Wt},version:"6.0.29",openers:new Map,bind:function(e,t,i){if(!Mn())return;let n=document.body,o="[data-fancybox]",l={};if(Ae(e)?(n=document.body,o=e,typeof t=="object"&&(l=t||{})):e instanceof Element&&(n=e,Ae(t)&&(o=t),typeof i=="object"&&(l=i||{})),!(n&&n instanceof Element&&o))return!1;const s=Fe.openers.get(n)||new Map;if(s.set(o,l),Fe.openers.set(n,s),s.size===1){n.addEventListener("click",Fe.fromEvent);for(const c of Object.values(Fe.Plugins)){const g=c.setup;typeof g=="function"&&g(Fe)}}return!0},close:function(e=!0,...t){if(e)for(const i of tt.values())i.close(...t);else{const i=Fe.getInstance();i&&i.close(...t)}},destroy:function(){let e;for(;e=Fe.getInstance();)e.destroy();for(const t of Fe.openers.keys())t.removeEventListener("click",Fe.fromEvent);Fe.openers.clear()},fromEvent:function(e){var t,i,n;if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;let o=e.composedPath()[0];if(o.closest(".fancybox__container.is-hiding"))return e.preventDefault(),void e.stopPropagation();const l=o.closest("[data-fancybox-delegate]")||void 0;if(l){const C=l.dataset.fancyboxDelegate||"",F=document.querySelectorAll(`[data-fancybox="${C}"]`);o=F[parseInt(l.dataset.fancyboxIndex||"",10)||0]||F[0]}if(!(o&&o instanceof Element))return;let s,c,g={};for(const[C,F]of Fe.openers)if(F&&C.contains(o))for(const[I,k]of F){let T=null;try{T=o.closest(I)}catch{}T&&(o=T,s=C,c=I,Ne(g,k||{}))}if(!s||!c)return;e.preventDefault();const v=Ne({},xt,{triggerEvent:e,triggerEl:o,delegateEl:l},g),E=v.groupAll,h=v.groupAttr,f=h&&o?o.getAttribute(`${h}`):"";let r=[];const p=(t=o.closest(".f-carousel"))===null||t===void 0?void 0:t.carousel;if(p){const C=[];for(const F of p==null?void 0:p.getSlides()){const I=F.el;I&&(I.matches(c)?C.push(I):C.push(...[].slice.call(I.querySelectorAll(c))))}C.length&&(r=[...C],(i=p.getPlugins().Autoplay)===null||i===void 0||i.pause(),(n=p.getPlugins().Autoscroll)===null||n===void 0||n.pause(),v.sync=p)}else(!o||f||E)&&(r=[].slice.call(s.querySelectorAll(c)));if(o&&!E&&(r=h&&f?r.filter(C=>C.getAttribute(`${h}`)===f):[o]),!r.length)return;const a=Fe.getInstance();if(a){const C=a.getOptions().triggerEl;if(C&&r.indexOf(C)>-1)return}return Object.assign({},v.Carousel||{}).rtl&&(r=r.reverse()),o&&(v.startIndex=r.indexOf(o)),Fe.fromNodes(r,v)},fromNodes:function(e,t){t=Ne({},xt,t||{});const i=[],n=o=>o instanceof HTMLImageElement?o:o instanceof HTMLElement?o.querySelector("img:not([aria-hidden])"):void 0;for(const o of e){const l=o.dataset||{},s=t.delegateEl&&e.indexOf(o)===t.startIndex?t.delegateEl:void 0,c=n(s)||n(o)||void 0,g=l.src||o.getAttribute("href")||o.getAttribute("currentSrc")||o.getAttribute("src")||void 0,v=l.thumb||l.thumbSrc||(c==null?void 0:c.getAttribute("currentSrc"))||(c==null?void 0:c.getAttribute("src"))||(c==null?void 0:c.dataset.lazySrc)||void 0,E={src:g,alt:l.alt||(c==null?void 0:c.getAttribute("alt"))||void 0,thumbSrc:v,thumbEl:c,triggerEl:o,delegateEl:s};for(const h in l){let f=l[h]+"";f=f!=="false"&&(f==="true"||f),E[h]=f}i.push(E)}return Fe.show(i,t)},fromSelector:function(e,t,i){let n=document.body,o="",l={};if(Ae(e)?o=e:e instanceof Element&&(n=e,Ae(t)&&(o=t),typeof i=="object"&&(l=i||{})),!(n&&n instanceof Element&&o))return;const s=Fe.openers.get(n);return s?(l=Ne({},s.get(o)||{},l),l?Fe.fromNodes(Array.from(n.querySelectorAll(o)),l):void 0):void 0},getCarousel:function(){var e;return((e=Fe.getInstance())===null||e===void 0?void 0:e.getCarousel())||void 0},getDefaults:function(){return xt},getInstance:function(e){if(e){const t=tt.get(e);return t&&t.getState()!==$e.Destroyed?t:void 0}return Array.from(tt.values()).reverse().find(t=>{if(t.getState()!==$e.Destroyed)return t})||void 0},getSlide:function(){var e;return((e=Fe.getInstance())===null||e===void 0?void 0:e.getSlide())||void 0},show:function(e=[],t={}){return fi().init(e,t)},unbind:function(e,t){let i=document.body,n="";if(Ae(e)?n=e:e instanceof Element&&(i=e,Ae(t)&&(n=t)),i){const o=Fe.openers.get(i);o&&n&&o.delete(n),o!=null&&o.size&&n||Fe.openers.delete(i),i.removeEventListener("click",Fe.fromEvent)}}};export{Fe as H,gi as J,hi as g};
