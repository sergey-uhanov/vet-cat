import{f as m,d as _,h as g,r as i,g as o,b as y,i as h}from"./firebase-kXAzlJEp.js";import{u as b}from"./use-query-DC4Lgv9E.js";import{e as u,t as f}from"./experts-slider-inner-BF_kbTxX.js";import{s as C}from"./selection-button-group-DdZLGIiI.js";import"./navigation-BLWR7E83.js";async function x(r){const e=r||"дерматология";try{const n=m(_,"articles",e),t=await g(n);if(t.exists())return t.data()}catch(n){console.error(n)}}function v(r){const e={container:"story__text-container",paragraph:"story__paragraph",heading:"story__sub-title",list:"story__list",listItem:"story__list-item"},n=i("div",e.container),t=document.createDocumentFragment();return r.story.forEach(a=>{switch(a.type){case"paragraph":{const s=i("p",e.paragraph);s.textContent=a.content,t.appendChild(s);break}case"heading":{const s=a.level,p=i("h"+s,e.heading);p.textContent=a.content,t.appendChild(p);break}case"list":{const s=i("ul",e.list);a.items.forEach(p=>{const d=i("li",e.listItem);d.textContent=p,s.appendChild(d)}),t.appendChild(s)}}}),n.appendChild(t),n}async function w(){const r="/vet-cat/",e=o(".story__title"),n=o(".story__img-wrapper"),t=o("picture",n),c=i("source"),a=i("img"),s=o(".breadcrumbs").lastElementChild,d=b().getParam("story"),l=await x(d);e.innerText=l.title,a.src=`${r}${l.img}`,a.alt="animal",a.width="824",a.height="360",c.srcset=`${r}${l.imgWebp}`,c.type="image/webp",t.appendChild(c),t.appendChild(a),document.title=l.title,s.innerText=l.title,o(".story__text-block").appendChild(v(l))}async function E(){const r=y(".button-group__button");let e=o(".button-group__button_active");const n=o(".container-slider");await u(e.getAttribute("data-attribute")),r.forEach(t=>{t.addEventListener("click",async c=>{c.target.classList.contains("button-group__button_active")||(n.style.opacity="0",await u(t.getAttribute("data-attribute")),n.style.opacity="1")})})}document.addEventListener("DOMContentLoaded",async r=>{h(),await w(),f("triple-slider_experts","triple-slider__button-next-icon_experts","triple-slider__button-prev-icon_experts"),await E(),C(".service-slider__button-block")});
