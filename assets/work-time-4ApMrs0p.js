import{c as E,d as S,q as G,w as L,a as V,r as e,g as a,b as k,i as q}from"./firebase-kXAzlJEp.js";import{s as B}from"./selection-button-group-DdZLGIiI.js";import{S as M,N as T}from"./navigation-BLWR7E83.js";async function b(n){try{const t=E(S,"work-time"),s=G(t,L("location","==",n));return(await V(s)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){console.error("Ошибка при получении документов:",t)}}function x(n){const t=document.createDocumentFragment();return n.forEach(s=>{const o=e("div","work-schedule__content-wrapper"),r=e("div",["container-work-time","work-schedule__content"]),p=e("div","item-service__sidebar"),w=e("div","item-service__title");w.textContent=s.service,p.appendChild(w),s.staff.forEach(d=>{const i=e("div","item-service__employer"),c=e("div","item-service__employer-name");c.textContent=d.name;const l=e("div","item-service__employer-position");l.textContent=d.position,i.appendChild(c),i.appendChild(l),p.appendChild(i)}),r.appendChild(p);const _=e("div",["item-service__slider","swiper"]);_.dataset.attribute=s.id;const h=e("div",["swiper-wrapper","item-service__slider-wrapper"]);for(let d=0;d<21;d++){const i=new Date;i.setDate(i.getDate()+d);const c=e("div",["swiper-slide","item-service__slide","slide"]),l=e("div","slide__date-wrapper"),u=e("div","slide__day-week"),m=e("div","slide__date");if(d===0)u.textContent="Сегодня";else if(d===1)u.textContent="Завтра";else{const v=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];u.textContent=v[i.getDay()],(i.getDay()===0||i.getDay()===6)&&(u.style.color="red")}const g=e("span","slide__date-day");g.textContent=i.toLocaleDateString("ru-RU",{day:"numeric"}),m.textContent=i.toLocaleDateString("ru-RU",{month:"long"}),l.appendChild(u),m.prepend(g),l.appendChild(m),c.appendChild(l),s.staff.forEach(v=>{const f=e("div","slide__times-wrapper"),P=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][i.getDay()];f.textContent=v.schedule[P]||"-",c.appendChild(f)}),h.appendChild(c)}_.appendChild(h),r.appendChild(_);const y=e("div","item-service__button-prev");y.innerHTML=`<svg class="icon item-service__button-prev-icon">
                                <use xlink:href="#row"></use>
                             </svg>`;const C=e("div","item-service__button-next");C.innerHTML=`<svg class="icon item-service__button-next-icon">
                                <use xlink:href="#row"></use>
                             </svg>`,r.appendChild(y),r.appendChild(C),o.appendChild(r),t.appendChild(o)}),t}function D(n){const t=a(".item-service__slider",n),s=a(".item-service__button-prev",n),o=a(".item-service__button-next",n);new M(t,{modules:[T],slidesPerView:7,spaceBetween:16,slidesPerGroup:7,navigation:{nextEl:o,prevEl:s},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2},415:{slidesPerView:3,slidesPerGroup:3},562:{slidesPerView:4,slidesPerGroup:4},628:{slidesPerView:5,slidesPerGroup:5},889:{slidesPerView:6,slidesPerGroup:6,spaceBetween:0},1024:{slidesPerView:7,slidesPerGroup:7}}})}async function H(){const n=a(".work-schedule__wrapper");try{const t=await b("Строгино");n.append(x(t)),k(".work-schedule__content").forEach(o=>{D(o)})}catch(t){console.log(t)}}async function W(){const n=a(".work-schedule__wrapper"),t=a(".button-group__container");t.addEventListener("click",async()=>{const s=a(".button-group__button_active",t);try{const o=await b(s.innerText);n.innerHTML="",n.append(x(o)),k(".work-schedule__content").forEach(p=>{D(p)})}catch(o){console.log(o)}})}document.addEventListener("DOMContentLoaded",async n=>{q(),B(".work-schedule__button-block"),await H(),await W()});
