import{r as o,g as i,a as m,i as _}from"./header-zVkTQlWD.js";import{a as g,d as y,b as h}from"./firebase-D0A0i6wl.js";import{u as b}from"./use-query-DC4Lgv9E.js";import{e as u,t as f}from"./experts-slider-inner-DmNYvFWU.js";import{s as C}from"./selection-button-group-Bxblkgt4.js";import"./swiper-DrKpJP0W.js";import"./navigation-BLWR7E83.js";import"./render-img-cards-DOLAWv2M.js";async function x(r){const e=r||"дерматология";try{const n=g(y,"articles",e),t=await h(n);if(t.exists())return t.data()}catch(n){console.error(n)}}function v(r){const e={container:"story__text-container",paragraph:"story__paragraph",heading:"story__sub-title",list:"story__list",listItem:"story__list-item"},n=o("div",e.container),t=document.createDocumentFragment();return r.story.forEach(a=>{switch(a.type){case"paragraph":{const s=o("p",e.paragraph);s.textContent=a.content,t.appendChild(s);break}case"heading":{const s=a.level,l=o("h"+s,e.heading);l.textContent=a.content,t.appendChild(l);break}case"list":{const s=o("ul",e.list);a.items.forEach(l=>{const d=o("li",e.listItem);d.textContent=l,s.appendChild(d)}),t.appendChild(s)}}}),n.appendChild(t),n}async function w(){const r="/vet-cat/",e=i(".story__title"),n=i(".story__img-wrapper"),t=i("picture",n),c=o("source"),a=o("img"),s=i(".breadcrumbs").lastElementChild,d=b().getParam("story"),p=await x(d);e.innerText=p.title,a.src=`${r}${p.img}`,a.alt="animal",a.width="824",a.height="360",c.srcset=`${r}${p.imgWebp}`,c.type="image/webp",t.appendChild(c),t.appendChild(a),document.title=p.title,s.innerText=p.title,i(".story__text-block").appendChild(v(p))}async function E(){const r=m(".button-group__button");let e=i(".button-group__button_active");const n=i(".container-slider");await u(e.getAttribute("data-attribute")),r.forEach(t=>{t.addEventListener("click",async c=>{c.target.classList.contains("button-group__button_active")||(n.style.opacity="0",await u(t.getAttribute("data-attribute")),n.style.opacity="1")})})}document.addEventListener("DOMContentLoaded",async r=>{_(),await w(),f("triple-slider_experts","triple-slider__button-next-icon_experts","triple-slider__button-prev-icon_experts"),await E(),C()});
