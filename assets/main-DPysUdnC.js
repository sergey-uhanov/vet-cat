(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function Ue(r,e,t,n=!0){if(r&&t){const s={add:()=>r.classList.add(t),remove:()=>r.classList.remove(t),toggle:()=>r.classList.toggle(t),toggleBoolean:()=>r.classList.toggle(t,n),contains:()=>r.classList.contains(t)};if(s[e])return s[e]()}}function hl(r,e=document){return e.querySelectorAll(r)}function Ve(r,e=document){return e?e.querySelector(r):null}function au(){const r=hl(".sidebar-sub-list");r.forEach(e=>{e.addEventListener("click",()=>{r.forEach(t=>{e===t?(t.style.pointerEvents="none",Ue(t,"toggle","sidebar-sub-list_active"),setTimeout(()=>{t.style.pointerEvents="auto"},300)):Ue(t,"remove","sidebar-sub-list_active")})})})}var Hn={exports:{}},lu=Hn.exports,Ko;function cu(){return Ko||(Ko=1,function(r,e){(function(n,s){r.exports=s()})(lu,function(){return function(t){var n={};function s(i){if(n[i])return n[i].exports;var a=n[i]={i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=n,s.d=function(i,a,l){s.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:l})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,a){if(a&1&&(i=s(i)),a&8||a&4&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),a&2&&typeof i!="string")for(var c in i)s.d(l,c,(function(d){return i[d]}).bind(null,c));return l},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s=0)}([function(t,n,s){s.r(n);var i=function(M){return Array.isArray(M)?M:[M]},a=function(M){return M instanceof Node},l=function(M){return M instanceof NodeList},c=function(M,j){if(M&&j){M=l(M)?M:[M];for(var Q=0;Q<M.length&&j(M[Q],Q,M.length)!==!0;Q++);}},d=function(M){return console.error("[scroll-lock] ".concat(M))},h=function(M){if(Array.isArray(M)){var j=M.join(", ");return j}},f=function(M){var j=[];return c(M,function(Q){return j.push(Q)}),j},p=function(M,j){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:document;if(Q&&f(ee.querySelectorAll(j)).indexOf(M)!==-1)return M;for(;(M=M.parentElement)&&f(ee.querySelectorAll(j)).indexOf(M)===-1;);return M},y=function(M,j){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,ee=f(Q.querySelectorAll(j)).indexOf(M)!==-1;return ee},E=function(M){if(M){var j=getComputedStyle(M),Q=j.overflow==="hidden";return Q}},_=function(M){if(M){if(E(M))return!0;var j=M.scrollTop;return j<=0}},I=function(M){if(M){if(E(M))return!0;var j=M.scrollTop,Q=M.scrollHeight,ee=j+M.offsetHeight;return ee>=Q}},R=function(M){if(M){if(E(M))return!0;var j=M.scrollLeft;return j<=0}},A=function(M){if(M){if(E(M))return!0;var j=M.scrollLeft,Q=M.scrollWidth,ee=j+M.offsetWidth;return ee>=Q}},T=function(M){var j='textarea, [contenteditable="true"]';return y(M,j)},D=function(M){var j='input[type="range"]';return y(M,j)};s.d(n,"disablePageScroll",function(){return S}),s.d(n,"enablePageScroll",function(){return C}),s.d(n,"getScrollState",function(){return P}),s.d(n,"clearQueueScrollLocks",function(){return v}),s.d(n,"getTargetScrollBarWidth",function(){return k}),s.d(n,"getCurrentTargetScrollBarWidth",function(){return B}),s.d(n,"getPageScrollBarWidth",function(){return X}),s.d(n,"getCurrentPageScrollBarWidth",function(){return O}),s.d(n,"addScrollableTarget",function(){return N}),s.d(n,"removeScrollableTarget",function(){return Y}),s.d(n,"addScrollableSelector",function(){return re}),s.d(n,"removeScrollableSelector",function(){return G}),s.d(n,"addLockableTarget",function(){return U}),s.d(n,"addLockableSelector",function(){return q}),s.d(n,"setFillGapMethod",function(){return pe}),s.d(n,"addFillGapTarget",function(){return J}),s.d(n,"removeFillGapTarget",function(){return ae}),s.d(n,"addFillGapSelector",function(){return ge}),s.d(n,"removeFillGapSelector",function(){return st}),s.d(n,"refillGaps",function(){return it});function V(K){for(var M=1;M<arguments.length;M++){var j=arguments[M]!=null?arguments[M]:{},Q=Object.keys(j);typeof Object.getOwnPropertySymbols=="function"&&(Q=Q.concat(Object.getOwnPropertySymbols(j).filter(function(ee){return Object.getOwnPropertyDescriptor(j,ee).enumerable}))),Q.forEach(function(ee){z(K,ee,j[ee])})}return K}function z(K,M,j){return M in K?Object.defineProperty(K,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):K[M]=j,K}var x=["padding","margin","width","max-width","none"],w=3,g={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:x[0],startTouchY:0,startTouchX:0},S=function(M){g.queue<=0&&(g.scroll=!1,Re(),lt()),N(M),g.queue++},C=function(M){g.queue>0&&g.queue--,g.queue<=0&&(g.scroll=!0,Ye(),Rt()),Y(M)},P=function(){return g.scroll},v=function(){g.queue=0},k=function(M){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a(M)){var Q=M.style.overflowY;j?P()||(M.style.overflowY=M.getAttribute("data-scroll-lock-saved-overflow-y-property")):M.style.overflowY="scroll";var ee=B(M);return M.style.overflowY=Q,ee}else return 0},B=function(M){if(a(M))if(M===document.body){var j=document.documentElement.clientWidth,Q=window.innerWidth,ee=Q-j;return ee}else{var et=M.style.borderLeftWidth,dt=M.style.borderRightWidth;M.style.borderLeftWidth="0px",M.style.borderRightWidth="0px";var tt=M.offsetWidth-M.clientWidth;return M.style.borderLeftWidth=et,M.style.borderRightWidth=dt,tt}else return 0},X=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return k(document.body,M)},O=function(){return B(document.body)},N=function(M){if(M){var j=i(M);j.map(function(Q){c(Q,function(ee){a(ee)?ee.setAttribute("data-scroll-lock-scrollable",""):d('"'.concat(ee,'" is not a Element.'))})})}},Y=function(M){if(M){var j=i(M);j.map(function(Q){c(Q,function(ee){a(ee)?ee.removeAttribute("data-scroll-lock-scrollable"):d('"'.concat(ee,'" is not a Element.'))})})}},re=function(M){if(M){var j=i(M);j.map(function(Q){g.scrollableSelectors.push(Q)})}},G=function(M){if(M){var j=i(M);j.map(function(Q){g.scrollableSelectors=g.scrollableSelectors.filter(function(ee){return ee!==Q})})}},U=function(M){if(M){var j=i(M);j.map(function(Q){c(Q,function(ee){a(ee)?ee.setAttribute("data-scroll-lock-lockable",""):d('"'.concat(ee,'" is not a Element.'))})}),P()||Re()}},q=function(M){if(M){var j=i(M);j.map(function(Q){g.lockableSelectors.push(Q)}),P()||Re(),ge(M)}},pe=function(M){if(M)if(x.indexOf(M)!==-1)g.fillGapMethod=M,it();else{var j=x.join(", ");d('"'.concat(M,`" method is not available!
Available fill gap methods: `).concat(j,"."))}},J=function(M){if(M){var j=i(M);j.map(function(Q){c(Q,function(ee){a(ee)?(ee.setAttribute("data-scroll-lock-fill-gap",""),g.scroll||vt(ee)):d('"'.concat(ee,'" is not a Element.'))})})}},ae=function(M){if(M){var j=i(M);j.map(function(Q){c(Q,function(ee){a(ee)?(ee.removeAttribute("data-scroll-lock-fill-gap"),g.scroll||ut(ee)):d('"'.concat(ee,'" is not a Element.'))})})}},ge=function(M){if(M){var j=i(M);j.map(function(Q){g.fillGapSelectors.indexOf(Q)===-1&&(g.fillGapSelectors.push(Q),g.scroll||Mt(Q))})}},st=function(M){if(M){var j=i(M);j.map(function(Q){g.fillGapSelectors=g.fillGapSelectors.filter(function(ee){return ee!==Q}),g.scroll||ct(Q)})}},it=function(){g.scroll||lt()},Re=function(){var M=h(g.lockableSelectors);At(M)},Ye=function(){var M=h(g.lockableSelectors);Ct(M)},At=function(M){var j=document.querySelectorAll(M);c(j,function(Q){Pt(Q)})},Ct=function(M){var j=document.querySelectorAll(M);c(j,function(Q){xt(Q)})},Pt=function(M){if(a(M)&&M.getAttribute("data-scroll-lock-locked")!=="true"){var j=window.getComputedStyle(M);M.setAttribute("data-scroll-lock-saved-overflow-y-property",j.overflowY),M.setAttribute("data-scroll-lock-saved-inline-overflow-property",M.style.overflow),M.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",M.style.overflowY),M.style.overflow="hidden",M.setAttribute("data-scroll-lock-locked","true")}},xt=function(M){a(M)&&M.getAttribute("data-scroll-lock-locked")==="true"&&(M.style.overflow=M.getAttribute("data-scroll-lock-saved-inline-overflow-property"),M.style.overflowY=M.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),M.removeAttribute("data-scroll-lock-saved-overflow-property"),M.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),M.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),M.removeAttribute("data-scroll-lock-locked"))},lt=function(){g.fillGapSelectors.map(function(M){Mt(M)})},Rt=function(){g.fillGapSelectors.map(function(M){ct(M)})},Mt=function(M){var j=document.querySelectorAll(M),Q=g.lockableSelectors.indexOf(M)!==-1;c(j,function(ee){vt(ee,Q)})},vt=function(M){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a(M)){var Q;if(M.getAttribute("data-scroll-lock-lockable")===""||j)Q=k(M,!0);else{var ee=p(M,h(g.lockableSelectors));Q=k(ee,!0)}M.getAttribute("data-scroll-lock-filled-gap")==="true"&&ut(M);var et=window.getComputedStyle(M);if(M.setAttribute("data-scroll-lock-filled-gap","true"),M.setAttribute("data-scroll-lock-current-fill-gap-method",g.fillGapMethod),g.fillGapMethod==="margin"){var dt=parseFloat(et.marginRight);M.style.marginRight="".concat(dt+Q,"px")}else if(g.fillGapMethod==="width")M.style.width="calc(100% - ".concat(Q,"px)");else if(g.fillGapMethod==="max-width")M.style.maxWidth="calc(100% - ".concat(Q,"px)");else if(g.fillGapMethod==="padding"){var tt=parseFloat(et.paddingRight);M.style.paddingRight="".concat(tt+Q,"px")}}},ct=function(M){var j=document.querySelectorAll(M);c(j,function(Q){ut(Q)})},ut=function(M){if(a(M)&&M.getAttribute("data-scroll-lock-filled-gap")==="true"){var j=M.getAttribute("data-scroll-lock-current-fill-gap-method");M.removeAttribute("data-scroll-lock-filled-gap"),M.removeAttribute("data-scroll-lock-current-fill-gap-method"),j==="margin"?M.style.marginRight="":j==="width"?M.style.width="":j==="max-width"?M.style.maxWidth="":j==="padding"&&(M.style.paddingRight="")}},wt=function(M){it()},Dt=function(M){g.scroll||(g.startTouchY=M.touches[0].clientY,g.startTouchX=M.touches[0].clientX)},ot=function(M){if(!g.scroll){var j=g.startTouchY,Q=g.startTouchX,ee=M.touches[0].clientY,et=M.touches[0].clientX;if(M.touches.length<2){var dt=h(g.scrollableSelectors),tt={up:j<ee,down:j>ee,left:Q<et,right:Q>et},dr={up:j+w<ee,down:j-w>ee,left:Q+w<et,right:Q-w>et},Cs=function hr(_e){var bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(_e){var Et=p(_e,dt,!1);if(D(_e))return!1;if(bn||T(_e)&&p(_e,dt)||y(_e,dt)){var Vt=!1;R(_e)&&A(_e)?(tt.up&&_(_e)||tt.down&&I(_e))&&(Vt=!0):_(_e)&&I(_e)?(tt.left&&R(_e)||tt.right&&A(_e))&&(Vt=!0):(dr.up&&_(_e)||dr.down&&I(_e)||dr.left&&R(_e)||dr.right&&A(_e))&&(Vt=!0),Vt&&(Et?hr(Et,!0):M.cancelable&&M.preventDefault())}else hr(Et)}else M.cancelable&&M.preventDefault()};Cs(M.target)}}},Sn=function(M){g.scroll||(g.startTouchY=0,g.startTouchX=0)};typeof window<"u"&&window.addEventListener("resize",wt),typeof document<"u"&&(document.addEventListener("touchstart",Dt),document.addEventListener("touchmove",ot,{passive:!1}),document.addEventListener("touchend",Sn));var Me={hide:function(M){d(`"hide" is deprecated! Use "disablePageScroll" instead. 
 https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget`),S(M)},show:function(M){d(`"show" is deprecated! Use "enablePageScroll" instead. 
 https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget`),C(M)},toggle:function(M){d('"toggle" is deprecated! Do not use it.'),P()?S():C(M)},getState:function(){return d(`"getState" is deprecated! Use "getScrollState" instead. 
 https://github.com/FL3NKEY/scroll-lock#getscrollstate`),P()},getWidth:function(){return d(`"getWidth" is deprecated! Use "getPageScrollBarWidth" instead. 
 https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth`),X()},getCurrentWidth:function(){return d(`"getCurrentWidth" is deprecated! Use "getCurrentPageScrollBarWidth" instead. 
 https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth`),O()},setScrollableTargets:function(M){d(`"setScrollableTargets" is deprecated! Use "addScrollableTarget" instead. 
 https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget`),N(M)},setFillGapSelectors:function(M){d(`"setFillGapSelectors" is deprecated! Use "addFillGapSelector" instead. 
 https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector`),ge(M)},setFillGapTargets:function(M){d(`"setFillGapTargets" is deprecated! Use "addFillGapTarget" instead. 
 https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget`),J(M)},clearQueue:function(){d(`"clearQueue" is deprecated! Use "clearQueueScrollLocks" instead. 
 https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks`),v()}},Le=V({disablePageScroll:S,enablePageScroll:C,getScrollState:P,clearQueueScrollLocks:v,getTargetScrollBarWidth:k,getCurrentTargetScrollBarWidth:B,getPageScrollBarWidth:X,getCurrentPageScrollBarWidth:O,addScrollableSelector:re,removeScrollableSelector:G,addScrollableTarget:N,removeScrollableTarget:Y,addLockableSelector:q,addLockableTarget:U,addFillGapSelector:ge,removeFillGapSelector:st,addFillGapTarget:J,removeFillGapTarget:ae,setFillGapMethod:pe,refillGaps:it,_state:g},Me);n.default=Le}]).default})}(Hn)),Hn.exports}var Zn=cu();function uu(){const r=Ve(".burger-icon"),e=Ve(".sidebar"),t=Ve(".dark-background"),n=hl(".sidebar-sub-list");function s(a){if(a){Ue(e,"add","sidebar_open"),Ue(t,"remove","dark-background_hidden"),Zn.disablePageScroll(e);return}Ue(e,"remove","sidebar_open"),Ue(t,"add","dark-background_hidden"),Zn.enablePageScroll()}t.addEventListener("click",()=>{s(!1),Ue(r,"remove","burger-icon_open"),n.forEach(a=>{Ue(a,"remove","sidebar-sub-list_active")})});const i=()=>{r.style.pointerEvents="none",n.forEach(l=>{Ue(l,"remove","sidebar-sub-list_active")});const a=Ue(r,"toggle","burger-icon_open");s(a),setTimeout(()=>{r.style.pointerEvents="auto"},300)};r.addEventListener("click",i)}function du(){const r=Ve(".header__icon-search-icon"),e=Ve(".header__search"),t=Ve(".input__field",e),n=Ve(".dark-background"),s=Ve(".header__search-close"),i=Ve(".sidebar"),a=Ve(".burger-icon");n.addEventListener("click",l),s.addEventListener("click",l);function l(){t.value="",Ue(n,"add","dark-background_hidden"),Ue(e,"remove","header__search_open"),Zn.enablePageScroll()}r.addEventListener("click",c=>{Ue(e,"toggle","header__search_open"),Ue(n,"remove","dark-background_hidden"),Ue(i,"remove","sidebar_open"),Ue(a,"remove","burger-icon_open"),t.focus(),Zn.disablePageScroll()}),window.addEventListener("resize",c=>{window.innerWidth<768&&(e.style.display="none",setTimeout(()=>{e.style.display="block"},0))})}function hu(){au(),uu(),du()}function fu(){const r=Ve(".first-screen__background"),e=Ve(".first-screen");e.style.height=getComputedStyle(r).height,window.addEventListener("resize",()=>{e.style.height=getComputedStyle(r).height})}function Qo(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function Mi(r,e){r===void 0&&(r={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof r[t]>"u"?r[t]=e[t]:Qo(e[t])&&Qo(r[t])&&Object.keys(e[t]).length>0&&Mi(r[t],e[t])})}const fl={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Fe(){const r=typeof document<"u"?document:{};return Mi(r,fl),r}const pu={document:fl,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function Te(){const r=typeof window<"u"?window:{};return Mi(r,pu),r}function Nt(r){return r===void 0&&(r=""),r.trim().split(" ").filter(e=>!!e.trim())}function mu(r){const e=r;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function ar(r,e){return e===void 0&&(e=0),setTimeout(r,e)}function rt(){return Date.now()}function gu(r){const e=Te();let t;return e.getComputedStyle&&(t=e.getComputedStyle(r,null)),!t&&r.currentStyle&&(t=r.currentStyle),t||(t=r.style),t}function si(r,e){e===void 0&&(e="x");const t=Te();let n,s,i;const a=gu(r);return t.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new t.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=i.m41:n.length===16?s=parseFloat(n[12]):s=parseFloat(n[4])),e==="y"&&(t.WebKitCSSMatrix?s=i.m42:n.length===16?s=parseFloat(n[13]):s=parseFloat(n[5])),s||0}function Jr(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function yu(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function Je(){const r=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const n=t<0||arguments.length<=t?void 0:arguments[t];if(n!=null&&!yu(n)){const s=Object.keys(Object(n)).filter(i=>e.indexOf(i)<0);for(let i=0,a=s.length;i<a;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(n,l);c!==void 0&&c.enumerable&&(Jr(r[l])&&Jr(n[l])?n[l].__swiper__?r[l]=n[l]:Je(r[l],n[l]):!Jr(r[l])&&Jr(n[l])?(r[l]={},n[l].__swiper__?r[l]=n[l]:Je(r[l],n[l])):r[l]=n[l])}}}return r}function Zr(r,e,t){r.style.setProperty(e,t)}function pl(r){let{swiper:e,targetPosition:t,side:n}=r;const s=Te(),i=-e.translate;let a=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const d=t>i?"next":"prev",h=(p,y)=>d==="next"&&p>=y||d==="prev"&&p<=y,f=()=>{l=new Date().getTime(),a===null&&(a=l);const p=Math.max(Math.min((l-a)/c,1),0),y=.5-Math.cos(p*Math.PI)/2;let E=i+y*(t-i);if(h(E,t)&&(E=t),e.wrapperEl.scrollTo({[n]:E}),h(E,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:E})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(f)};f()}function cr(r){return r.querySelector(".swiper-slide-transform")||r.shadowRoot&&r.shadowRoot.querySelector(".swiper-slide-transform")||r}function Ne(r,e){e===void 0&&(e="");const t=[...r.children];return r instanceof HTMLSlotElement&&t.push(...r.assignedElements()),e?t.filter(n=>n.matches(e)):t}function vu(r,e){const t=e.contains(r);return!t&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(r):t}function es(r){try{console.warn(r);return}catch{}}function Ze(r,e){e===void 0&&(e=[]);const t=document.createElement(r);return t.classList.add(...Array.isArray(e)?e:Nt(e)),t}function ts(r){const e=Te(),t=Fe(),n=r.getBoundingClientRect(),s=t.body,i=r.clientTop||s.clientTop||0,a=r.clientLeft||s.clientLeft||0,l=r===e?e.scrollY:r.scrollTop,c=r===e?e.scrollX:r.scrollLeft;return{top:n.top+l-i,left:n.left+c-a}}function wu(r,e){const t=[];for(;r.previousElementSibling;){const n=r.previousElementSibling;e?n.matches(e)&&t.push(n):t.push(n),r=n}return t}function Eu(r,e){const t=[];for(;r.nextElementSibling;){const n=r.nextElementSibling;e?n.matches(e)&&t.push(n):t.push(n),r=n}return t}function Ft(r,e){return Te().getComputedStyle(r,null).getPropertyValue(e)}function un(r){let e=r,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function sr(r,e){const t=[];let n=r.parentElement;for(;n;)e?n.matches(e)&&t.push(n):t.push(n),n=n.parentElement;return t}function nn(r,e){function t(n){n.target===r&&(e.call(r,n),r.removeEventListener("transitionend",t))}e&&r.addEventListener("transitionend",t)}function ii(r,e,t){const n=Te();return r[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(r,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(r,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function oe(r){return(Array.isArray(r)?r:[r]).filter(e=>!!e)}function fs(r){return e=>Math.abs(e)>0&&r.browser&&r.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}let $s;function Tu(){const r=Te(),e=Fe();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&e instanceof r.DocumentTouch)}}function ml(){return $s||($s=Tu()),$s}let Gs;function _u(r){let{userAgent:e}=r===void 0?{}:r;const t=ml(),n=Te(),s=n.navigator.platform,i=e||n.navigator.userAgent,a={ios:!1,android:!1},l=n.screen.width,c=n.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let h=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),p=!h&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y=s==="Win32";let E=s==="MacIntel";const _=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&E&&t.touch&&_.indexOf(`${l}x${c}`)>=0&&(h=i.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),E=!1),d&&!y&&(a.os="android",a.android=!0),(h||p||f)&&(a.os="ios",a.ios=!0),a}function gl(r){return r===void 0&&(r={}),Gs||(Gs=_u(r)),Gs}let Us;function Su(){const r=Te(),e=gl();let t=!1;function n(){const l=r.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(n()){const l=String(r.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));t=c<16||c===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent),i=n(),a=i||s&&e.ios;return{isSafari:t||i,needPerspectiveFix:t,need3dFix:a,isWebView:s}}function bu(){return Us||(Us=Su()),Us}function Iu(r){let{swiper:e,on:t,emit:n}=r;const s=Te();let i=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(f=>{a=s.requestAnimationFrame(()=>{const{width:p,height:y}=e;let E=p,_=y;f.forEach(I=>{let{contentBoxSize:R,contentRect:A,target:T}=I;T&&T!==e.el||(E=A?A.width:(R[0]||R).inlineSize,_=A?A.height:(R[0]||R).blockSize)}),(E!==p||_!==y)&&l()})}),i.observe(e.el))},d=()=>{a&&s.cancelAnimationFrame(a),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},h=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",h)}),t("destroy",()=>{d(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",h)})}function Au(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;const i=[],a=Te(),l=function(h,f){f===void 0&&(f={});const p=a.MutationObserver||a.WebkitMutationObserver,y=new p(E=>{if(e.__preventObserver__)return;if(E.length===1){s("observerUpdate",E[0]);return}const _=function(){s("observerUpdate",E[0])};a.requestAnimationFrame?a.requestAnimationFrame(_):a.setTimeout(_,0)});y.observe(h,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(y)},c=()=>{if(e.params.observer){if(e.params.observeParents){const h=sr(e.hostEl);for(let f=0;f<h.length;f+=1)l(h[f])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{i.forEach(h=>{h.disconnect()}),i.splice(0,i.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",d)}var Cu={on(r,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const s=t?"unshift":"push";return r.split(" ").forEach(i=>{n.eventsListeners[i]||(n.eventsListeners[i]=[]),n.eventsListeners[i][s](e)}),n},once(r,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function s(){n.off(r,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];e.apply(n,a)}return s.__emitterProxy=e,n.on(r,s,t)},onAny(r,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof r!="function")return t;const n=e?"unshift":"push";return t.eventsAnyListeners.indexOf(r)<0&&t.eventsAnyListeners[n](r),t},offAny(r){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(r);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(r,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||r.split(" ").forEach(n=>{typeof e>"u"?t.eventsListeners[n]=[]:t.eventsListeners[n]&&t.eventsListeners[n].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[n].splice(i,1)})}),t},emit(){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let e,t,n;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],t=i.slice(1,i.length),n=r):(e=i[0].events,t=i[0].data,n=i[0].context||r),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(d=>{d.apply(n,[c,...t])}),r.eventsListeners&&r.eventsListeners[c]&&r.eventsListeners[c].forEach(d=>{d.apply(n,t)})}),r}};function Pu(){const r=this;let e,t;const n=r.el;typeof r.params.width<"u"&&r.params.width!==null?e=r.params.width:e=n.clientWidth,typeof r.params.height<"u"&&r.params.height!==null?t=r.params.height:t=n.clientHeight,!(e===0&&r.isHorizontal()||t===0&&r.isVertical())&&(e=e-parseInt(Ft(n,"padding-left")||0,10)-parseInt(Ft(n,"padding-right")||0,10),t=t-parseInt(Ft(n,"padding-top")||0,10)-parseInt(Ft(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(r,{width:e,height:t,size:r.isHorizontal()?e:t}))}function xu(){const r=this;function e(S,C){return parseFloat(S.getPropertyValue(r.getDirectionLabel(C))||0)}const t=r.params,{wrapperEl:n,slidesEl:s,size:i,rtlTranslate:a,wrongRTL:l}=r,c=r.virtual&&t.virtual.enabled,d=c?r.virtual.slides.length:r.slides.length,h=Ne(s,`.${r.params.slideClass}, swiper-slide`),f=c?r.virtual.slides.length:h.length;let p=[];const y=[],E=[];let _=t.slidesOffsetBefore;typeof _=="function"&&(_=t.slidesOffsetBefore.call(r));let I=t.slidesOffsetAfter;typeof I=="function"&&(I=t.slidesOffsetAfter.call(r));const R=r.snapGrid.length,A=r.slidesGrid.length;let T=t.spaceBetween,D=-_,V=0,z=0;if(typeof i>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*i:typeof T=="string"&&(T=parseFloat(T)),r.virtualSize=-T,h.forEach(S=>{a?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Zr(n,"--swiper-centered-offset-before",""),Zr(n,"--swiper-centered-offset-after",""));const x=t.grid&&t.grid.rows>1&&r.grid;x?r.grid.initSlides(h):r.grid&&r.grid.unsetSlides();let w;const g=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(S=>typeof t.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<f;S+=1){w=0;let C;if(h[S]&&(C=h[S]),x&&r.grid.updateSlide(S,C,h),!(h[S]&&Ft(C,"display")==="none")){if(t.slidesPerView==="auto"){g&&(h[S].style[r.getDirectionLabel("width")]="");const P=getComputedStyle(C),v=C.style.transform,k=C.style.webkitTransform;if(v&&(C.style.transform="none"),k&&(C.style.webkitTransform="none"),t.roundLengths)w=r.isHorizontal()?ii(C,"width"):ii(C,"height");else{const B=e(P,"width"),X=e(P,"padding-left"),O=e(P,"padding-right"),N=e(P,"margin-left"),Y=e(P,"margin-right"),re=P.getPropertyValue("box-sizing");if(re&&re==="border-box")w=B+N+Y;else{const{clientWidth:G,offsetWidth:U}=C;w=B+X+O+N+Y+(U-G)}}v&&(C.style.transform=v),k&&(C.style.webkitTransform=k),t.roundLengths&&(w=Math.floor(w))}else w=(i-(t.slidesPerView-1)*T)/t.slidesPerView,t.roundLengths&&(w=Math.floor(w)),h[S]&&(h[S].style[r.getDirectionLabel("width")]=`${w}px`);h[S]&&(h[S].swiperSlideSize=w),E.push(w),t.centeredSlides?(D=D+w/2+V/2+T,V===0&&S!==0&&(D=D-i/2-T),S===0&&(D=D-i/2-T),Math.abs(D)<1/1e3&&(D=0),t.roundLengths&&(D=Math.floor(D)),z%t.slidesPerGroup===0&&p.push(D),y.push(D)):(t.roundLengths&&(D=Math.floor(D)),(z-Math.min(r.params.slidesPerGroupSkip,z))%r.params.slidesPerGroup===0&&p.push(D),y.push(D),D=D+w+T),r.virtualSize+=w+T,V=w,z+=1}}if(r.virtualSize=Math.max(r.virtualSize,i)+I,a&&l&&(t.effect==="slide"||t.effect==="coverflow")&&(n.style.width=`${r.virtualSize+T}px`),t.setWrapperSize&&(n.style[r.getDirectionLabel("width")]=`${r.virtualSize+T}px`),x&&r.grid.updateWrapperSize(w,p),!t.centeredSlides){const S=[];for(let C=0;C<p.length;C+=1){let P=p[C];t.roundLengths&&(P=Math.floor(P)),p[C]<=r.virtualSize-i&&S.push(P)}p=S,Math.floor(r.virtualSize-i)-Math.floor(p[p.length-1])>1&&p.push(r.virtualSize-i)}if(c&&t.loop){const S=E[0]+T;if(t.slidesPerGroup>1){const C=Math.ceil((r.virtual.slidesBefore+r.virtual.slidesAfter)/t.slidesPerGroup),P=S*t.slidesPerGroup;for(let v=0;v<C;v+=1)p.push(p[p.length-1]+P)}for(let C=0;C<r.virtual.slidesBefore+r.virtual.slidesAfter;C+=1)t.slidesPerGroup===1&&p.push(p[p.length-1]+S),y.push(y[y.length-1]+S),r.virtualSize+=S}if(p.length===0&&(p=[0]),T!==0){const S=r.isHorizontal()&&a?"marginLeft":r.getDirectionLabel("marginRight");h.filter((C,P)=>!t.cssMode||t.loop?!0:P!==h.length-1).forEach(C=>{C.style[S]=`${T}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let S=0;E.forEach(P=>{S+=P+(T||0)}),S-=T;const C=S>i?S-i:0;p=p.map(P=>P<=0?-_:P>C?C+I:P)}if(t.centerInsufficientSlides){let S=0;E.forEach(P=>{S+=P+(T||0)}),S-=T;const C=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(S+C<i){const P=(i-S-C)/2;p.forEach((v,k)=>{p[k]=v-P}),y.forEach((v,k)=>{y[k]=v+P})}}if(Object.assign(r,{slides:h,snapGrid:p,slidesGrid:y,slidesSizesGrid:E}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Zr(n,"--swiper-centered-offset-before",`${-p[0]}px`),Zr(n,"--swiper-centered-offset-after",`${r.size/2-E[E.length-1]/2}px`);const S=-r.snapGrid[0],C=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(P=>P+S),r.slidesGrid=r.slidesGrid.map(P=>P+C)}if(f!==d&&r.emit("slidesLengthChange"),p.length!==R&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),y.length!==A&&r.emit("slidesGridLengthChange"),t.watchSlidesProgress&&r.updateSlidesOffset(),r.emit("slidesUpdated"),!c&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const S=`${t.containerModifierClass}backface-hidden`,C=r.el.classList.contains(S);f<=t.maxBackfaceHiddenSlides?C||r.el.classList.add(S):C&&r.el.classList.remove(S)}}function Ru(r){const e=this,t=[],n=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof r=="number"?e.setTransition(r):r===!0&&e.setTransition(e.params.speed);const a=l=>n?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{t.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!n)break;t.push(a(l))}else t.push(a(e.activeIndex));for(i=0;i<t.length;i+=1)if(typeof t[i]<"u"){const l=t[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function Mu(){const r=this,e=r.slides,t=r.isElement?r.isHorizontal()?r.wrapperEl.offsetLeft:r.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(r.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-t-r.cssOverflowAdjustment()}const Jo=(r,e,t)=>{e&&!r.classList.contains(t)?r.classList.add(t):!e&&r.classList.contains(t)&&r.classList.remove(t)};function Du(r){r===void 0&&(r=this&&this.translate||0);const e=this,t=e.params,{slides:n,rtlTranslate:s,snapGrid:i}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-r;s&&(a=r),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=t.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<n.length;c+=1){const d=n[c];let h=d.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(h-=n[0].swiperSlideOffset);const f=(a+(t.centeredSlides?e.minTranslate():0)-h)/(d.swiperSlideSize+l),p=(a-i[0]+(t.centeredSlides?e.minTranslate():0)-h)/(d.swiperSlideSize+l),y=-(a-h),E=y+e.slidesSizesGrid[c],_=y>=0&&y<=e.size-e.slidesSizesGrid[c],I=y>=0&&y<e.size-1||E>1&&E<=e.size||y<=0&&E>=e.size;I&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c)),Jo(d,I,t.slideVisibleClass),Jo(d,_,t.slideFullyVisibleClass),d.progress=s?-f:f,d.originalProgress=s?-p:p}}function Vu(r){const e=this;if(typeof r>"u"){const h=e.rtlTranslate?-1:1;r=e&&e.translate&&e.translate*h||0}const t=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,d=a;if(n===0)s=0,i=!0,a=!0;else{s=(r-e.minTranslate())/n;const h=Math.abs(r-e.minTranslate())<1,f=Math.abs(r-e.maxTranslate())<1;i=h||s<=0,a=f||s>=1,h&&(s=0),f&&(s=1)}if(t.loop){const h=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[h],y=e.slidesGrid[f],E=e.slidesGrid[e.slidesGrid.length-1],_=Math.abs(r);_>=p?l=(_-p)/E:l=(_+E-y)/E,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(r),i&&!c&&e.emit("reachBeginning toEdge"),a&&!d&&e.emit("reachEnd toEdge"),(c&&!i||d&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const qs=(r,e,t)=>{e&&!r.classList.contains(t)?r.classList.add(t):!e&&r.classList.contains(t)&&r.classList.remove(t)};function Lu(){const r=this,{slides:e,params:t,slidesEl:n,activeIndex:s}=r,i=r.virtual&&t.virtual.enabled,a=r.grid&&t.grid&&t.grid.rows>1,l=f=>Ne(n,`.${t.slideClass}${f}, swiper-slide${f}`)[0];let c,d,h;if(i)if(t.loop){let f=s-r.virtual.slidesBefore;f<0&&(f=r.virtual.slides.length+f),f>=r.virtual.slides.length&&(f-=r.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.filter(f=>f.column===s)[0],h=e.filter(f=>f.column===s+1)[0],d=e.filter(f=>f.column===s-1)[0]):c=e[s];c&&(a||(h=Eu(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!h&&(h=e[0]),d=wu(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(f=>{qs(f,f===c,t.slideActiveClass),qs(f,f===h,t.slideNextClass),qs(f,f===d,t.slidePrevClass)}),r.emitSlidesClasses()}const Wn=(r,e)=>{if(!r||r.destroyed||!r.params)return;const t=()=>r.isElement?"swiper-slide":`.${r.params.slideClass}`,n=e.closest(t());if(n){let s=n.querySelector(`.${r.params.lazyPreloaderClass}`);!s&&r.isElement&&(n.shadowRoot?s=n.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(s=n.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},js=(r,e)=>{if(!r.slides[e])return;const t=r.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},oi=r=>{if(!r||r.destroyed||!r.params)return;let e=r.params.lazyPreloadPrevNext;const t=r.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const n=r.params.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(r.params.slidesPerView),s=r.activeIndex;if(r.params.grid&&r.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,d)=>a+n+d)),r.slides.forEach((c,d)=>{l.includes(c.column)&&js(r,d)});return}const i=s+n-1;if(r.params.rewind||r.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%t+t)%t;(l<s||l>i)&&js(r,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,t-1);a+=1)a!==s&&(a>i||a<s)&&js(r,a)};function ku(r){const{slidesGrid:e,params:t}=r,n=r.rtlTranslate?r.translate:-r.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?n>=e[i]&&n<e[i+1]-(e[i+1]-e[i])/2?s=i:n>=e[i]&&n<e[i+1]&&(s=i+1):n>=e[i]&&(s=i);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function Ou(r){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=r,d;const h=y=>{let E=y-e.virtual.slidesBefore;return E<0&&(E=e.virtual.slides.length+E),E>=e.virtual.slides.length&&(E-=e.virtual.slides.length),E};if(typeof c>"u"&&(c=ku(e)),n.indexOf(t)>=0)d=n.indexOf(t);else{const y=Math.min(s.slidesPerGroupSkip,c);d=y+Math.floor((c-y)/s.slidesPerGroup)}if(d>=n.length&&(d=n.length-1),c===i&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=h(c);return}const f=e.grid&&s.grid&&s.grid.rows>1;let p;if(e.virtual&&s.virtual.enabled&&s.loop)p=h(c);else if(f){const y=e.slides.filter(_=>_.column===c)[0];let E=parseInt(y.getAttribute("data-swiper-slide-index"),10);Number.isNaN(E)&&(E=Math.max(e.slides.indexOf(y),0)),p=Math.floor(E/s.grid.rows)}else if(e.slides[c]){const y=e.slides[c].getAttribute("data-swiper-slide-index");y?p=parseInt(y,10):p=c}else p=c;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:a,realIndex:p,previousIndex:i,activeIndex:c}),e.initialized&&oi(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function Nu(r,e){const t=this,n=t.params;let s=r.closest(`.${n.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(r)&&[...e.slice(e.indexOf(r)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${n.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<t.slides.length;l+=1)if(t.slides[l]===s){i=!0,a=l;break}}if(s&&i)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}n.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Fu={updateSize:Pu,updateSlides:xu,updateAutoHeight:Ru,updateSlidesOffset:Mu,updateSlidesProgress:Du,updateProgress:Vu,updateSlidesClasses:Lu,updateActiveIndex:Ou,updateClickedSlide:Nu};function zu(r){r===void 0&&(r=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:n,translate:s,wrapperEl:i}=e;if(t.virtualTranslate)return n?-s:s;if(t.cssMode)return s;let a=si(i,r);return a+=e.cssOverflowAdjustment(),n&&(a=-a),a||0}function Bu(r,e){const t=this,{rtlTranslate:n,params:s,wrapperEl:i,progress:a}=t;let l=0,c=0;const d=0;t.isHorizontal()?l=n?-r:r:c=r,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c,s.cssMode?i[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:s.virtualTranslate||(t.isHorizontal()?l-=t.cssOverflowAdjustment():c-=t.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let h;const f=t.maxTranslate()-t.minTranslate();f===0?h=0:h=(r-t.minTranslate())/f,h!==a&&t.updateProgress(r),t.emit("setTranslate",t.translate,e)}function $u(){return-this.snapGrid[0]}function Gu(){return-this.snapGrid[this.snapGrid.length-1]}function Uu(r,e,t,n,s){r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),n===void 0&&(n=!0);const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),d=i.maxTranslate();let h;if(n&&r>c?h=c:n&&r<d?h=d:h=r,i.updateProgress(h),a.cssMode){const f=i.isHorizontal();if(e===0)l[f?"scrollLeft":"scrollTop"]=-h;else{if(!i.support.smoothScroll)return pl({swiper:i,targetPosition:-h,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-h,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(h),t&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(h),t&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,t&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var qu={getTranslate:zu,setTranslate:Bu,minTranslate:$u,maxTranslate:Gu,translateTo:Uu};function ju(r,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${r}ms`,t.wrapperEl.style.transitionDelay=r===0?"0ms":""),t.emit("setTransition",r,e)}function yl(r){let{swiper:e,runCallbacks:t,direction:n,step:s}=r;const{activeIndex:i,previousIndex:a}=e;let l=n;if(l||(i>a?l="next":i<a?l="prev":l="reset"),e.emit(`transition${s}`),t&&i!==a){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function Hu(r,e){r===void 0&&(r=!0);const t=this,{params:n}=t;n.cssMode||(n.autoHeight&&t.updateAutoHeight(),yl({swiper:t,runCallbacks:r,direction:e,step:"Start"}))}function Wu(r,e){r===void 0&&(r=!0);const t=this,{params:n}=t;t.animating=!1,!n.cssMode&&(t.setTransition(0),yl({swiper:t,runCallbacks:r,direction:e,step:"End"}))}var Yu={setTransition:ju,transitionStart:Hu,transitionEnd:Wu};function Xu(r,e,t,n,s){r===void 0&&(r=0),t===void 0&&(t=!0),typeof r=="string"&&(r=parseInt(r,10));const i=this;let a=r;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:h,activeIndex:f,rtlTranslate:p,wrapperEl:y,enabled:E}=i;if(!E&&!n&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const _=Math.min(i.params.slidesPerGroupSkip,a);let I=_+Math.floor((a-_)/i.params.slidesPerGroup);I>=c.length&&(I=c.length-1);const R=-c[I];if(l.normalizeSlideIndex)for(let V=0;V<d.length;V+=1){const z=-Math.floor(R*100),x=Math.floor(d[V]*100),w=Math.floor(d[V+1]*100);typeof d[V+1]<"u"?z>=x&&z<w-(w-x)/2?a=V:z>=x&&z<w&&(a=V+1):z>=x&&(a=V)}if(i.initialized&&a!==f&&(!i.allowSlideNext&&(p?R>i.translate&&R>i.minTranslate():R<i.translate&&R<i.minTranslate())||!i.allowSlidePrev&&R>i.translate&&R>i.maxTranslate()&&(f||0)!==a))return!1;a!==(h||0)&&t&&i.emit("beforeSlideChangeStart"),i.updateProgress(R);let A;a>f?A="next":a<f?A="prev":A="reset";const T=i.virtual&&i.params.virtual.enabled;if(!(T&&s)&&(p&&-R===i.translate||!p&&R===i.translate))return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(R),A!=="reset"&&(i.transitionStart(t,A),i.transitionEnd(t,A)),!1;if(l.cssMode){const V=i.isHorizontal(),z=p?R:-R;if(e===0)T&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),T&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{y[V?"scrollLeft":"scrollTop"]=z})):y[V?"scrollLeft":"scrollTop"]=z,T&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return pl({swiper:i,targetPosition:z,side:V?"left":"top"}),!0;y.scrollTo({[V?"left":"top"]:z,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(R),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,n),i.transitionStart(t,A),e===0?i.transitionEnd(t,A):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(z){!i||i.destroyed||z.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(t,A))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function Ku(r,e,t,n){r===void 0&&(r=0),t===void 0&&(t=!0),typeof r=="string"&&(r=parseInt(r,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=r;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const p=a*s.params.grid.rows;l=s.slides.filter(y=>y.getAttribute("data-swiper-slide-index")*1===p)[0].column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d}=s.params;let h=s.params.slidesPerView;h==="auto"?h=s.slidesPerViewDynamic():(h=Math.ceil(parseFloat(s.params.slidesPerView,10)),d&&h%2===0&&(h=h+1));let f=c-l<h;if(d&&(f=f||l<Math.ceil(h/2)),n&&d&&s.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const p=d?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?l+1:l-c+1,slideRealIndex:p==="next"?s.realIndex:void 0})}if(i){const p=a*s.params.grid.rows;a=s.slides.filter(y=>y.getAttribute("data-swiper-slide-index")*1===p)[0].column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,t,n)}),s}function Qu(r,e,t){e===void 0&&(e=!0);const n=this,{enabled:s,params:i,animating:a}=n;if(!s||n.destroyed)return n;typeof r>"u"&&(r=n.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(n.slidesPerViewDynamic("current",!0),1));const c=n.activeIndex<i.slidesPerGroupSkip?1:l,d=n.virtual&&i.virtual.enabled;if(i.loop){if(a&&!d&&i.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+c,r,e,t)}),!0}return i.rewind&&n.isEnd?n.slideTo(0,r,e,t):n.slideTo(n.activeIndex+c,r,e,t)}function Ju(r,e,t){e===void 0&&(e=!0);const n=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:d}=n;if(!c||n.destroyed)return n;typeof r>"u"&&(r=n.params.speed);const h=n.virtual&&s.virtual.enabled;if(s.loop){if(d&&!h&&s.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const f=l?n.translate:-n.translate;function p(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const y=p(f),E=i.map(R=>p(R));let _=i[E.indexOf(y)-1];if(typeof _>"u"&&s.cssMode){let R;i.forEach((A,T)=>{y>=A&&(R=T)}),typeof R<"u"&&(_=i[R>0?R-1:R])}let I=0;if(typeof _<"u"&&(I=a.indexOf(_),I<0&&(I=n.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(I=I-n.slidesPerViewDynamic("previous",!0)+1,I=Math.max(I,0))),s.rewind&&n.isBeginning){const R=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(R,r,e,t)}else if(s.loop&&n.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(I,r,e,t)}),!0;return n.slideTo(I,r,e,t)}function Zu(r,e,t){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof r>"u"&&(r=n.params.speed),n.slideTo(n.activeIndex,r,e,t)}function ed(r,e,t,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const s=this;if(s.destroyed)return;typeof r>"u"&&(r=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const d=s.snapGrid[l],h=s.snapGrid[l+1];c-d>(h-d)*n&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[l-1],h=s.snapGrid[l];c-d<=(h-d)*n&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,r,e,t)}function td(){const r=this;if(r.destroyed)return;const{params:e,slidesEl:t}=r,n=e.slidesPerView==="auto"?r.slidesPerViewDynamic():e.slidesPerView;let s=r.clickedIndex,i;const a=r.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(r.animating)return;i=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<r.loopedSlides-n/2||s>r.slides.length-r.loopedSlides+n/2?(r.loopFix(),s=r.getSlideIndex(Ne(t,`${a}[data-swiper-slide-index="${i}"]`)[0]),ar(()=>{r.slideTo(s)})):r.slideTo(s):s>r.slides.length-n?(r.loopFix(),s=r.getSlideIndex(Ne(t,`${a}[data-swiper-slide-index="${i}"]`)[0]),ar(()=>{r.slideTo(s)})):r.slideTo(s)}else r.slideTo(s)}var rd={slideTo:Xu,slideToLoop:Ku,slideNext:Qu,slidePrev:Ju,slideReset:Zu,slideToClosest:ed,slideToClickedSlide:td};function nd(r){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{Ne(n,`.${t.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},i=e.grid&&t.grid&&t.grid.rows>1,a=t.slidesPerGroup*(i?t.grid.rows:1),l=e.slides.length%a!==0,c=i&&e.slides.length%t.grid.rows!==0,d=h=>{for(let f=0;f<h;f+=1){const p=e.isElement?Ze("swiper-slide",[t.slideBlankClass]):Ze("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(p)}};if(l){if(t.loopAddBlankSlides){const h=a-e.slides.length%a;d(h),e.recalcSlides(),e.updateSlides()}else es("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(t.loopAddBlankSlides){const h=t.grid.rows-e.slides.length%t.grid.rows;d(h),e.recalcSlides(),e.updateSlides()}else es("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:r,direction:t.centeredSlides?void 0:"next"})}function sd(r){let{slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:s,activeSlideIndex:i,byController:a,byMousewheel:l}=r===void 0?{}:r;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:f,slidesEl:p,params:y}=c,{centeredSlides:E}=y;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&y.virtual.enabled){t&&(!y.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):y.centeredSlides&&c.snapIndex<y.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=h,c.allowSlideNext=f,c.emit("loopFix");return}let _=y.slidesPerView;_==="auto"?_=c.slidesPerViewDynamic():(_=Math.ceil(parseFloat(y.slidesPerView,10)),E&&_%2===0&&(_=_+1));const I=y.slidesPerGroupAuto?_:y.slidesPerGroup;let R=I;R%I!==0&&(R+=I-R%I),R+=y.loopAdditionalSlides,c.loopedSlides=R;const A=c.grid&&y.grid&&y.grid.rows>1;d.length<_+R?es("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):A&&y.grid.fill==="row"&&es("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const T=[],D=[];let V=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.filter(v=>v.classList.contains(y.slideActiveClass))[0]):V=i;const z=n==="next"||!n,x=n==="prev"||!n;let w=0,g=0;const S=A?Math.ceil(d.length/y.grid.rows):d.length,P=(A?d[i].column:i)+(E&&typeof s>"u"?-_/2+.5:0);if(P<R){w=Math.max(R-P,I);for(let v=0;v<R-P;v+=1){const k=v-Math.floor(v/S)*S;if(A){const B=S-k-1;for(let X=d.length-1;X>=0;X-=1)d[X].column===B&&T.push(X)}else T.push(S-k-1)}}else if(P+_>S-R){g=Math.max(P-(S-R*2),I);for(let v=0;v<g;v+=1){const k=v-Math.floor(v/S)*S;A?d.forEach((B,X)=>{B.column===k&&D.push(X)}):D.push(k)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),x&&T.forEach(v=>{d[v].swiperLoopMoveDOM=!0,p.prepend(d[v]),d[v].swiperLoopMoveDOM=!1}),z&&D.forEach(v=>{d[v].swiperLoopMoveDOM=!0,p.append(d[v]),d[v].swiperLoopMoveDOM=!1}),c.recalcSlides(),y.slidesPerView==="auto"?c.updateSlides():A&&(T.length>0&&x||D.length>0&&z)&&c.slides.forEach((v,k)=>{c.grid.updateSlide(k,v,c.slides)}),y.watchSlidesProgress&&c.updateSlidesOffset(),t){if(T.length>0&&x){if(typeof e>"u"){const v=c.slidesGrid[V],B=c.slidesGrid[V+w]-v;l?c.setTranslate(c.translate-B):(c.slideTo(V+Math.ceil(w),0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-B,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-B))}else if(s){const v=A?T.length/y.grid.rows:T.length;c.slideTo(c.activeIndex+v,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(D.length>0&&z)if(typeof e>"u"){const v=c.slidesGrid[V],B=c.slidesGrid[V-g]-v;l?c.setTranslate(c.translate-B):(c.slideTo(V-g,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-B,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-B))}else{const v=A?D.length/y.grid.rows:D.length;c.slideTo(c.activeIndex-v,0,!1,!0)}}if(c.allowSlidePrev=h,c.allowSlideNext=f,c.controller&&c.controller.control&&!a){const v={slideRealIndex:e,direction:n,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(k=>{!k.destroyed&&k.params.loop&&k.loopFix({...v,slideTo:k.params.slidesPerView===y.slidesPerView?t:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...v,slideTo:c.controller.control.params.slidesPerView===y.slidesPerView?t:!1})}c.emit("loopFix")}function id(){const r=this,{params:e,slidesEl:t}=r;if(!e.loop||r.virtual&&r.params.virtual.enabled)return;r.recalcSlides();const n=[];r.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;n[i]=s}),r.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),n.forEach(s=>{t.append(s)}),r.recalcSlides(),r.slideTo(r.realIndex,0)}var od={loopCreate:nd,loopFix:sd,loopDestroy:id};function ad(r){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=r?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function ld(){const r=this;r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r.isElement&&(r.__preventObserver__=!0),r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1}))}var cd={setGrabCursor:ad,unsetGrabCursor:ld};function ud(r,e){e===void 0&&(e=this);function t(n){if(!n||n===Fe()||n===Te())return null;n.assignedSlot&&(n=n.assignedSlot);const s=n.closest(r);return!s&&!n.getRootNode?null:s||t(n.getRootNode().host)}return t(e)}function Zo(r,e,t){const n=Te(),{params:s}=r,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(t<=a||t>=n.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function dd(r){const e=this,t=Fe();let n=r;n.originalEvent&&(n=n.originalEvent);const s=e.touchEventsData;if(n.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==n.pointerId)return;s.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(s.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){Zo(e,n,n.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&n.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=n.target;if(i.touchEventsTarget==="wrapper"&&!vu(c,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",h=n.composedPath?n.composedPath():n.path;d&&n.target&&n.target.shadowRoot&&h&&(c=h[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(n.target&&n.target.shadowRoot);if(i.noSwiping&&(p?ud(f,c):c.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=n.pageX,a.currentY=n.pageY;const y=a.currentX,E=a.currentY;if(!Zo(e,n,y))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=y,a.startY=E,s.touchStartTime=rt(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let _=!0;c.matches(s.focusableElements)&&(_=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==c&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&t.activeElement.blur();const I=_&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||I)&&!c.isContentEditable&&n.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function hd(r){const e=Fe(),t=this,n=t.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=t;if(!l||!s.simulateTouch&&r.pointerType==="mouse")return;let c=r;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(n.touchId!==null||c.pointerId!==n.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].filter(V=>V.identifier===n.touchId)[0],!d||d.identifier!==n.touchId)return}else d=c;if(!n.isTouched){n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",c);return}const h=d.pageX,f=d.pageY;if(c.preventedByNestedSwiper){i.startX=h,i.startY=f;return}if(!t.allowTouchMove){c.target.matches(n.focusableElements)||(t.allowClick=!1),n.isTouched&&(Object.assign(i,{startX:h,startY:f,currentX:h,currentY:f}),n.touchStartTime=rt());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(f<i.startY&&t.translate<=t.maxTranslate()||f>i.startY&&t.translate>=t.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(h<i.startX&&t.translate<=t.maxTranslate()||h>i.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(n.focusableElements)){n.isMoved=!0,t.allowClick=!1;return}n.allowTouchCallbacks&&t.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=h,i.currentY=f;const p=i.currentX-i.startX,y=i.currentY-i.startY;if(t.params.threshold&&Math.sqrt(p**2+y**2)<t.params.threshold)return;if(typeof n.isScrolling>"u"){let V;t.isHorizontal()&&i.currentY===i.startY||t.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:p*p+y*y>=25&&(V=Math.atan2(Math.abs(y),Math.abs(p))*180/Math.PI,n.isScrolling=t.isHorizontal()?V>s.touchAngle:90-V>s.touchAngle)}if(n.isScrolling&&t.emit("touchMoveOpposite",c),typeof n.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(n.startMoving=!0),n.isScrolling||c.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;t.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let E=t.isHorizontal()?p:y,_=t.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(E=Math.abs(E)*(a?1:-1),_=Math.abs(_)*(a?1:-1)),i.diff=E,E*=s.touchRatio,a&&(E=-E,_=-_);const I=t.touchesDirection;t.swipeDirection=E>0?"prev":"next",t.touchesDirection=_>0?"prev":"next";const R=t.params.loop&&!s.cssMode,A=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!n.isMoved){if(R&&A&&t.loopFix({direction:t.swipeDirection}),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const V=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(V)}n.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",c)}if(new Date().getTime(),n.isMoved&&n.allowThresholdMove&&I!==t.touchesDirection&&R&&A&&Math.abs(E)>=1){Object.assign(i,{startX:h,startY:f,currentX:h,currentY:f,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}t.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=E+n.startTranslate;let T=!0,D=s.resistanceRatio;if(s.touchReleaseOnEdges&&(D=0),E>0?(R&&A&&n.allowThresholdMove&&n.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>t.minTranslate()&&(T=!1,s.resistance&&(n.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+n.startTranslate+E)**D))):E<0&&(R&&A&&n.allowThresholdMove&&n.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<t.maxTranslate()&&(T=!1,s.resistance&&(n.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-n.startTranslate-E)**D))),T&&(c.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(n.currentTranslate=n.startTranslate),s.threshold>0)if(Math.abs(E)>s.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,i.diff=t.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{n.currentTranslate=n.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}function fd(r){const e=this,t=e.touchEventsData;let n=r;n.originalEvent&&(n=n.originalEvent);let s;if(n.type==="touchend"||n.type==="touchcancel"){if(s=[...n.changedTouches].filter(V=>V.identifier===t.touchId)[0],!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||n.pointerId!==t.pointerId)return;s=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:d,enabled:h}=e;if(!h||!a.simulateTouch&&n.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",n),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=rt(),p=f-t.touchStartTime;if(e.allowClick){const V=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(V&&V[0]||n.target,V),e.emit("tap click",n),p<300&&f-t.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(t.lastClickTime=rt(),ar(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||l.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let y;if(a.followFinger?y=c?e.translate:-e.translate:y=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:y});return}const E=y>=-e.maxTranslate()&&!e.params.loop;let _=0,I=e.slidesSizesGrid[0];for(let V=0;V<d.length;V+=V<a.slidesPerGroupSkip?1:a.slidesPerGroup){const z=V<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof d[V+z]<"u"?(E||y>=d[V]&&y<d[V+z])&&(_=V,I=d[V+z]-d[V]):(E||y>=d[V])&&(_=V,I=d[d.length-1]-d[d.length-2])}let R=null,A=null;a.rewind&&(e.isBeginning?A=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const T=(y-d[_])/I,D=_<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(p>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?R:_+D):e.slideTo(_)),e.swipeDirection==="prev"&&(T>1-a.longSwipesRatio?e.slideTo(_+D):A!==null&&T<0&&Math.abs(T)>a.longSwipesRatio?e.slideTo(A):e.slideTo(_))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(_+D):e.slideTo(_):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:_+D),e.swipeDirection==="prev"&&e.slideTo(A!==null?A:_))}}function ea(){const r=this,{params:e,el:t}=r;if(t&&t.offsetWidth===0)return;e.breakpoints&&r.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:i}=r,a=r.virtual&&r.params.virtual.enabled;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides&&!l?r.slideTo(r.slides.length-1,0,!1,!0):r.params.loop&&!a?r.slideToLoop(r.realIndex,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&(clearTimeout(r.autoplay.resizeTimeout),r.autoplay.resizeTimeout=setTimeout(()=>{r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.resume()},500)),r.allowSlidePrev=s,r.allowSlideNext=n,r.params.watchOverflow&&i!==r.snapGrid&&r.checkOverflow()}function pd(r){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&r.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(r.stopPropagation(),r.stopImmediatePropagation())))}function md(){const r=this,{wrapperEl:e,rtlTranslate:t,enabled:n}=r;if(!n)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-e.scrollLeft:r.translate=-e.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let s;const i=r.maxTranslate()-r.minTranslate();i===0?s=0:s=(r.translate-r.minTranslate())/i,s!==r.progress&&r.updateProgress(t?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}function gd(r){const e=this;Wn(e,r.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function yd(){const r=this;r.documentTouchHandlerProceeded||(r.documentTouchHandlerProceeded=!0,r.params.touchReleaseOnEdges&&(r.el.style.touchAction="auto"))}const vl=(r,e)=>{const t=Fe(),{params:n,el:s,wrapperEl:i,device:a}=r,l=!!n.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;!s||typeof s=="string"||(t[c]("touchstart",r.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",r.onTouchStart,{passive:!1}),s[c]("pointerdown",r.onTouchStart,{passive:!1}),t[c]("touchmove",r.onTouchMove,{passive:!1,capture:l}),t[c]("pointermove",r.onTouchMove,{passive:!1,capture:l}),t[c]("touchend",r.onTouchEnd,{passive:!0}),t[c]("pointerup",r.onTouchEnd,{passive:!0}),t[c]("pointercancel",r.onTouchEnd,{passive:!0}),t[c]("touchcancel",r.onTouchEnd,{passive:!0}),t[c]("pointerout",r.onTouchEnd,{passive:!0}),t[c]("pointerleave",r.onTouchEnd,{passive:!0}),t[c]("contextmenu",r.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[c]("click",r.onClick,!0),n.cssMode&&i[c]("scroll",r.onScroll),n.updateOnWindowResize?r[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",ea,!0):r[d]("observerUpdate",ea,!0),s[c]("load",r.onLoad,{capture:!0}))};function vd(){const r=this,{params:e}=r;r.onTouchStart=dd.bind(r),r.onTouchMove=hd.bind(r),r.onTouchEnd=fd.bind(r),r.onDocumentTouchStart=yd.bind(r),e.cssMode&&(r.onScroll=md.bind(r)),r.onClick=pd.bind(r),r.onLoad=gd.bind(r),vl(r,"on")}function wd(){vl(this,"off")}var Ed={attachEvents:vd,detachEvents:wd};const ta=(r,e)=>r.grid&&e.grid&&e.grid.rows>1;function Td(){const r=this,{realIndex:e,initialized:t,params:n,el:s}=r,i=n.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=r.getBreakpoint(i,r.params.breakpointsBase,r.el);if(!a||r.currentBreakpoint===a)return;const c=(a in i?i[a]:void 0)||r.originalParams,d=ta(r,n),h=ta(r,c),f=r.params.grabCursor,p=c.grabCursor,y=n.enabled;d&&!h?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),r.emitContainerClasses()):!d&&h&&(s.classList.add(`${n.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&n.grid.fill==="column")&&s.classList.add(`${n.containerModifierClass}grid-column`),r.emitContainerClasses()),f&&!p?r.unsetGrabCursor():!f&&p&&r.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(T=>{if(typeof c[T]>"u")return;const D=n[T]&&n[T].enabled,V=c[T]&&c[T].enabled;D&&!V&&r[T].disable(),!D&&V&&r[T].enable()});const E=c.direction&&c.direction!==n.direction,_=n.loop&&(c.slidesPerView!==n.slidesPerView||E),I=n.loop;E&&t&&r.changeDirection(),Je(r.params,c);const R=r.params.enabled,A=r.params.loop;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),y&&!R?r.disable():!y&&R&&r.enable(),r.currentBreakpoint=a,r.emit("_beforeBreakpoint",c),t&&(_?(r.loopDestroy(),r.loopCreate(e),r.updateSlides()):!I&&A?(r.loopCreate(e),r.updateSlides()):I&&!A&&r.loopDestroy()),r.emit("breakpoint",c)}function _d(r,e,t){if(e===void 0&&(e="window"),!r||e==="container"&&!t)return;let n=!1;const s=Te(),i=e==="window"?s.innerHeight:t.clientHeight,a=Object.keys(r).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:d}=a[l];e==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(n=c):d<=t.clientWidth&&(n=c)}return n||"max"}var Sd={setBreakpoint:Td,getBreakpoint:_d};function bd(r,e){const t=[];return r.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(s=>{n[s]&&t.push(e+s)}):typeof n=="string"&&t.push(e+n)}),t}function Id(){const r=this,{classNames:e,params:t,rtl:n,el:s,device:i}=r,a=bd(["initialized",t.direction,{"free-mode":r.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:n},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),s.classList.add(...e),r.emitContainerClasses()}function Ad(){const r=this,{el:e,classNames:t}=r;!e||typeof e=="string"||(e.classList.remove(...t),r.emitContainerClasses())}var Cd={addClasses:Id,removeClasses:Ad};function Pd(){const r=this,{isLocked:e,params:t}=r,{slidesOffsetBefore:n}=t;if(n){const s=r.slides.length-1,i=r.slidesGrid[s]+r.slidesSizesGrid[s]+n*2;r.isLocked=r.size>i}else r.isLocked=r.snapGrid.length===1;t.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),t.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),e&&e!==r.isLocked&&(r.isEnd=!1),e!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var xd={checkOverflow:Pd},ra={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Rd(r,e){return function(n){n===void 0&&(n={});const s=Object.keys(n)[0],i=n[s];if(typeof i!="object"||i===null){Je(e,n);return}if(r[s]===!0&&(r[s]={enabled:!0}),s==="navigation"&&r[s]&&r[s].enabled&&!r[s].prevEl&&!r[s].nextEl&&(r[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&r[s]&&r[s].enabled&&!r[s].el&&(r[s].auto=!0),!(s in r&&"enabled"in i)){Je(e,n);return}typeof r[s]=="object"&&!("enabled"in r[s])&&(r[s].enabled=!0),r[s]||(r[s]={enabled:!1}),Je(e,n)}}const Hs={eventsEmitter:Cu,update:Fu,translate:qu,transition:Yu,slide:rd,loop:od,grabCursor:cd,events:Ed,breakpoints:Sd,checkOverflow:xd,classes:Cd},Ws={};class Xe{constructor(){let e,t;for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=Je({},t),e&&!t.el&&(t.el=e);const a=Fe();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const h=[];return a.querySelectorAll(t.el).forEach(f=>{const p=Je({},t,{el:f});h.push(new Xe(p))}),h}const l=this;l.__swiper__=!0,l.support=ml(),l.device=gl({userAgent:t.userAgent}),l.browser=bu(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const c={};l.modules.forEach(h=>{h({params:t,swiper:l,extendParams:Rd(t,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Je({},ra,c);return l.params=Je({},d,Ws,t),l.originalParams=Je({},l.params),l.passedParams=Je({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach(h=>{l.on(h,l.params.on[h])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,s=Ne(t,`.${n.slideClass}, swiper-slide`),i=un(s[0]);return un(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:n}=e;e.slides=Ne(t,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const s=n.minTranslate(),a=(n.maxTranslate()-s)*e+s;n.translateTo(a,typeof t>"u"?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(n=>{const s=e.getSlideClasses(n);t.push({slideEl:n,classNames:s}),e.emit("_slideClass",n,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const n=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:d}=n;let h=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[d]?Math.ceil(i[d].swiperSlideSize):0,p;for(let y=d+1;y<i.length;y+=1)i[y]&&!p&&(f+=Math.ceil(i[y].swiperSlideSize),h+=1,f>c&&(p=!0));for(let y=d-1;y>=0;y-=1)i[y]&&!p&&(f+=i[y].swiperSlideSize,h+=1,f>c&&(p=!0))}else if(e==="current")for(let f=d+1;f<i.length;f+=1)(t?a[f]+l[f]-a[d]<c:a[f]-a[d]<c)&&(h+=1);else for(let f=d-1;f>=0;f-=1)a[d]-a[f]<c&&(h+=1);return h}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Wn(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)s(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const a=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const n=this,s=n.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${s}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(s()):Ne(n,s())[0];return!a&&t.params.createElements&&(a=Ze("div",t.params.wrapperClass),n.append(a),Ne(n,`.${t.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(t,{el:n,wrapperEl:a,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:a,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||Ft(n,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||Ft(n,"direction")==="rtl"),wrongRTL:Ft(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Wn(t,i):i.addEventListener("load",a=>{Wn(t,a.target)})}),oi(t),t.initialized=!0,oi(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const n=this,{params:s,el:i,wrapperEl:a,slides:l}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),s.loop&&n.loopDestroy(),t&&(n.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(c=>{n.off(c)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),mu(n)),n.destroyed=!0),null}static extendDefaults(e){Je(Ws,e)}static get extendedDefaults(){return Ws}static get defaults(){return ra}static installModule(e){Xe.prototype.__modules__||(Xe.prototype.__modules__=[]);const t=Xe.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Xe.installModule(t)),Xe):(Xe.installModule(e),Xe)}}Object.keys(Hs).forEach(r=>{Object.keys(Hs[r]).forEach(e=>{Xe.prototype[e]=Hs[r][e]})});Xe.use([Iu,Au]);function Md(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let i;const a=Fe();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const l=a.createElement("div");function c(E,_){const I=e.params.virtual;if(I.cache&&e.virtual.cache[_])return e.virtual.cache[_];let R;return I.renderSlide?(R=I.renderSlide.call(e,E,_),typeof R=="string"&&(l.innerHTML=R,R=l.children[0])):e.isElement?R=Ze("swiper-slide"):R=Ze("div",e.params.slideClass),R.setAttribute("data-swiper-slide-index",_),I.renderSlide||(R.innerHTML=E),I.cache&&(e.virtual.cache[_]=R),R}function d(E,_){const{slidesPerView:I,slidesPerGroup:R,centeredSlides:A,loop:T,initialSlide:D}=e.params;if(_&&!T&&D>0)return;const{addSlidesBefore:V,addSlidesAfter:z}=e.params.virtual,{from:x,to:w,slides:g,slidesGrid:S,offset:C}=e.virtual;e.params.cssMode||e.updateActiveIndex();const P=e.activeIndex||0;let v;e.rtlTranslate?v="right":v=e.isHorizontal()?"left":"top";let k,B;A?(k=Math.floor(I/2)+R+z,B=Math.floor(I/2)+R+V):(k=I+(R-1)+z,B=(T?I:R)+V);let X=P-B,O=P+k;T||(X=Math.max(X,0),O=Math.min(O,g.length-1));let N=(e.slidesGrid[X]||0)-(e.slidesGrid[0]||0);T&&P>=B?(X-=B,A||(N+=e.slidesGrid[0])):T&&P<B&&(X=-B,A&&(N+=e.slidesGrid[0])),Object.assign(e.virtual,{from:X,to:O,offset:N,slidesGrid:e.slidesGrid,slidesBefore:B,slidesAfter:k});function Y(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s("virtualUpdate")}if(x===X&&w===O&&!E){e.slidesGrid!==S&&N!==C&&e.slides.forEach(J=>{J.style[v]=`${N-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),s("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:N,from:X,to:O,slides:function(){const ae=[];for(let ge=X;ge<=O;ge+=1)ae.push(g[ge]);return ae}()}),e.params.virtual.renderExternalUpdate?Y():s("virtualUpdate");return}const re=[],G=[],U=J=>{let ae=J;return J<0?ae=g.length+J:ae>=g.length&&(ae=ae-g.length),ae};if(E)e.slides.filter(J=>J.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(J=>{J.remove()});else for(let J=x;J<=w;J+=1)if(J<X||J>O){const ae=U(J);e.slides.filter(ge=>ge.matches(`.${e.params.slideClass}[data-swiper-slide-index="${ae}"], swiper-slide[data-swiper-slide-index="${ae}"]`)).forEach(ge=>{ge.remove()})}const q=T?-g.length:0,pe=T?g.length*2:g.length;for(let J=q;J<pe;J+=1)if(J>=X&&J<=O){const ae=U(J);typeof w>"u"||E?G.push(ae):(J>w&&G.push(ae),J<x&&re.push(ae))}if(G.forEach(J=>{e.slidesEl.append(c(g[J],J))}),T)for(let J=re.length-1;J>=0;J-=1){const ae=re[J];e.slidesEl.prepend(c(g[ae],ae))}else re.sort((J,ae)=>ae-J),re.forEach(J=>{e.slidesEl.prepend(c(g[J],J))});Ne(e.slidesEl,".swiper-slide, swiper-slide").forEach(J=>{J.style[v]=`${N-Math.abs(e.cssOverflowAdjustment())}px`}),Y()}function h(E){if(typeof E=="object"&&"length"in E)for(let _=0;_<E.length;_+=1)E[_]&&e.virtual.slides.push(E[_]);else e.virtual.slides.push(E);d(!0)}function f(E){const _=e.activeIndex;let I=_+1,R=1;if(Array.isArray(E)){for(let A=0;A<E.length;A+=1)E[A]&&e.virtual.slides.unshift(E[A]);I=_+E.length,R=E.length}else e.virtual.slides.unshift(E);if(e.params.virtual.cache){const A=e.virtual.cache,T={};Object.keys(A).forEach(D=>{const V=A[D],z=V.getAttribute("data-swiper-slide-index");z&&V.setAttribute("data-swiper-slide-index",parseInt(z,10)+R),T[parseInt(D,10)+R]=V}),e.virtual.cache=T}d(!0),e.slideTo(I,0)}function p(E){if(typeof E>"u"||E===null)return;let _=e.activeIndex;if(Array.isArray(E))for(let I=E.length-1;I>=0;I-=1)e.params.virtual.cache&&(delete e.virtual.cache[E[I]],Object.keys(e.virtual.cache).forEach(R=>{R>E&&(e.virtual.cache[R-1]=e.virtual.cache[R],e.virtual.cache[R-1].setAttribute("data-swiper-slide-index",R-1),delete e.virtual.cache[R])})),e.virtual.slides.splice(E[I],1),E[I]<_&&(_-=1),_=Math.max(_,0);else e.params.virtual.cache&&(delete e.virtual.cache[E],Object.keys(e.virtual.cache).forEach(I=>{I>E&&(e.virtual.cache[I-1]=e.virtual.cache[I],e.virtual.cache[I-1].setAttribute("data-swiper-slide-index",I-1),delete e.virtual.cache[I])})),e.virtual.slides.splice(E,1),E<_&&(_-=1),_=Math.max(_,0);d(!0),e.slideTo(_,0)}function y(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),d(!0),e.slideTo(0,0)}n("beforeInit",()=>{if(!e.params.virtual.enabled)return;let E;if(typeof e.passedParams.virtual.slides>"u"){const _=[...e.slidesEl.children].filter(I=>I.matches(`.${e.params.slideClass}, swiper-slide`));_&&_.length&&(e.virtual.slides=[..._],E=!0,_.forEach((I,R)=>{I.setAttribute("data-swiper-slide-index",R),e.virtual.cache[R]=I,I.remove()}))}E||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,d(!1,!0)}),n("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(i),i=setTimeout(()=>{d()},100)):d())}),n("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Zr(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:h,prependSlide:f,removeSlide:p,removeAllSlides:y,update:d})}function Dd(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;const i=Fe(),a=Te();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function l(h){if(!e.enabled)return;const{rtlTranslate:f}=e;let p=h;p.originalEvent&&(p=p.originalEvent);const y=p.keyCode||p.charCode,E=e.params.keyboard.pageUpDown,_=E&&y===33,I=E&&y===34,R=y===37,A=y===39,T=y===38,D=y===40;if(!e.allowSlideNext&&(e.isHorizontal()&&A||e.isVertical()&&D||I)||!e.allowSlidePrev&&(e.isHorizontal()&&R||e.isVertical()&&T||_))return!1;if(!(p.shiftKey||p.altKey||p.ctrlKey||p.metaKey)&&!(i.activeElement&&i.activeElement.nodeName&&(i.activeElement.nodeName.toLowerCase()==="input"||i.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(_||I||R||A||T||D)){let V=!1;if(sr(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&sr(e.el,`.${e.params.slideActiveClass}`).length===0)return;const z=e.el,x=z.clientWidth,w=z.clientHeight,g=a.innerWidth,S=a.innerHeight,C=ts(z);f&&(C.left-=z.scrollLeft);const P=[[C.left,C.top],[C.left+x,C.top],[C.left,C.top+w],[C.left+x,C.top+w]];for(let v=0;v<P.length;v+=1){const k=P[v];if(k[0]>=0&&k[0]<=g&&k[1]>=0&&k[1]<=S){if(k[0]===0&&k[1]===0)continue;V=!0}}if(!V)return}e.isHorizontal()?((_||I||R||A)&&(p.preventDefault?p.preventDefault():p.returnValue=!1),((I||A)&&!f||(_||R)&&f)&&e.slideNext(),((_||R)&&!f||(I||A)&&f)&&e.slidePrev()):((_||I||T||D)&&(p.preventDefault?p.preventDefault():p.returnValue=!1),(I||D)&&e.slideNext(),(_||T)&&e.slidePrev()),s("keyPress",y)}}function c(){e.keyboard.enabled||(i.addEventListener("keydown",l),e.keyboard.enabled=!0)}function d(){e.keyboard.enabled&&(i.removeEventListener("keydown",l),e.keyboard.enabled=!1)}n("init",()=>{e.params.keyboard.enabled&&c()}),n("destroy",()=>{e.keyboard.enabled&&d()}),Object.assign(e.keyboard,{enable:c,disable:d})}function Vd(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;const i=Te();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let a,l=rt(),c;const d=[];function h(T){let x=0,w=0,g=0,S=0;return"detail"in T&&(w=T.detail),"wheelDelta"in T&&(w=-T.wheelDelta/120),"wheelDeltaY"in T&&(w=-T.wheelDeltaY/120),"wheelDeltaX"in T&&(x=-T.wheelDeltaX/120),"axis"in T&&T.axis===T.HORIZONTAL_AXIS&&(x=w,w=0),g=x*10,S=w*10,"deltaY"in T&&(S=T.deltaY),"deltaX"in T&&(g=T.deltaX),T.shiftKey&&!g&&(g=S,S=0),(g||S)&&T.deltaMode&&(T.deltaMode===1?(g*=40,S*=40):(g*=800,S*=800)),g&&!x&&(x=g<1?-1:1),S&&!w&&(w=S<1?-1:1),{spinX:x,spinY:w,pixelX:g,pixelY:S}}function f(){e.enabled&&(e.mouseEntered=!0)}function p(){e.enabled&&(e.mouseEntered=!1)}function y(T){return e.params.mousewheel.thresholdDelta&&T.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&rt()-l<e.params.mousewheel.thresholdTime?!1:T.delta>=6&&rt()-l<60?!0:(T.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),s("scroll",T.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),s("scroll",T.raw)),l=new i.Date().getTime(),!1)}function E(T){const D=e.params.mousewheel;if(T.direction<0){if(e.isEnd&&!e.params.loop&&D.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&D.releaseOnEdges)return!0;return!1}function _(T){let D=T,V=!0;if(!e.enabled||T.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const z=e.params.mousewheel;e.params.cssMode&&D.preventDefault();let x=e.el;e.params.mousewheel.eventsTarget!=="container"&&(x=document.querySelector(e.params.mousewheel.eventsTarget));const w=x&&x.contains(D.target);if(!e.mouseEntered&&!w&&!z.releaseOnEdges)return!0;D.originalEvent&&(D=D.originalEvent);let g=0;const S=e.rtlTranslate?-1:1,C=h(D);if(z.forceToAxis)if(e.isHorizontal())if(Math.abs(C.pixelX)>Math.abs(C.pixelY))g=-C.pixelX*S;else return!0;else if(Math.abs(C.pixelY)>Math.abs(C.pixelX))g=-C.pixelY;else return!0;else g=Math.abs(C.pixelX)>Math.abs(C.pixelY)?-C.pixelX*S:-C.pixelY;if(g===0)return!0;z.invert&&(g=-g);let P=e.getTranslate()+g*z.sensitivity;if(P>=e.minTranslate()&&(P=e.minTranslate()),P<=e.maxTranslate()&&(P=e.maxTranslate()),V=e.params.loop?!0:!(P===e.minTranslate()||P===e.maxTranslate()),V&&e.params.nested&&D.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const v={time:rt(),delta:Math.abs(g),direction:Math.sign(g),raw:T};d.length>=2&&d.shift();const k=d.length?d[d.length-1]:void 0;if(d.push(v),k?(v.direction!==k.direction||v.delta>k.delta||v.time>k.time+150)&&y(v):y(v),E(v))return!0}else{const v={time:rt(),delta:Math.abs(g),direction:Math.sign(g)},k=c&&v.time<c.time+500&&v.delta<=c.delta&&v.direction===c.direction;if(!k){c=void 0;let B=e.getTranslate()+g*z.sensitivity;const X=e.isBeginning,O=e.isEnd;if(B>=e.minTranslate()&&(B=e.minTranslate()),B<=e.maxTranslate()&&(B=e.maxTranslate()),e.setTransition(0),e.setTranslate(B),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!X&&e.isBeginning||!O&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:v.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(a),a=void 0,d.length>=15&&d.shift();const N=d.length?d[d.length-1]:void 0,Y=d[0];if(d.push(v),N&&(v.delta>N.delta||v.direction!==N.direction))d.splice(0);else if(d.length>=15&&v.time-Y.time<500&&Y.delta-v.delta>=1&&v.delta<=6){const re=g>0?.8:.2;c=v,d.splice(0),a=ar(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,re)},0)}a||(a=ar(()=>{if(e.destroyed||!e.params)return;const re=.5;c=v,d.splice(0),e.slideToClosest(e.params.speed,!0,void 0,re)},500))}if(k||s("scroll",D),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),z.releaseOnEdges&&(B===e.minTranslate()||B===e.maxTranslate()))return!0}}return D.preventDefault?D.preventDefault():D.returnValue=!1,!1}function I(T){let D=e.el;e.params.mousewheel.eventsTarget!=="container"&&(D=document.querySelector(e.params.mousewheel.eventsTarget)),D[T]("mouseenter",f),D[T]("mouseleave",p),D[T]("wheel",_)}function R(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",_),!0):e.mousewheel.enabled?!1:(I("addEventListener"),e.mousewheel.enabled=!0,!0)}function A(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,_),!0):e.mousewheel.enabled?(I("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}n("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&A(),e.params.mousewheel.enabled&&R()}),n("destroy",()=>{e.params.cssMode&&R(),e.mousewheel.enabled&&A()}),Object.assign(e.mousewheel,{enable:R,disable:A})}function Di(r,e,t,n){return r.params.createElements&&Object.keys(n).forEach(s=>{if(!t[s]&&t.auto===!0){let i=Ne(r.el,`.${n[s]}`)[0];i||(i=Ze("div",n[s]),i.className=n[s],r.el.append(i)),t[s]=i,e[s]=i}}),t}function Ld(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(E){let _;return E&&typeof E=="string"&&e.isElement&&(_=e.el.querySelector(E)||e.hostEl.querySelector(E),_)?_:(E&&(typeof E=="string"&&(_=[...document.querySelectorAll(E)]),e.params.uniqueNavElements&&typeof E=="string"&&_&&_.length>1&&e.el.querySelectorAll(E).length===1?_=e.el.querySelector(E):_&&_.length===1&&(_=_[0])),E&&!_?E:_)}function a(E,_){const I=e.params.navigation;E=oe(E),E.forEach(R=>{R&&(R.classList[_?"add":"remove"](...I.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=_),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](I.lockClass))})}function l(){const{nextEl:E,prevEl:_}=e.navigation;if(e.params.loop){a(_,!1),a(E,!1);return}a(_,e.isBeginning&&!e.params.rewind),a(E,e.isEnd&&!e.params.rewind)}function c(E){E.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function d(E){E.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function h(){const E=e.params.navigation;if(e.params.navigation=Di(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(E.nextEl||E.prevEl))return;let _=i(E.nextEl),I=i(E.prevEl);Object.assign(e.navigation,{nextEl:_,prevEl:I}),_=oe(_),I=oe(I);const R=(A,T)=>{A&&A.addEventListener("click",T==="next"?d:c),!e.enabled&&A&&A.classList.add(...E.lockClass.split(" "))};_.forEach(A=>R(A,"next")),I.forEach(A=>R(A,"prev"))}function f(){let{nextEl:E,prevEl:_}=e.navigation;E=oe(E),_=oe(_);const I=(R,A)=>{R.removeEventListener("click",A==="next"?d:c),R.classList.remove(...e.params.navigation.disabledClass.split(" "))};E.forEach(R=>I(R,"next")),_.forEach(R=>I(R,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?y():(h(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{f()}),n("enable disable",()=>{let{nextEl:E,prevEl:_}=e.navigation;if(E=oe(E),_=oe(_),e.enabled){l();return}[...E,..._].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),n("click",(E,_)=>{let{nextEl:I,prevEl:R}=e.navigation;I=oe(I),R=oe(R);const A=_.target;let T=R.includes(A)||I.includes(A);if(e.isElement&&!T){const D=_.path||_.composedPath&&_.composedPath();D&&(T=D.find(V=>I.includes(V)||R.includes(V)))}if(e.params.navigation.hideOnClick&&!T){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===A||e.pagination.el.contains(A)))return;let D;I.length?D=I[0].classList.contains(e.params.navigation.hiddenClass):R.length&&(D=R[0].classList.contains(e.params.navigation.hiddenClass)),s(D===!0?"navigationShow":"navigationHide"),[...I,...R].filter(V=>!!V).forEach(V=>V.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),h(),l()},y=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:y,update:l,init:h,destroy:f})}function St(r){return r===void 0&&(r=""),`.${r.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function kd(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;const i="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:A=>A,formatFractionTotal:A=>A,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(A,T){const{bulletActiveClass:D}=e.params.pagination;A&&(A=A[`${T==="prev"?"previous":"next"}ElementSibling`],A&&(A.classList.add(`${D}-${T}`),A=A[`${T==="prev"?"previous":"next"}ElementSibling`],A&&A.classList.add(`${D}-${T}-${T}`)))}function h(A,T,D){if(A=A%D,T=T%D,T===A+1)return"next";if(T===A-1)return"previous"}function f(A){const T=A.target.closest(St(e.params.pagination.bulletClass));if(!T)return;A.preventDefault();const D=un(T)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===D)return;const V=h(e.realIndex,D,e.slides.length);V==="next"?e.slideNext():V==="previous"?e.slidePrev():e.slideToLoop(D)}else e.slideTo(D)}function p(){const A=e.rtl,T=e.params.pagination;if(c())return;let D=e.pagination.el;D=oe(D);let V,z;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,w=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(z=e.previousRealIndex||0,V=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(V=e.snapIndex,z=e.previousSnapIndex):(z=e.previousIndex||0,V=e.activeIndex||0),T.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const g=e.pagination.bullets;let S,C,P;if(T.dynamicBullets&&(a=ii(g[0],e.isHorizontal()?"width":"height"),D.forEach(v=>{v.style[e.isHorizontal()?"width":"height"]=`${a*(T.dynamicMainBullets+4)}px`}),T.dynamicMainBullets>1&&z!==void 0&&(l+=V-(z||0),l>T.dynamicMainBullets-1?l=T.dynamicMainBullets-1:l<0&&(l=0)),S=Math.max(V-l,0),C=S+(Math.min(g.length,T.dynamicMainBullets)-1),P=(C+S)/2),g.forEach(v=>{const k=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(B=>`${T.bulletActiveClass}${B}`)].map(B=>typeof B=="string"&&B.includes(" ")?B.split(" "):B).flat();v.classList.remove(...k)}),D.length>1)g.forEach(v=>{const k=un(v);k===V?v.classList.add(...T.bulletActiveClass.split(" ")):e.isElement&&v.setAttribute("part","bullet"),T.dynamicBullets&&(k>=S&&k<=C&&v.classList.add(...`${T.bulletActiveClass}-main`.split(" ")),k===S&&d(v,"prev"),k===C&&d(v,"next"))});else{const v=g[V];if(v&&v.classList.add(...T.bulletActiveClass.split(" ")),e.isElement&&g.forEach((k,B)=>{k.setAttribute("part",B===V?"bullet-active":"bullet")}),T.dynamicBullets){const k=g[S],B=g[C];for(let X=S;X<=C;X+=1)g[X]&&g[X].classList.add(...`${T.bulletActiveClass}-main`.split(" "));d(k,"prev"),d(B,"next")}}if(T.dynamicBullets){const v=Math.min(g.length,T.dynamicMainBullets+4),k=(a*v-a)/2-P*a,B=A?"right":"left";g.forEach(X=>{X.style[e.isHorizontal()?B:"top"]=`${k}px`})}}D.forEach((g,S)=>{if(T.type==="fraction"&&(g.querySelectorAll(St(T.currentClass)).forEach(C=>{C.textContent=T.formatFractionCurrent(V+1)}),g.querySelectorAll(St(T.totalClass)).forEach(C=>{C.textContent=T.formatFractionTotal(w)})),T.type==="progressbar"){let C;T.progressbarOpposite?C=e.isHorizontal()?"vertical":"horizontal":C=e.isHorizontal()?"horizontal":"vertical";const P=(V+1)/w;let v=1,k=1;C==="horizontal"?v=P:k=P,g.querySelectorAll(St(T.progressbarFillClass)).forEach(B=>{B.style.transform=`translate3d(0,0,0) scaleX(${v}) scaleY(${k})`,B.style.transitionDuration=`${e.params.speed}ms`})}T.type==="custom"&&T.renderCustom?(g.innerHTML=T.renderCustom(e,V+1,w),S===0&&s("paginationRender",g)):(S===0&&s("paginationRender",g),s("paginationUpdate",g)),e.params.watchOverflow&&e.enabled&&g.classList[e.isLocked?"add":"remove"](T.lockClass)})}function y(){const A=e.params.pagination;if(c())return;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let D=e.pagination.el;D=oe(D);let V="";if(A.type==="bullets"){let z=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&z>T&&(z=T);for(let x=0;x<z;x+=1)A.renderBullet?V+=A.renderBullet.call(e,x,A.bulletClass):V+=`<${A.bulletElement} ${e.isElement?'part="bullet"':""} class="${A.bulletClass}"></${A.bulletElement}>`}A.type==="fraction"&&(A.renderFraction?V=A.renderFraction.call(e,A.currentClass,A.totalClass):V=`<span class="${A.currentClass}"></span> / <span class="${A.totalClass}"></span>`),A.type==="progressbar"&&(A.renderProgressbar?V=A.renderProgressbar.call(e,A.progressbarFillClass):V=`<span class="${A.progressbarFillClass}"></span>`),e.pagination.bullets=[],D.forEach(z=>{A.type!=="custom"&&(z.innerHTML=V||""),A.type==="bullets"&&e.pagination.bullets.push(...z.querySelectorAll(St(A.bulletClass)))}),A.type!=="custom"&&s("paginationRender",D[0])}function E(){e.params.pagination=Di(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const A=e.params.pagination;if(!A.el)return;let T;typeof A.el=="string"&&e.isElement&&(T=e.el.querySelector(A.el)),!T&&typeof A.el=="string"&&(T=[...document.querySelectorAll(A.el)]),T||(T=A.el),!(!T||T.length===0)&&(e.params.uniqueNavElements&&typeof A.el=="string"&&Array.isArray(T)&&T.length>1&&(T=[...e.el.querySelectorAll(A.el)],T.length>1&&(T=T.filter(D=>sr(D,".swiper")[0]===e.el)[0])),Array.isArray(T)&&T.length===1&&(T=T[0]),Object.assign(e.pagination,{el:T}),T=oe(T),T.forEach(D=>{A.type==="bullets"&&A.clickable&&D.classList.add(...(A.clickableClass||"").split(" ")),D.classList.add(A.modifierClass+A.type),D.classList.add(e.isHorizontal()?A.horizontalClass:A.verticalClass),A.type==="bullets"&&A.dynamicBullets&&(D.classList.add(`${A.modifierClass}${A.type}-dynamic`),l=0,A.dynamicMainBullets<1&&(A.dynamicMainBullets=1)),A.type==="progressbar"&&A.progressbarOpposite&&D.classList.add(A.progressbarOppositeClass),A.clickable&&D.addEventListener("click",f),e.enabled||D.classList.add(A.lockClass)}))}function _(){const A=e.params.pagination;if(c())return;let T=e.pagination.el;T&&(T=oe(T),T.forEach(D=>{D.classList.remove(A.hiddenClass),D.classList.remove(A.modifierClass+A.type),D.classList.remove(e.isHorizontal()?A.horizontalClass:A.verticalClass),A.clickable&&(D.classList.remove(...(A.clickableClass||"").split(" ")),D.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(D=>D.classList.remove(...A.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const A=e.params.pagination;let{el:T}=e.pagination;T=oe(T),T.forEach(D=>{D.classList.remove(A.horizontalClass,A.verticalClass),D.classList.add(e.isHorizontal()?A.horizontalClass:A.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?R():(E(),y(),p())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),n("snapIndexChange",()=>{p()}),n("snapGridLengthChange",()=>{y(),p()}),n("destroy",()=>{_()}),n("enable disable",()=>{let{el:A}=e.pagination;A&&(A=oe(A),A.forEach(T=>T.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{p()}),n("click",(A,T)=>{const D=T.target,V=oe(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&V&&V.length>0&&!D.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&D===e.navigation.nextEl||e.navigation.prevEl&&D===e.navigation.prevEl))return;const z=V[0].classList.contains(e.params.pagination.hiddenClass);s(z===!0?"paginationShow":"paginationHide"),V.forEach(x=>x.classList.toggle(e.params.pagination.hiddenClass))}});const I=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:A}=e.pagination;A&&(A=oe(A),A.forEach(T=>T.classList.remove(e.params.pagination.paginationDisabledClass))),E(),y(),p()},R=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:A}=e.pagination;A&&(A=oe(A),A.forEach(T=>T.classList.add(e.params.pagination.paginationDisabledClass))),_()};Object.assign(e.pagination,{enable:I,disable:R,render:y,update:p,init:E,destroy:_})}function Od(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;const i=Fe();let a=!1,l=null,c=null,d,h,f,p;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:P,rtlTranslate:v}=e,{dragEl:k,el:B}=P,X=e.params.scrollbar,O=e.params.loop?e.progressLoop:e.progress;let N=h,Y=(f-h)*O;v?(Y=-Y,Y>0?(N=h-Y,Y=0):-Y+h>f&&(N=f+Y)):Y<0?(N=h+Y,Y=0):Y+h>f&&(N=f-Y),e.isHorizontal()?(k.style.transform=`translate3d(${Y}px, 0, 0)`,k.style.width=`${N}px`):(k.style.transform=`translate3d(0px, ${Y}px, 0)`,k.style.height=`${N}px`),X.hide&&(clearTimeout(l),B.style.opacity=1,l=setTimeout(()=>{B.style.opacity=0,B.style.transitionDuration="400ms"},1e3))}function E(P){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${P}ms`)}function _(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:P}=e,{dragEl:v,el:k}=P;v.style.width="",v.style.height="",f=e.isHorizontal()?k.offsetWidth:k.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?h=f*p:h=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?v.style.width=`${h}px`:v.style.height=`${h}px`,p>=1?k.style.display="none":k.style.display="",e.params.scrollbar.hide&&(k.style.opacity=0),e.params.watchOverflow&&e.enabled&&P.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function I(P){return e.isHorizontal()?P.clientX:P.clientY}function R(P){const{scrollbar:v,rtlTranslate:k}=e,{el:B}=v;let X;X=(I(P)-ts(B)[e.isHorizontal()?"left":"top"]-(d!==null?d:h/2))/(f-h),X=Math.max(Math.min(X,1),0),k&&(X=1-X);const O=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*X;e.updateProgress(O),e.setTranslate(O),e.updateActiveIndex(),e.updateSlidesClasses()}function A(P){const v=e.params.scrollbar,{scrollbar:k,wrapperEl:B}=e,{el:X,dragEl:O}=k;a=!0,d=P.target===O?I(P)-P.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,P.preventDefault(),P.stopPropagation(),B.style.transitionDuration="100ms",O.style.transitionDuration="100ms",R(P),clearTimeout(c),X.style.transitionDuration="0ms",v.hide&&(X.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),s("scrollbarDragStart",P)}function T(P){const{scrollbar:v,wrapperEl:k}=e,{el:B,dragEl:X}=v;a&&(P.preventDefault&&P.cancelable?P.preventDefault():P.returnValue=!1,R(P),k.style.transitionDuration="0ms",B.style.transitionDuration="0ms",X.style.transitionDuration="0ms",s("scrollbarDragMove",P))}function D(P){const v=e.params.scrollbar,{scrollbar:k,wrapperEl:B}=e,{el:X}=k;a&&(a=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",B.style.transitionDuration=""),v.hide&&(clearTimeout(c),c=ar(()=>{X.style.opacity=0,X.style.transitionDuration="400ms"},1e3)),s("scrollbarDragEnd",P),v.snapOnRelease&&e.slideToClosest())}function V(P){const{scrollbar:v,params:k}=e,B=v.el;if(!B)return;const X=B,O=k.passiveListeners?{passive:!1,capture:!1}:!1,N=k.passiveListeners?{passive:!0,capture:!1}:!1;if(!X)return;const Y=P==="on"?"addEventListener":"removeEventListener";X[Y]("pointerdown",A,O),i[Y]("pointermove",T,O),i[Y]("pointerup",D,N)}function z(){!e.params.scrollbar.el||!e.scrollbar.el||V("on")}function x(){!e.params.scrollbar.el||!e.scrollbar.el||V("off")}function w(){const{scrollbar:P,el:v}=e;e.params.scrollbar=Di(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const k=e.params.scrollbar;if(!k.el)return;let B;if(typeof k.el=="string"&&e.isElement&&(B=e.el.querySelector(k.el)),!B&&typeof k.el=="string"){if(B=i.querySelectorAll(k.el),!B.length)return}else B||(B=k.el);e.params.uniqueNavElements&&typeof k.el=="string"&&B.length>1&&v.querySelectorAll(k.el).length===1&&(B=v.querySelector(k.el)),B.length>0&&(B=B[0]),B.classList.add(e.isHorizontal()?k.horizontalClass:k.verticalClass);let X;B&&(X=B.querySelector(St(e.params.scrollbar.dragClass)),X||(X=Ze("div",e.params.scrollbar.dragClass),B.append(X))),Object.assign(P,{el:B,dragEl:X}),k.draggable&&z(),B&&B.classList[e.enabled?"remove":"add"](...Nt(e.params.scrollbar.lockClass))}function g(){const P=e.params.scrollbar,v=e.scrollbar.el;v&&v.classList.remove(...Nt(e.isHorizontal()?P.horizontalClass:P.verticalClass)),x()}n("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const P=e.params.scrollbar;let{el:v}=e.scrollbar;v=oe(v),v.forEach(k=>{k.classList.remove(P.horizontalClass,P.verticalClass),k.classList.add(e.isHorizontal()?P.horizontalClass:P.verticalClass)})}),n("init",()=>{e.params.scrollbar.enabled===!1?C():(w(),_(),y())}),n("update resize observerUpdate lock unlock changeDirection",()=>{_()}),n("setTranslate",()=>{y()}),n("setTransition",(P,v)=>{E(v)}),n("enable disable",()=>{const{el:P}=e.scrollbar;P&&P.classList[e.enabled?"remove":"add"](...Nt(e.params.scrollbar.lockClass))}),n("destroy",()=>{g()});const S=()=>{e.el.classList.remove(...Nt(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Nt(e.params.scrollbar.scrollbarDisabledClass)),w(),_(),y()},C=()=>{e.el.classList.add(...Nt(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Nt(e.params.scrollbar.scrollbarDisabledClass)),g()};Object.assign(e.scrollbar,{enable:S,disable:C,updateSize:_,setTranslate:y,init:w,destroy:g})}function Nd(r){let{swiper:e,extendParams:t,on:n}=r;t({parallax:{enabled:!1}});const s="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",i=(c,d)=>{const{rtl:h}=e,f=h?-1:1,p=c.getAttribute("data-swiper-parallax")||"0";let y=c.getAttribute("data-swiper-parallax-x"),E=c.getAttribute("data-swiper-parallax-y");const _=c.getAttribute("data-swiper-parallax-scale"),I=c.getAttribute("data-swiper-parallax-opacity"),R=c.getAttribute("data-swiper-parallax-rotate");if(y||E?(y=y||"0",E=E||"0"):e.isHorizontal()?(y=p,E="0"):(E=p,y="0"),y.indexOf("%")>=0?y=`${parseInt(y,10)*d*f}%`:y=`${y*d*f}px`,E.indexOf("%")>=0?E=`${parseInt(E,10)*d}%`:E=`${E*d}px`,typeof I<"u"&&I!==null){const T=I-(I-1)*(1-Math.abs(d));c.style.opacity=T}let A=`translate3d(${y}, ${E}, 0px)`;if(typeof _<"u"&&_!==null){const T=_-(_-1)*(1-Math.abs(d));A+=` scale(${T})`}if(R&&typeof R<"u"&&R!==null){const T=R*d*-1;A+=` rotate(${T}deg)`}c.style.transform=A},a=()=>{const{el:c,slides:d,progress:h,snapGrid:f,isElement:p}=e,y=Ne(c,s);e.isElement&&y.push(...Ne(e.hostEl,s)),y.forEach(E=>{i(E,h)}),d.forEach((E,_)=>{let I=E.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(I+=Math.ceil(_/2)-h*(f.length-1)),I=Math.min(Math.max(I,-1),1),E.querySelectorAll(`${s}, [data-swiper-parallax-rotate]`).forEach(R=>{i(R,I)})})},l=function(c){c===void 0&&(c=e.params.speed);const{el:d,hostEl:h}=e,f=[...d.querySelectorAll(s)];e.isElement&&f.push(...h.querySelectorAll(s)),f.forEach(p=>{let y=parseInt(p.getAttribute("data-swiper-parallax-duration"),10)||c;c===0&&(y=0),p.style.transitionDuration=`${y}ms`})};n("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),n("init",()=>{e.params.parallax.enabled&&a()}),n("setTranslate",()=>{e.params.parallax.enabled&&a()}),n("setTransition",(c,d)=>{e.params.parallax.enabled&&l(d)})}function Fd(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;const i=Te();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let a=1,l=!1,c,d;const h=[],f={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},p={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},y={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let E=1;Object.defineProperty(e.zoom,"scale",{get(){return E},set(G){if(E!==G){const U=f.imageEl,q=f.slideEl;s("zoomChange",G,U,q)}E=G}});function _(){if(h.length<2)return 1;const G=h[0].pageX,U=h[0].pageY,q=h[1].pageX,pe=h[1].pageY;return Math.sqrt((q-G)**2+(pe-U)**2)}function I(){const G=e.params.zoom,U=f.imageWrapEl.getAttribute("data-swiper-zoom")||G.maxRatio;if(G.limitToOriginalSize&&f.imageEl&&f.imageEl.naturalWidth){const q=f.imageEl.naturalWidth/f.imageEl.offsetWidth;return Math.min(q,U)}return U}function R(){if(h.length<2)return{x:null,y:null};const G=f.imageEl.getBoundingClientRect();return[(h[0].pageX+(h[1].pageX-h[0].pageX)/2-G.x-i.scrollX)/a,(h[0].pageY+(h[1].pageY-h[0].pageY)/2-G.y-i.scrollY)/a]}function A(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function T(G){const U=A();return!!(G.target.matches(U)||e.slides.filter(q=>q.contains(G.target)).length>0)}function D(G){const U=`.${e.params.zoom.containerClass}`;return!!(G.target.matches(U)||[...e.hostEl.querySelectorAll(U)].filter(q=>q.contains(G.target)).length>0)}function V(G){if(G.pointerType==="mouse"&&h.splice(0,h.length),!T(G))return;const U=e.params.zoom;if(c=!1,d=!1,h.push(G),!(h.length<2)){if(c=!0,f.scaleStart=_(),!f.slideEl){f.slideEl=G.target.closest(`.${e.params.slideClass}, swiper-slide`),f.slideEl||(f.slideEl=e.slides[e.activeIndex]);let q=f.slideEl.querySelector(`.${U.containerClass}`);if(q&&(q=q.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=q,q?f.imageWrapEl=sr(f.imageEl,`.${U.containerClass}`)[0]:f.imageWrapEl=void 0,!f.imageWrapEl){f.imageEl=void 0;return}f.maxRatio=I()}if(f.imageEl){const[q,pe]=R();f.originX=q,f.originY=pe,f.imageEl.style.transitionDuration="0ms"}l=!0}}function z(G){if(!T(G))return;const U=e.params.zoom,q=e.zoom,pe=h.findIndex(J=>J.pointerId===G.pointerId);pe>=0&&(h[pe]=G),!(h.length<2)&&(d=!0,f.scaleMove=_(),f.imageEl&&(q.scale=f.scaleMove/f.scaleStart*a,q.scale>f.maxRatio&&(q.scale=f.maxRatio-1+(q.scale-f.maxRatio+1)**.5),q.scale<U.minRatio&&(q.scale=U.minRatio+1-(U.minRatio-q.scale+1)**.5),f.imageEl.style.transform=`translate3d(0,0,0) scale(${q.scale})`))}function x(G){if(!T(G)||G.pointerType==="mouse"&&G.type==="pointerout")return;const U=e.params.zoom,q=e.zoom,pe=h.findIndex(J=>J.pointerId===G.pointerId);pe>=0&&h.splice(pe,1),!(!c||!d)&&(c=!1,d=!1,f.imageEl&&(q.scale=Math.max(Math.min(q.scale,f.maxRatio),U.minRatio),f.imageEl.style.transitionDuration=`${e.params.speed}ms`,f.imageEl.style.transform=`translate3d(0,0,0) scale(${q.scale})`,a=q.scale,l=!1,q.scale>1&&f.slideEl?f.slideEl.classList.add(`${U.zoomedSlideClass}`):q.scale<=1&&f.slideEl&&f.slideEl.classList.remove(`${U.zoomedSlideClass}`),q.scale===1&&(f.originX=0,f.originY=0,f.slideEl=void 0)))}let w;function g(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function S(){clearTimeout(w),e.touchEventsData.preventTouchMoveFromPointerMove=!0,w=setTimeout(()=>{e.destroyed||g()})}function C(G){const U=e.device;if(!f.imageEl||p.isTouched)return;U.android&&G.cancelable&&G.preventDefault(),p.isTouched=!0;const q=h.length>0?h[0]:G;p.touchesStart.x=q.pageX,p.touchesStart.y=q.pageY}function P(G){if(!T(G)||!D(G))return;const U=e.zoom;if(!f.imageEl||!p.isTouched||!f.slideEl)return;p.isMoved||(p.width=f.imageEl.offsetWidth||f.imageEl.clientWidth,p.height=f.imageEl.offsetHeight||f.imageEl.clientHeight,p.startX=si(f.imageWrapEl,"x")||0,p.startY=si(f.imageWrapEl,"y")||0,f.slideWidth=f.slideEl.offsetWidth,f.slideHeight=f.slideEl.offsetHeight,f.imageWrapEl.style.transitionDuration="0ms");const q=p.width*U.scale,pe=p.height*U.scale;if(p.minX=Math.min(f.slideWidth/2-q/2,0),p.maxX=-p.minX,p.minY=Math.min(f.slideHeight/2-pe/2,0),p.maxY=-p.minY,p.touchesCurrent.x=h.length>0?h[0].pageX:G.pageX,p.touchesCurrent.y=h.length>0?h[0].pageY:G.pageY,Math.max(Math.abs(p.touchesCurrent.x-p.touchesStart.x),Math.abs(p.touchesCurrent.y-p.touchesStart.y))>5&&(e.allowClick=!1),!p.isMoved&&!l){if(e.isHorizontal()&&(Math.floor(p.minX)===Math.floor(p.startX)&&p.touchesCurrent.x<p.touchesStart.x||Math.floor(p.maxX)===Math.floor(p.startX)&&p.touchesCurrent.x>p.touchesStart.x)){p.isTouched=!1,g();return}if(!e.isHorizontal()&&(Math.floor(p.minY)===Math.floor(p.startY)&&p.touchesCurrent.y<p.touchesStart.y||Math.floor(p.maxY)===Math.floor(p.startY)&&p.touchesCurrent.y>p.touchesStart.y)){p.isTouched=!1,g();return}}G.cancelable&&G.preventDefault(),G.stopPropagation(),S(),p.isMoved=!0;const ae=(U.scale-a)/(f.maxRatio-e.params.zoom.minRatio),{originX:ge,originY:st}=f;p.currentX=p.touchesCurrent.x-p.touchesStart.x+p.startX+ae*(p.width-ge*2),p.currentY=p.touchesCurrent.y-p.touchesStart.y+p.startY+ae*(p.height-st*2),p.currentX<p.minX&&(p.currentX=p.minX+1-(p.minX-p.currentX+1)**.8),p.currentX>p.maxX&&(p.currentX=p.maxX-1+(p.currentX-p.maxX+1)**.8),p.currentY<p.minY&&(p.currentY=p.minY+1-(p.minY-p.currentY+1)**.8),p.currentY>p.maxY&&(p.currentY=p.maxY-1+(p.currentY-p.maxY+1)**.8),y.prevPositionX||(y.prevPositionX=p.touchesCurrent.x),y.prevPositionY||(y.prevPositionY=p.touchesCurrent.y),y.prevTime||(y.prevTime=Date.now()),y.x=(p.touchesCurrent.x-y.prevPositionX)/(Date.now()-y.prevTime)/2,y.y=(p.touchesCurrent.y-y.prevPositionY)/(Date.now()-y.prevTime)/2,Math.abs(p.touchesCurrent.x-y.prevPositionX)<2&&(y.x=0),Math.abs(p.touchesCurrent.y-y.prevPositionY)<2&&(y.y=0),y.prevPositionX=p.touchesCurrent.x,y.prevPositionY=p.touchesCurrent.y,y.prevTime=Date.now(),f.imageWrapEl.style.transform=`translate3d(${p.currentX}px, ${p.currentY}px,0)`}function v(){const G=e.zoom;if(!f.imageEl)return;if(!p.isTouched||!p.isMoved){p.isTouched=!1,p.isMoved=!1;return}p.isTouched=!1,p.isMoved=!1;let U=300,q=300;const pe=y.x*U,J=p.currentX+pe,ae=y.y*q,ge=p.currentY+ae;y.x!==0&&(U=Math.abs((J-p.currentX)/y.x)),y.y!==0&&(q=Math.abs((ge-p.currentY)/y.y));const st=Math.max(U,q);p.currentX=J,p.currentY=ge;const it=p.width*G.scale,Re=p.height*G.scale;p.minX=Math.min(f.slideWidth/2-it/2,0),p.maxX=-p.minX,p.minY=Math.min(f.slideHeight/2-Re/2,0),p.maxY=-p.minY,p.currentX=Math.max(Math.min(p.currentX,p.maxX),p.minX),p.currentY=Math.max(Math.min(p.currentY,p.maxY),p.minY),f.imageWrapEl.style.transitionDuration=`${st}ms`,f.imageWrapEl.style.transform=`translate3d(${p.currentX}px, ${p.currentY}px,0)`}function k(){const G=e.zoom;f.slideEl&&e.activeIndex!==e.slides.indexOf(f.slideEl)&&(f.imageEl&&(f.imageEl.style.transform="translate3d(0,0,0) scale(1)"),f.imageWrapEl&&(f.imageWrapEl.style.transform="translate3d(0,0,0)"),f.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),G.scale=1,a=1,f.slideEl=void 0,f.imageEl=void 0,f.imageWrapEl=void 0,f.originX=0,f.originY=0)}function B(G){const U=e.zoom,q=e.params.zoom;if(!f.slideEl){G&&G.target&&(f.slideEl=G.target.closest(`.${e.params.slideClass}, swiper-slide`)),f.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?f.slideEl=Ne(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:f.slideEl=e.slides[e.activeIndex]);let ot=f.slideEl.querySelector(`.${q.containerClass}`);ot&&(ot=ot.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=ot,ot?f.imageWrapEl=sr(f.imageEl,`.${q.containerClass}`)[0]:f.imageWrapEl=void 0}if(!f.imageEl||!f.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),f.slideEl.classList.add(`${q.zoomedSlideClass}`);let pe,J,ae,ge,st,it,Re,Ye,At,Ct,Pt,xt,lt,Rt,Mt,vt,ct,ut;typeof p.touchesStart.x>"u"&&G?(pe=G.pageX,J=G.pageY):(pe=p.touchesStart.x,J=p.touchesStart.y);const wt=typeof G=="number"?G:null;a===1&&wt&&(pe=void 0,J=void 0,p.touchesStart.x=void 0,p.touchesStart.y=void 0);const Dt=I();U.scale=wt||Dt,a=wt||Dt,G&&!(a===1&&wt)?(ct=f.slideEl.offsetWidth,ut=f.slideEl.offsetHeight,ae=ts(f.slideEl).left+i.scrollX,ge=ts(f.slideEl).top+i.scrollY,st=ae+ct/2-pe,it=ge+ut/2-J,At=f.imageEl.offsetWidth||f.imageEl.clientWidth,Ct=f.imageEl.offsetHeight||f.imageEl.clientHeight,Pt=At*U.scale,xt=Ct*U.scale,lt=Math.min(ct/2-Pt/2,0),Rt=Math.min(ut/2-xt/2,0),Mt=-lt,vt=-Rt,Re=st*U.scale,Ye=it*U.scale,Re<lt&&(Re=lt),Re>Mt&&(Re=Mt),Ye<Rt&&(Ye=Rt),Ye>vt&&(Ye=vt)):(Re=0,Ye=0),wt&&U.scale===1&&(f.originX=0,f.originY=0),f.imageWrapEl.style.transitionDuration="300ms",f.imageWrapEl.style.transform=`translate3d(${Re}px, ${Ye}px,0)`,f.imageEl.style.transitionDuration="300ms",f.imageEl.style.transform=`translate3d(0,0,0) scale(${U.scale})`}function X(){const G=e.zoom,U=e.params.zoom;if(!f.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?f.slideEl=Ne(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:f.slideEl=e.slides[e.activeIndex];let q=f.slideEl.querySelector(`.${U.containerClass}`);q&&(q=q.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=q,q?f.imageWrapEl=sr(f.imageEl,`.${U.containerClass}`)[0]:f.imageWrapEl=void 0}!f.imageEl||!f.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),G.scale=1,a=1,p.touchesStart.x=void 0,p.touchesStart.y=void 0,f.imageWrapEl.style.transitionDuration="300ms",f.imageWrapEl.style.transform="translate3d(0,0,0)",f.imageEl.style.transitionDuration="300ms",f.imageEl.style.transform="translate3d(0,0,0) scale(1)",f.slideEl.classList.remove(`${U.zoomedSlideClass}`),f.slideEl=void 0,f.originX=0,f.originY=0)}function O(G){const U=e.zoom;U.scale&&U.scale!==1?X():B(G)}function N(){const G=e.params.passiveListeners?{passive:!0,capture:!1}:!1,U=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:G,activeListenerWithCapture:U}}function Y(){const G=e.zoom;if(G.enabled)return;G.enabled=!0;const{passiveListener:U,activeListenerWithCapture:q}=N();e.wrapperEl.addEventListener("pointerdown",V,U),e.wrapperEl.addEventListener("pointermove",z,q),["pointerup","pointercancel","pointerout"].forEach(pe=>{e.wrapperEl.addEventListener(pe,x,U)}),e.wrapperEl.addEventListener("pointermove",P,q)}function re(){const G=e.zoom;if(!G.enabled)return;G.enabled=!1;const{passiveListener:U,activeListenerWithCapture:q}=N();e.wrapperEl.removeEventListener("pointerdown",V,U),e.wrapperEl.removeEventListener("pointermove",z,q),["pointerup","pointercancel","pointerout"].forEach(pe=>{e.wrapperEl.removeEventListener(pe,x,U)}),e.wrapperEl.removeEventListener("pointermove",P,q)}n("init",()=>{e.params.zoom.enabled&&Y()}),n("destroy",()=>{re()}),n("touchStart",(G,U)=>{e.zoom.enabled&&C(U)}),n("touchEnd",(G,U)=>{e.zoom.enabled&&v()}),n("doubleTap",(G,U)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&O(U)}),n("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&k()}),n("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&k()}),Object.assign(e.zoom,{enable:Y,disable:re,in:B,out:X,toggle:O})}function zd(r){let{swiper:e,extendParams:t,on:n}=r;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function s(d,h){const f=function(){let _,I,R;return(A,T)=>{for(I=-1,_=A.length;_-I>1;)R=_+I>>1,A[R]<=T?I=R:_=R;return _}}();this.x=d,this.y=h,this.lastIndex=d.length-1;let p,y;return this.interpolate=function(_){return _?(y=f(this.x,_),p=y-1,(_-this.x[p])*(this.y[y]-this.y[p])/(this.x[y]-this.x[p])+this.y[p]):0},this}function i(d){e.controller.spline=e.params.loop?new s(e.slidesGrid,d.slidesGrid):new s(e.snapGrid,d.snapGrid)}function a(d,h){const f=e.controller.control;let p,y;const E=e.constructor;function _(I){if(I.destroyed)return;const R=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(i(I),y=-e.controller.spline.interpolate(-R)),(!y||e.params.controller.by==="container")&&(p=(I.maxTranslate()-I.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(p)||!Number.isFinite(p))&&(p=1),y=(R-e.minTranslate())*p+I.minTranslate()),e.params.controller.inverse&&(y=I.maxTranslate()-y),I.updateProgress(y),I.setTranslate(y,e),I.updateActiveIndex(),I.updateSlidesClasses()}if(Array.isArray(f))for(let I=0;I<f.length;I+=1)f[I]!==h&&f[I]instanceof E&&_(f[I]);else f instanceof E&&h!==f&&_(f)}function l(d,h){const f=e.constructor,p=e.controller.control;let y;function E(_){_.destroyed||(_.setTransition(d,e),d!==0&&(_.transitionStart(),_.params.autoHeight&&ar(()=>{_.updateAutoHeight()}),nn(_.wrapperEl,()=>{p&&_.transitionEnd()})))}if(Array.isArray(p))for(y=0;y<p.length;y+=1)p[y]!==h&&p[y]instanceof f&&E(p[y]);else p instanceof f&&h!==p&&E(p)}function c(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}n("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(h=>{if(e.controller.control||(e.controller.control=[]),h&&h.swiper)e.controller.control.push(h.swiper);else if(h){const f=`${e.params.eventsPrefix}init`,p=y=>{e.controller.control.push(y.detail[0]),e.update(),h.removeEventListener(f,p)};h.addEventListener(f,p)}});return}e.controller.control=e.params.controller.control}),n("update",()=>{c()}),n("resize",()=>{c()}),n("observerUpdate",()=>{c()}),n("setTranslate",(d,h,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(h,f)}),n("setTransition",(d,h,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(h,f)}),Object.assign(e.controller,{setTranslate:a,setTransition:l})}function Bd(r){let{swiper:e,extendParams:t,on:n}=r;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let s=null,i,a,l=new Date().getTime();function c(O){const N=s;N.length!==0&&(N.innerHTML="",N.innerHTML=O)}function d(O){const N=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(O).replace(/x/g,N)}function h(O){O=oe(O),O.forEach(N=>{N.setAttribute("tabIndex","0")})}function f(O){O=oe(O),O.forEach(N=>{N.setAttribute("tabIndex","-1")})}function p(O,N){O=oe(O),O.forEach(Y=>{Y.setAttribute("role",N)})}function y(O,N){O=oe(O),O.forEach(Y=>{Y.setAttribute("aria-roledescription",N)})}function E(O,N){O=oe(O),O.forEach(Y=>{Y.setAttribute("aria-controls",N)})}function _(O,N){O=oe(O),O.forEach(Y=>{Y.setAttribute("aria-label",N)})}function I(O,N){O=oe(O),O.forEach(Y=>{Y.setAttribute("id",N)})}function R(O,N){O=oe(O),O.forEach(Y=>{Y.setAttribute("aria-live",N)})}function A(O){O=oe(O),O.forEach(N=>{N.setAttribute("aria-disabled",!0)})}function T(O){O=oe(O),O.forEach(N=>{N.setAttribute("aria-disabled",!1)})}function D(O){if(O.keyCode!==13&&O.keyCode!==32)return;const N=e.params.a11y,Y=O.target;if(!(e.pagination&&e.pagination.el&&(Y===e.pagination.el||e.pagination.el.contains(O.target))&&!O.target.matches(St(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const re=oe(e.navigation.prevEl);oe(e.navigation.nextEl).includes(Y)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?c(N.lastSlideMessage):c(N.nextSlideMessage)),re.includes(Y)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?c(N.firstSlideMessage):c(N.prevSlideMessage))}e.pagination&&Y.matches(St(e.params.pagination.bulletClass))&&Y.click()}}function V(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:O,prevEl:N}=e.navigation;N&&(e.isBeginning?(A(N),f(N)):(T(N),h(N))),O&&(e.isEnd?(A(O),f(O)):(T(O),h(O)))}function z(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function x(){return z()&&e.params.pagination.clickable}function w(){const O=e.params.a11y;z()&&e.pagination.bullets.forEach(N=>{e.params.pagination.clickable&&(h(N),e.params.pagination.renderBullet||(p(N,"button"),_(N,O.paginationBulletMessage.replace(/\{\{index\}\}/,un(N)+1)))),N.matches(St(e.params.pagination.bulletActiveClass))?N.setAttribute("aria-current","true"):N.removeAttribute("aria-current")})}const g=(O,N,Y)=>{h(O),O.tagName!=="BUTTON"&&(p(O,"button"),O.addEventListener("keydown",D)),_(O,Y),E(O,N)},S=O=>{a&&a!==O.target&&!a.contains(O.target)&&(i=!0),e.a11y.clicked=!0},C=()=>{i=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},P=O=>{l=new Date().getTime()},v=O=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-l<100)return;const N=O.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!N||!e.slides.includes(N))return;a=N;const Y=e.slides.indexOf(N)===e.activeIndex,re=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(N);Y||re||O.sourceCapabilities&&O.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{i||(e.params.loop?e.slideToLoop(parseInt(N.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(N),0),i=!1)}))},k=()=>{const O=e.params.a11y;O.itemRoleDescriptionMessage&&y(e.slides,O.itemRoleDescriptionMessage),O.slideRole&&p(e.slides,O.slideRole);const N=e.slides.length;O.slideLabelMessage&&e.slides.forEach((Y,re)=>{const G=e.params.loop?parseInt(Y.getAttribute("data-swiper-slide-index"),10):re,U=O.slideLabelMessage.replace(/\{\{index\}\}/,G+1).replace(/\{\{slidesLength\}\}/,N);_(Y,U)})},B=()=>{const O=e.params.a11y;e.el.append(s);const N=e.el;O.containerRoleDescriptionMessage&&y(N,O.containerRoleDescriptionMessage),O.containerMessage&&_(N,O.containerMessage),O.containerRole&&p(N,O.containerRole);const Y=e.wrapperEl,re=O.id||Y.getAttribute("id")||`swiper-wrapper-${d(16)}`,G=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";I(Y,re),R(Y,G),k();let{nextEl:U,prevEl:q}=e.navigation?e.navigation:{};U=oe(U),q=oe(q),U&&U.forEach(J=>g(J,re,O.nextSlideMessage)),q&&q.forEach(J=>g(J,re,O.prevSlideMessage)),x()&&oe(e.pagination.el).forEach(ae=>{ae.addEventListener("keydown",D)}),Fe().addEventListener("visibilitychange",P),e.el.addEventListener("focus",v,!0),e.el.addEventListener("focus",v,!0),e.el.addEventListener("pointerdown",S,!0),e.el.addEventListener("pointerup",C,!0)};function X(){s&&s.remove();let{nextEl:O,prevEl:N}=e.navigation?e.navigation:{};O=oe(O),N=oe(N),O&&O.forEach(re=>re.removeEventListener("keydown",D)),N&&N.forEach(re=>re.removeEventListener("keydown",D)),x()&&oe(e.pagination.el).forEach(G=>{G.removeEventListener("keydown",D)}),Fe().removeEventListener("visibilitychange",P),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",v,!0),e.el.removeEventListener("pointerdown",S,!0),e.el.removeEventListener("pointerup",C,!0))}n("beforeInit",()=>{s=Ze("span",e.params.a11y.notificationClass),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true")}),n("afterInit",()=>{e.params.a11y.enabled&&B()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&k()}),n("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&V()}),n("paginationUpdate",()=>{e.params.a11y.enabled&&w()}),n("destroy",()=>{e.params.a11y.enabled&&X()})}function $d(r){let{swiper:e,extendParams:t,on:n}=r;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let s=!1,i={};const a=y=>y.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),l=y=>{const E=Te();let _;y?_=new URL(y):_=E.location;const I=_.pathname.slice(1).split("/").filter(D=>D!==""),R=I.length,A=I[R-2],T=I[R-1];return{key:A,value:T}},c=(y,E)=>{const _=Te();if(!s||!e.params.history.enabled)return;let I;e.params.url?I=new URL(e.params.url):I=_.location;const R=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${E}"]`):e.slides[E];let A=a(R.getAttribute("data-history"));if(e.params.history.root.length>0){let D=e.params.history.root;D[D.length-1]==="/"&&(D=D.slice(0,D.length-1)),A=`${D}/${y?`${y}/`:""}${A}`}else I.pathname.includes(y)||(A=`${y?`${y}/`:""}${A}`);e.params.history.keepQuery&&(A+=I.search);const T=_.history.state;T&&T.value===A||(e.params.history.replaceState?_.history.replaceState({value:A},null,A):_.history.pushState({value:A},null,A))},d=(y,E,_)=>{if(E)for(let I=0,R=e.slides.length;I<R;I+=1){const A=e.slides[I];if(a(A.getAttribute("data-history"))===E){const D=e.getSlideIndex(A);e.slideTo(D,y,_)}}else e.slideTo(0,y,_)},h=()=>{i=l(e.params.url),d(e.params.speed,i.value,!1)},f=()=>{const y=Te();if(e.params.history){if(!y.history||!y.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(s=!0,i=l(e.params.url),!i.key&&!i.value){e.params.history.replaceState||y.addEventListener("popstate",h);return}d(0,i.value,e.params.runCallbacksOnInit),e.params.history.replaceState||y.addEventListener("popstate",h)}},p=()=>{const y=Te();e.params.history.replaceState||y.removeEventListener("popstate",h)};n("init",()=>{e.params.history.enabled&&f()}),n("destroy",()=>{e.params.history.enabled&&p()}),n("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c(e.params.history.key,e.activeIndex)}),n("slideChange",()=>{s&&e.params.cssMode&&c(e.params.history.key,e.activeIndex)})}function Gd(r){let{swiper:e,extendParams:t,emit:n,on:s}=r,i=!1;const a=Fe(),l=Te();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(p,y){if(e.virtual&&e.params.virtual.enabled){const E=e.slides.filter(I=>I.getAttribute("data-hash")===y)[0];return E?parseInt(E.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(Ne(e.slidesEl,`.${e.params.slideClass}[data-hash="${y}"], swiper-slide[data-hash="${y}"]`)[0])}}});const c=()=>{n("hashChange");const p=a.location.hash.replace("#",""),y=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],E=y?y.getAttribute("data-hash"):"";if(p!==E){const _=e.params.hashNavigation.getSlideIndex(e,p);if(typeof _>"u"||Number.isNaN(_))return;e.slideTo(_)}},d=()=>{if(!i||!e.params.hashNavigation.enabled)return;const p=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],y=p?p.getAttribute("data-hash")||p.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&l.history&&l.history.replaceState?(l.history.replaceState(null,null,`#${y}`||""),n("hashSet")):(a.location.hash=y||"",n("hashSet"))},h=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;i=!0;const p=a.location.hash.replace("#","");if(p){const E=e.params.hashNavigation.getSlideIndex(e,p);e.slideTo(E||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&l.addEventListener("hashchange",c)},f=()=>{e.params.hashNavigation.watchState&&l.removeEventListener("hashchange",c)};s("init",()=>{e.params.hashNavigation.enabled&&h()}),s("destroy",()=>{e.params.hashNavigation.enabled&&f()}),s("transitionEnd _freeModeNoMomentumRelease",()=>{i&&d()}),s("slideChange",()=>{i&&e.params.cssMode&&d()})}function Ud(r){let{swiper:e,extendParams:t,on:n,emit:s,params:i}=r;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,c=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,h,f=new Date().getTime(),p,y,E,_,I,R,A;function T(N){!e||e.destroyed||!e.wrapperEl||N.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",T),!(A||N.detail&&N.detail.bySwiperTouchMove)&&S())}const D=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(d=h,p=!1);const N=e.autoplay.paused?h:f+d-new Date().getTime();e.autoplay.timeLeft=N,s("autoplayTimeLeft",N,N/c),l=requestAnimationFrame(()=>{D()})},V=()=>{let N;return e.virtual&&e.params.virtual.enabled?N=e.slides.filter(re=>re.classList.contains("swiper-slide-active"))[0]:N=e.slides[e.activeIndex],N?parseInt(N.getAttribute("data-swiper-autoplay"),10):void 0},z=N=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),D();let Y=typeof N>"u"?e.params.autoplay.delay:N;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const re=V();!Number.isNaN(re)&&re>0&&typeof N>"u"&&(Y=re,c=re,d=re),h=Y;const G=e.params.speed,U=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(G,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,G,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(G,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,G,!0,!0),s("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{z()})))};return Y>0?(clearTimeout(a),a=setTimeout(()=>{U()},Y)):requestAnimationFrame(()=>{U()}),Y},x=()=>{f=new Date().getTime(),e.autoplay.running=!0,z(),s("autoplayStart")},w=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),s("autoplayStop")},g=(N,Y)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),N||(R=!0);const re=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",T):S()};if(e.autoplay.paused=!0,Y){I&&(h=e.params.autoplay.delay),I=!1,re();return}h=(h||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&h<0&&!e.params.loop)&&(h<0&&(h=0),re())},S=()=>{e.isEnd&&h<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),R?(R=!1,z(h)):z(),e.autoplay.paused=!1,s("autoplayResume"))},C=()=>{if(e.destroyed||!e.autoplay.running)return;const N=Fe();N.visibilityState==="hidden"&&(R=!0,g(!0)),N.visibilityState==="visible"&&S()},P=N=>{N.pointerType==="mouse"&&(R=!0,A=!0,!(e.animating||e.autoplay.paused)&&g(!0))},v=N=>{N.pointerType==="mouse"&&(A=!1,e.autoplay.paused&&S())},k=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",P),e.el.addEventListener("pointerleave",v))},B=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",P),e.el.removeEventListener("pointerleave",v))},X=()=>{Fe().addEventListener("visibilitychange",C)},O=()=>{Fe().removeEventListener("visibilitychange",C)};n("init",()=>{e.params.autoplay.enabled&&(k(),X(),x())}),n("destroy",()=>{B(),O(),e.autoplay.running&&w()}),n("_freeModeStaticRelease",()=>{(E||R)&&S()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?w():g(!0,!0)}),n("beforeTransitionStart",(N,Y,re)=>{e.destroyed||!e.autoplay.running||(re||!e.params.autoplay.disableOnInteraction?g(!0,!0):w())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){w();return}y=!0,E=!1,R=!1,_=setTimeout(()=>{R=!0,E=!0,g(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!y)){if(clearTimeout(_),clearTimeout(a),e.params.autoplay.disableOnInteraction){E=!1,y=!1;return}E&&e.params.cssMode&&S(),E=!1,y=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(I=!0)}),Object.assign(e.autoplay,{start:x,stop:w,pause:g,resume:S})}function qd(r){let{swiper:e,extendParams:t,on:n}=r;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,i=!1;e.thumbs={swiper:null};function a(){const d=e.thumbs.swiper;if(!d||d.destroyed)return;const h=d.clickedIndex,f=d.clickedSlide;if(f&&f.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof h>"u"||h===null)return;let p;d.params.loop?p=parseInt(d.clickedSlide.getAttribute("data-swiper-slide-index"),10):p=h,e.params.loop?e.slideToLoop(p):e.slideTo(p)}function l(){const{thumbs:d}=e.params;if(s)return!1;s=!0;const h=e.constructor;if(d.swiper instanceof h)e.thumbs.swiper=d.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(Jr(d.swiper)){const f=Object.assign({},d.swiper);Object.assign(f,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new h(f),i=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",a),!0}function c(d){const h=e.thumbs.swiper;if(!h||h.destroyed)return;const f=h.params.slidesPerView==="auto"?h.slidesPerViewDynamic():h.params.slidesPerView;let p=1;const y=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(p=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(p=1),p=Math.floor(p),h.slides.forEach(I=>I.classList.remove(y)),h.params.loop||h.params.virtual&&h.params.virtual.enabled)for(let I=0;I<p;I+=1)Ne(h.slidesEl,`[data-swiper-slide-index="${e.realIndex+I}"]`).forEach(R=>{R.classList.add(y)});else for(let I=0;I<p;I+=1)h.slides[e.realIndex+I]&&h.slides[e.realIndex+I].classList.add(y);const E=e.params.thumbs.autoScrollOffset,_=E&&!h.params.loop;if(e.realIndex!==h.realIndex||_){const I=h.activeIndex;let R,A;if(h.params.loop){const T=h.slides.filter(D=>D.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];R=h.slides.indexOf(T),A=e.activeIndex>e.previousIndex?"next":"prev"}else R=e.realIndex,A=R>e.previousIndex?"next":"prev";_&&(R+=A==="next"?E:-1*E),h.visibleSlidesIndexes&&h.visibleSlidesIndexes.indexOf(R)<0&&(h.params.centeredSlides?R>I?R=R-Math.floor(f/2)+1:R=R+Math.floor(f/2)-1:R>I&&h.params.slidesPerGroup,h.slideTo(R,d?0:void 0))}}n("beforeInit",()=>{const{thumbs:d}=e.params;if(!(!d||!d.swiper))if(typeof d.swiper=="string"||d.swiper instanceof HTMLElement){const h=Fe(),f=()=>{const y=typeof d.swiper=="string"?h.querySelector(d.swiper):d.swiper;if(y&&y.swiper)d.swiper=y.swiper,l(),c(!0);else if(y){const E=`${e.params.eventsPrefix}init`,_=I=>{d.swiper=I.detail[0],y.removeEventListener(E,_),l(),c(!0),d.swiper.update(),e.update()};y.addEventListener(E,_)}return y},p=()=>{if(e.destroyed)return;f()||requestAnimationFrame(p)};requestAnimationFrame(p)}else l(),c(!0)}),n("slideChange update resize observerUpdate",()=>{c()}),n("setTransition",(d,h)=>{const f=e.thumbs.swiper;!f||f.destroyed||f.setTransition(h)}),n("beforeDestroy",()=>{const d=e.thumbs.swiper;!d||d.destroyed||i&&d.destroy()}),Object.assign(e.thumbs,{init:l,update:c})}function jd(r){let{swiper:e,extendParams:t,emit:n,once:s}=r;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function i(){if(e.params.cssMode)return;const c=e.getTranslate();e.setTranslate(c),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function a(){if(e.params.cssMode)return;const{touchEventsData:c,touches:d}=e;c.velocities.length===0&&c.velocities.push({position:d[e.isHorizontal()?"startX":"startY"],time:c.touchStartTime}),c.velocities.push({position:d[e.isHorizontal()?"currentX":"currentY"],time:rt()})}function l(c){let{currentPos:d}=c;if(e.params.cssMode)return;const{params:h,wrapperEl:f,rtlTranslate:p,snapGrid:y,touchEventsData:E}=e,I=rt()-E.touchStartTime;if(d<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(d>-e.maxTranslate()){e.slides.length<y.length?e.slideTo(y.length-1):e.slideTo(e.slides.length-1);return}if(h.freeMode.momentum){if(E.velocities.length>1){const w=E.velocities.pop(),g=E.velocities.pop(),S=w.position-g.position,C=w.time-g.time;e.velocity=S/C,e.velocity/=2,Math.abs(e.velocity)<h.freeMode.minimumVelocity&&(e.velocity=0),(C>150||rt()-w.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=h.freeMode.momentumVelocityRatio,E.velocities.length=0;let R=1e3*h.freeMode.momentumRatio;const A=e.velocity*R;let T=e.translate+A;p&&(T=-T);let D=!1,V;const z=Math.abs(e.velocity)*20*h.freeMode.momentumBounceRatio;let x;if(T<e.maxTranslate())h.freeMode.momentumBounce?(T+e.maxTranslate()<-z&&(T=e.maxTranslate()-z),V=e.maxTranslate(),D=!0,E.allowMomentumBounce=!0):T=e.maxTranslate(),h.loop&&h.centeredSlides&&(x=!0);else if(T>e.minTranslate())h.freeMode.momentumBounce?(T-e.minTranslate()>z&&(T=e.minTranslate()+z),V=e.minTranslate(),D=!0,E.allowMomentumBounce=!0):T=e.minTranslate(),h.loop&&h.centeredSlides&&(x=!0);else if(h.freeMode.sticky){let w;for(let g=0;g<y.length;g+=1)if(y[g]>-T){w=g;break}Math.abs(y[w]-T)<Math.abs(y[w-1]-T)||e.swipeDirection==="next"?T=y[w]:T=y[w-1],T=-T}if(x&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(p?R=Math.abs((-T-e.translate)/e.velocity):R=Math.abs((T-e.translate)/e.velocity),h.freeMode.sticky){const w=Math.abs((p?-T:T)-e.translate),g=e.slidesSizesGrid[e.activeIndex];w<g?R=h.speed:w<2*g?R=h.speed*1.5:R=h.speed*2.5}}else if(h.freeMode.sticky){e.slideToClosest();return}h.freeMode.momentumBounce&&D?(e.updateProgress(V),e.setTransition(R),e.setTranslate(T),e.transitionStart(!0,e.swipeDirection),e.animating=!0,nn(f,()=>{!e||e.destroyed||!E.allowMomentumBounce||(n("momentumBounce"),e.setTransition(h.speed),setTimeout(()=>{e.setTranslate(V),nn(f,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(n("_freeModeNoMomentumRelease"),e.updateProgress(T),e.setTransition(R),e.setTranslate(T),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,nn(f,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(T),e.updateActiveIndex(),e.updateSlidesClasses()}else if(h.freeMode.sticky){e.slideToClosest();return}else h.freeMode&&n("_freeModeNoMomentumRelease");(!h.freeMode.momentum||I>=h.longSwipesMs)&&(n("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:i,onTouchMove:a,onTouchEnd:l}})}function Hd(r){let{swiper:e,extendParams:t,on:n}=r;t({grid:{rows:1,fill:"column"}});let s,i,a,l;const c=()=>{let _=e.params.spaceBetween;return typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*e.size:typeof _=="string"&&(_=parseFloat(_)),_},d=_=>{const{slidesPerView:I}=e.params,{rows:R,fill:A}=e.params.grid,T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:_.length;a=Math.floor(T/R),Math.floor(T/R)===T/R?s=T:s=Math.ceil(T/R)*R,I!=="auto"&&A==="row"&&(s=Math.max(s,I*R)),i=s/R},h=()=>{e.slides&&e.slides.forEach(_=>{_.swiperSlideGridSet&&(_.style.height="",_.style[e.getDirectionLabel("margin-top")]="")})},f=(_,I,R)=>{const{slidesPerGroup:A}=e.params,T=c(),{rows:D,fill:V}=e.params.grid,z=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:R.length;let x,w,g;if(V==="row"&&A>1){const S=Math.floor(_/(A*D)),C=_-D*A*S,P=S===0?A:Math.min(Math.ceil((z-S*D*A)/D),A);g=Math.floor(C/P),w=C-g*P+S*A,x=w+g*s/D,I.style.order=x}else V==="column"?(w=Math.floor(_/D),g=_-w*D,(w>a||w===a&&g===D-1)&&(g+=1,g>=D&&(g=0,w+=1))):(g=Math.floor(_/i),w=_-g*i);I.row=g,I.column=w,I.style.height=`calc((100% - ${(D-1)*T}px) / ${D})`,I.style[e.getDirectionLabel("margin-top")]=g!==0?T&&`${T}px`:"",I.swiperSlideGridSet=!0},p=(_,I)=>{const{centeredSlides:R,roundLengths:A}=e.params,T=c(),{rows:D}=e.params.grid;if(e.virtualSize=(_+T)*s,e.virtualSize=Math.ceil(e.virtualSize/D)-T,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+T}px`),R){const V=[];for(let z=0;z<I.length;z+=1){let x=I[z];A&&(x=Math.floor(x)),I[z]<e.virtualSize+I[0]&&V.push(x)}I.splice(0,I.length),I.push(...V)}},y=()=>{l=e.params.grid&&e.params.grid.rows>1},E=()=>{const{params:_,el:I}=e,R=_.grid&&_.grid.rows>1;l&&!R?(I.classList.remove(`${_.containerModifierClass}grid`,`${_.containerModifierClass}grid-column`),a=1,e.emitContainerClasses()):!l&&R&&(I.classList.add(`${_.containerModifierClass}grid`),_.grid.fill==="column"&&I.classList.add(`${_.containerModifierClass}grid-column`),e.emitContainerClasses()),l=R};n("init",y),n("update",E),e.grid={initSlides:d,unsetSlides:h,updateSlide:f,updateWrapperSize:p}}function Wd(r){const e=this,{params:t,slidesEl:n}=e;t.loop&&e.loopDestroy();const s=i=>{if(typeof i=="string"){const a=document.createElement("div");a.innerHTML=i,n.append(a.children[0]),a.innerHTML=""}else n.append(i)};if(typeof r=="object"&&"length"in r)for(let i=0;i<r.length;i+=1)r[i]&&s(r[i]);else s(r);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function Yd(r){const e=this,{params:t,activeIndex:n,slidesEl:s}=e;t.loop&&e.loopDestroy();let i=n+1;const a=l=>{if(typeof l=="string"){const c=document.createElement("div");c.innerHTML=l,s.prepend(c.children[0]),c.innerHTML=""}else s.prepend(l)};if(typeof r=="object"&&"length"in r){for(let l=0;l<r.length;l+=1)r[l]&&a(r[l]);i=n+r.length}else a(r);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(i,0,!1)}function Xd(r,e){const t=this,{params:n,activeIndex:s,slidesEl:i}=t;let a=s;n.loop&&(a-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());const l=t.slides.length;if(r<=0){t.prependSlide(e);return}if(r>=l){t.appendSlide(e);return}let c=a>r?a+1:a;const d=[];for(let h=l-1;h>=r;h-=1){const f=t.slides[h];f.remove(),d.unshift(f)}if(typeof e=="object"&&"length"in e){for(let h=0;h<e.length;h+=1)e[h]&&i.append(e[h]);c=a>r?a+e.length:a}else i.append(e);for(let h=0;h<d.length;h+=1)i.append(d[h]);t.recalcSlides(),n.loop&&t.loopCreate(),(!n.observer||t.isElement)&&t.update(),n.loop?t.slideTo(c+t.loopedSlides,0,!1):t.slideTo(c,0,!1)}function Kd(r){const e=this,{params:t,activeIndex:n}=e;let s=n;t.loop&&(s-=e.loopedSlides,e.loopDestroy());let i=s,a;if(typeof r=="object"&&"length"in r){for(let l=0;l<r.length;l+=1)a=r[l],e.slides[a]&&e.slides[a].remove(),a<i&&(i-=1);i=Math.max(i,0)}else a=r,e.slides[a]&&e.slides[a].remove(),a<i&&(i-=1),i=Math.max(i,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),t.loop?e.slideTo(i+e.loopedSlides,0,!1):e.slideTo(i,0,!1)}function Qd(){const r=this,e=[];for(let t=0;t<r.slides.length;t+=1)e.push(t);r.removeSlide(e)}function Jd(r){let{swiper:e}=r;Object.assign(e,{appendSlide:Wd.bind(e),prependSlide:Yd.bind(e),addSlide:Xd.bind(e),removeSlide:Kd.bind(e),removeAllSlides:Qd.bind(e)})}function kr(r){const{effect:e,swiper:t,on:n,setTranslate:s,setTransition:i,overwriteParams:a,perspective:l,recreateShadows:c,getEffectParams:d}=r;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),l&&l()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const f=a?a():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),n("setTranslate",()=>{t.params.effect===e&&s()}),n("setTransition",(f,p)=>{t.params.effect===e&&i(p)}),n("transitionEnd",()=>{if(t.params.effect===e&&c){if(!d||!d().slideShadows)return;t.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),c()}});let h;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(h=!0),requestAnimationFrame(()=>{h&&t.slides&&t.slides.length&&(s(),h=!1)}))})}function yn(r,e){const t=cr(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function ps(r){let{swiper:e,duration:t,transformElements:n,allSlides:s}=r;const{activeIndex:i}=e,a=l=>l.parentElement?l.parentElement:e.slides.filter(d=>d.shadowRoot&&d.shadowRoot===l.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let l=!1,c;s?c=n:c=n.filter(d=>{const h=d.classList.contains("swiper-slide-transform")?a(d):d;return e.getSlideIndex(h)===i}),c.forEach(d=>{nn(d,()=>{if(l||!e||e.destroyed)return;l=!0,e.animating=!1;const h=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(h)})})}}function Zd(r){let{swiper:e,extendParams:t,on:n}=r;t({fadeEffect:{crossFade:!1}}),kr({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:a}=e,l=e.params.fadeEffect;for(let c=0;c<a.length;c+=1){const d=e.slides[c];let f=-d.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let p=0;e.isHorizontal()||(p=f,f=0);const y=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(d.progress),0):1+Math.min(Math.max(d.progress,-1),0),E=yn(l,d);E.style.opacity=y,E.style.transform=`translate3d(${f}px, ${p}px, 0px)`}},setTransition:a=>{const l=e.slides.map(c=>cr(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`}),ps({swiper:e,duration:a,transformElements:l,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function eh(r){let{swiper:e,extendParams:t,on:n}=r;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const s=(c,d,h)=>{let f=h?c.querySelector(".swiper-slide-shadow-left"):c.querySelector(".swiper-slide-shadow-top"),p=h?c.querySelector(".swiper-slide-shadow-right"):c.querySelector(".swiper-slide-shadow-bottom");f||(f=Ze("div",`swiper-slide-shadow-cube swiper-slide-shadow-${h?"left":"top"}`.split(" ")),c.append(f)),p||(p=Ze("div",`swiper-slide-shadow-cube swiper-slide-shadow-${h?"right":"bottom"}`.split(" ")),c.append(p)),f&&(f.style.opacity=Math.max(-d,0)),p&&(p.style.opacity=Math.max(d,0))};kr({effect:"cube",swiper:e,on:n,setTranslate:()=>{const{el:c,wrapperEl:d,slides:h,width:f,height:p,rtlTranslate:y,size:E,browser:_}=e,I=fs(e),R=e.params.cubeEffect,A=e.isHorizontal(),T=e.virtual&&e.params.virtual.enabled;let D=0,V;R.shadow&&(A?(V=e.wrapperEl.querySelector(".swiper-cube-shadow"),V||(V=Ze("div","swiper-cube-shadow"),e.wrapperEl.append(V)),V.style.height=`${f}px`):(V=c.querySelector(".swiper-cube-shadow"),V||(V=Ze("div","swiper-cube-shadow"),c.append(V))));for(let x=0;x<h.length;x+=1){const w=h[x];let g=x;T&&(g=parseInt(w.getAttribute("data-swiper-slide-index"),10));let S=g*90,C=Math.floor(S/360);y&&(S=-S,C=Math.floor(-S/360));const P=Math.max(Math.min(w.progress,1),-1);let v=0,k=0,B=0;g%4===0?(v=-C*4*E,B=0):(g-1)%4===0?(v=0,B=-C*4*E):(g-2)%4===0?(v=E+C*4*E,B=E):(g-3)%4===0&&(v=-E,B=3*E+E*4*C),y&&(v=-v),A||(k=v,v=0);const X=`rotateX(${I(A?0:-S)}deg) rotateY(${I(A?S:0)}deg) translate3d(${v}px, ${k}px, ${B}px)`;P<=1&&P>-1&&(D=g*90+P*90,y&&(D=-g*90-P*90)),w.style.transform=X,R.slideShadows&&s(w,P,A)}if(d.style.transformOrigin=`50% 50% -${E/2}px`,d.style["-webkit-transform-origin"]=`50% 50% -${E/2}px`,R.shadow)if(A)V.style.transform=`translate3d(0px, ${f/2+R.shadowOffset}px, ${-f/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${R.shadowScale})`;else{const x=Math.abs(D)-Math.floor(Math.abs(D)/90)*90,w=1.5-(Math.sin(x*2*Math.PI/360)/2+Math.cos(x*2*Math.PI/360)/2),g=R.shadowScale,S=R.shadowScale/w,C=R.shadowOffset;V.style.transform=`scale3d(${g}, 1, ${S}) translate3d(0px, ${p/2+C}px, ${-p/2/S}px) rotateX(-89.99deg)`}const z=(_.isSafari||_.isWebView)&&_.needPerspectiveFix?-E/2:0;d.style.transform=`translate3d(0px,0,${z}px) rotateX(${I(e.isHorizontal()?0:D)}deg) rotateY(${I(e.isHorizontal()?-D:0)}deg)`,d.style.setProperty("--swiper-cube-translate-z",`${z}px`)},setTransition:c=>{const{el:d,slides:h}=e;if(h.forEach(f=>{f.style.transitionDuration=`${c}ms`,f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>{p.style.transitionDuration=`${c}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const f=d.querySelector(".swiper-cube-shadow");f&&(f.style.transitionDuration=`${c}ms`)}},recreateShadows:()=>{const c=e.isHorizontal();e.slides.forEach(d=>{const h=Math.max(Math.min(d.progress,1),-1);s(d,h,c)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function Cr(r,e,t){const n=`swiper-slide-shadow${t?`-${t}`:""}${r?` swiper-slide-shadow-${r}`:""}`,s=cr(e);let i=s.querySelector(`.${n.split(" ").join(".")}`);return i||(i=Ze("div",n.split(" ")),s.append(i)),i}function th(r){let{swiper:e,extendParams:t,on:n}=r;t({flipEffect:{slideShadows:!0,limitRotation:!0}});const s=(c,d)=>{let h=e.isHorizontal()?c.querySelector(".swiper-slide-shadow-left"):c.querySelector(".swiper-slide-shadow-top"),f=e.isHorizontal()?c.querySelector(".swiper-slide-shadow-right"):c.querySelector(".swiper-slide-shadow-bottom");h||(h=Cr("flip",c,e.isHorizontal()?"left":"top")),f||(f=Cr("flip",c,e.isHorizontal()?"right":"bottom")),h&&(h.style.opacity=Math.max(-d,0)),f&&(f.style.opacity=Math.max(d,0))};kr({effect:"flip",swiper:e,on:n,setTranslate:()=>{const{slides:c,rtlTranslate:d}=e,h=e.params.flipEffect,f=fs(e);for(let p=0;p<c.length;p+=1){const y=c[p];let E=y.progress;e.params.flipEffect.limitRotation&&(E=Math.max(Math.min(y.progress,1),-1));const _=y.swiperSlideOffset;let R=-180*E,A=0,T=e.params.cssMode?-_-e.translate:-_,D=0;e.isHorizontal()?d&&(R=-R):(D=T,T=0,A=-R,R=0),y.style.zIndex=-Math.abs(Math.round(E))+c.length,h.slideShadows&&s(y,E);const V=`translate3d(${T}px, ${D}px, 0px) rotateX(${f(A)}deg) rotateY(${f(R)}deg)`,z=yn(h,y);z.style.transform=V}},setTransition:c=>{const d=e.slides.map(h=>cr(h));d.forEach(h=>{h.style.transitionDuration=`${c}ms`,h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${c}ms`})}),ps({swiper:e,duration:c,transformElements:d})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(c=>{let d=c.progress;e.params.flipEffect.limitRotation&&(d=Math.max(Math.min(c.progress,1),-1)),s(c,d)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function rh(r){let{swiper:e,extendParams:t,on:n}=r;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),kr({effect:"coverflow",swiper:e,on:n,setTranslate:()=>{const{width:a,height:l,slides:c,slidesSizesGrid:d}=e,h=e.params.coverflowEffect,f=e.isHorizontal(),p=e.translate,y=f?-p+a/2:-p+l/2,E=f?h.rotate:-h.rotate,_=h.depth,I=fs(e);for(let R=0,A=c.length;R<A;R+=1){const T=c[R],D=d[R],V=T.swiperSlideOffset,z=(y-V-D/2)/D,x=typeof h.modifier=="function"?h.modifier(z):z*h.modifier;let w=f?E*x:0,g=f?0:E*x,S=-_*Math.abs(x),C=h.stretch;typeof C=="string"&&C.indexOf("%")!==-1&&(C=parseFloat(h.stretch)/100*D);let P=f?0:C*x,v=f?C*x:0,k=1-(1-h.scale)*Math.abs(x);Math.abs(v)<.001&&(v=0),Math.abs(P)<.001&&(P=0),Math.abs(S)<.001&&(S=0),Math.abs(w)<.001&&(w=0),Math.abs(g)<.001&&(g=0),Math.abs(k)<.001&&(k=0);const B=`translate3d(${v}px,${P}px,${S}px)  rotateX(${I(g)}deg) rotateY(${I(w)}deg) scale(${k})`,X=yn(h,T);if(X.style.transform=B,T.style.zIndex=-Math.abs(Math.round(x))+1,h.slideShadows){let O=f?T.querySelector(".swiper-slide-shadow-left"):T.querySelector(".swiper-slide-shadow-top"),N=f?T.querySelector(".swiper-slide-shadow-right"):T.querySelector(".swiper-slide-shadow-bottom");O||(O=Cr("coverflow",T,f?"left":"top")),N||(N=Cr("coverflow",T,f?"right":"bottom")),O&&(O.style.opacity=x>0?x:0),N&&(N.style.opacity=-x>0?-x:0)}}},setTransition:a=>{e.slides.map(c=>cr(c)).forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${a}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function nh(r){let{swiper:e,extendParams:t,on:n}=r;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const s=l=>typeof l=="string"?l:`${l}px`;kr({effect:"creative",swiper:e,on:n,setTranslate:()=>{const{slides:l,wrapperEl:c,slidesSizesGrid:d}=e,h=e.params.creativeEffect,{progressMultiplier:f}=h,p=e.params.centeredSlides,y=fs(e);if(p){const E=d[0]/2-e.params.slidesOffsetBefore||0;c.style.transform=`translateX(calc(50% - ${E}px))`}for(let E=0;E<l.length;E+=1){const _=l[E],I=_.progress,R=Math.min(Math.max(_.progress,-h.limitProgress),h.limitProgress);let A=R;p||(A=Math.min(Math.max(_.originalProgress,-h.limitProgress),h.limitProgress));const T=_.swiperSlideOffset,D=[e.params.cssMode?-T-e.translate:-T,0,0],V=[0,0,0];let z=!1;e.isHorizontal()||(D[1]=D[0],D[0]=0);let x={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};R<0?(x=h.next,z=!0):R>0&&(x=h.prev,z=!0),D.forEach((k,B)=>{D[B]=`calc(${k}px + (${s(x.translate[B])} * ${Math.abs(R*f)}))`}),V.forEach((k,B)=>{let X=x.rotate[B]*Math.abs(R*f);V[B]=X}),_.style.zIndex=-Math.abs(Math.round(I))+l.length;const w=D.join(", "),g=`rotateX(${y(V[0])}deg) rotateY(${y(V[1])}deg) rotateZ(${y(V[2])}deg)`,S=A<0?`scale(${1+(1-x.scale)*A*f})`:`scale(${1-(1-x.scale)*A*f})`,C=A<0?1+(1-x.opacity)*A*f:1-(1-x.opacity)*A*f,P=`translate3d(${w}) ${g} ${S}`;if(z&&x.shadow||!z){let k=_.querySelector(".swiper-slide-shadow");if(!k&&x.shadow&&(k=Cr("creative",_)),k){const B=h.shadowPerProgress?R*(1/h.limitProgress):R;k.style.opacity=Math.min(Math.max(Math.abs(B),0),1)}}const v=yn(h,_);v.style.transform=P,v.style.opacity=C,x.origin&&(v.style.transformOrigin=x.origin)}},setTransition:l=>{const c=e.slides.map(d=>cr(d));c.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow").forEach(h=>{h.style.transitionDuration=`${l}ms`})}),ps({swiper:e,duration:l,transformElements:c,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function sh(r){let{swiper:e,extendParams:t,on:n}=r;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),kr({effect:"cards",swiper:e,on:n,setTranslate:()=>{const{slides:a,activeIndex:l,rtlTranslate:c}=e,d=e.params.cardsEffect,{startTranslate:h,isTouched:f}=e.touchEventsData,p=c?-e.translate:e.translate;for(let y=0;y<a.length;y+=1){const E=a[y],_=E.progress,I=Math.min(Math.max(_,-4),4);let R=E.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(R-=a[0].swiperSlideOffset);let A=e.params.cssMode?-R-e.translate:-R,T=0;const D=-100*Math.abs(I);let V=1,z=-d.perSlideRotate*I,x=d.perSlideOffset-Math.abs(I)*.75;const w=e.virtual&&e.params.virtual.enabled?e.virtual.from+y:y,g=(w===l||w===l-1)&&I>0&&I<1&&(f||e.params.cssMode)&&p<h,S=(w===l||w===l+1)&&I<0&&I>-1&&(f||e.params.cssMode)&&p>h;if(g||S){const k=(1-Math.abs((Math.abs(I)-.5)/.5))**.5;z+=-28*I*k,V+=-.5*k,x+=96*k,T=`${-25*k*Math.abs(I)}%`}if(I<0?A=`calc(${A}px ${c?"-":"+"} (${x*Math.abs(I)}%))`:I>0?A=`calc(${A}px ${c?"-":"+"} (-${x*Math.abs(I)}%))`:A=`${A}px`,!e.isHorizontal()){const k=T;T=A,A=k}const C=I<0?`${1+(1-V)*I}`:`${1-(1-V)*I}`,P=`
        translate3d(${A}, ${T}, ${D}px)
        rotateZ(${d.rotate?c?-z:z:0}deg)
        scale(${C})
      `;if(d.slideShadows){let k=E.querySelector(".swiper-slide-shadow");k||(k=Cr("cards",E)),k&&(k.style.opacity=Math.min(Math.max((Math.abs(I)-.5)/.5,0),1))}E.style.zIndex=-Math.abs(Math.round(_))+a.length;const v=yn(d,E);v.style.transform=P}},setTransition:a=>{const l=e.slides.map(c=>cr(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${a}ms`})}),ps({swiper:e,duration:a,transformElements:l})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}const ih=[Md,Dd,Vd,Ld,kd,Od,Nd,Fd,zd,Bd,$d,Gd,Ud,qd,jd,Hd,Jd,Zd,eh,th,rh,nh,sh];Xe.use(ih);function na(r,e,t){new Xe(`.${r}`,{slidesPerView:3,spaceBetween:40,loop:!0,navigation:{nextEl:`.${e}`,prevEl:`.${t}`},breakpoints:{320:{slidesPerView:"auto",spaceBetween:10},576:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:3,spaceBetween:40}}})}const oh=()=>{};var sa={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},ah=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[t++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[t++],a=r[t++],l=r[t++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const i=r[t++],a=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},El={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],a=s+1<r.length,l=a?r[s+1]:0,c=s+2<r.length,d=c?r[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,a||(p=64)),n.push(t[h],t[f],t[p],t[y])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wl(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ah(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=t[r.charAt(s++)],l=s<r.length?t[r.charAt(s)]:0;++s;const d=s<r.length?t[r.charAt(s)]:64;++s;const f=s<r.length?t[r.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new lh;const p=i<<2|l>>4;if(n.push(p),d!==64){const y=l<<4&240|d>>2;if(n.push(y),f!==64){const E=d<<6&192|f;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lh extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ch=function(r){const e=wl(r);return El.encodeByteArray(e,!0)},rs=function(r){return ch(r).replace(/\./g,"")},uh=function(r){try{return El.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=()=>dh().__FIREBASE_DEFAULTS__,fh=()=>{if(typeof process>"u"||typeof sa>"u")return;const r=sa.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ph=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uh(r[1]);return e&&JSON.parse(e)},Vi=()=>{try{return oh()||hh()||fh()||ph()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mh=r=>{var e,t;return(t=(e=Vi())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},gh=r=>{const e=mh(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Tl=()=>{var r;return(r=Vi())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vh(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...r};return[rs(JSON.stringify(t)),rs(JSON.stringify(a)),""].join(".")}const sn={};function Eh(){const r={prod:[],emulator:[]};for(const e of Object.keys(sn))sn[e]?r.emulator.push(e):r.prod.push(e);return r}function Th(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ia=!1;function _h(r,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||sn[r]===e||sn[r]||ia)return;sn[r]=e;function t(p){return`__firebase__banner__${p}`}const n="__firebase__banner",i=Eh().prod.length>0;function a(){const p=document.getElementById(n);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{ia=!0,a()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Th(n),y=t("text"),E=document.getElementById(y)||document.createElement("span"),_=t("learnmore"),I=document.getElementById(_)||document.createElement("a"),R=t("preprendIcon"),A=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;l(T),h(I,_);const D=d();c(A,R),T.append(A,E,I,D),document.body.appendChild(T)}i?(E.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bh(){var e;const r=(e=Vi())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ih(){return!bh()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ah(){try{return typeof indexedDB=="object"}catch{return!1}}function Ch(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="FirebaseError";class Or extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Ph,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?xh(i,n):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Or(s,l,n)}}function xh(r,e){return r.replace(Rh,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Rh=/\{\$([^}]+)}/g;function ns(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const i=r[s],a=e[s];if(oa(i)&&oa(a)){if(!ns(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function oa(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(r){return r&&r._delegate?r._delegate:r}class dn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new yh;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lh(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rr){return this.instances.has(e)}getOptions(e=rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&a.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&e(i,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Vh(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=rr){return this.component?this.component.multipleInstances?e:rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vh(r){return r===rr?void 0:r}function Lh(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Dh(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ue||(ue={}));const Oh={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Nh=ue.INFO,Fh={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},zh=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=Fh[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sl{constructor(e){this.name=e,this._logLevel=Nh,this._logHandler=zh,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Oh[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const Bh=(r,e)=>e.some(t=>r instanceof t);let aa,la;function $h(){return aa||(aa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gh(){return la||(la=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bl=new WeakMap,ai=new WeakMap,Il=new WeakMap,Ys=new WeakMap,ki=new WeakMap;function Uh(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",a)},i=()=>{t($t(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&bl.set(t,r)}).catch(()=>{}),ki.set(e,r),e}function qh(r){if(ai.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",a),r.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",a),r.addEventListener("abort",a)});ai.set(r,e)}let li={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ai.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Il.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $t(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jh(r){li=r(li)}function Hh(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Xs(this),e,...t);return Il.set(n,e.sort?e.sort():[e]),$t(n)}:Gh().includes(r)?function(...e){return r.apply(Xs(this),e),$t(bl.get(this))}:function(...e){return $t(r.apply(Xs(this),e))}}function Wh(r){return typeof r=="function"?Hh(r):(r instanceof IDBTransaction&&qh(r),Bh(r,$h())?new Proxy(r,li):r)}function $t(r){if(r instanceof IDBRequest)return Uh(r);if(Ys.has(r))return Ys.get(r);const e=Wh(r);return e!==r&&(Ys.set(r,e),ki.set(e,r)),e}const Xs=r=>ki.get(r);function Yh(r,e,{blocked:t,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(r,e),l=$t(a);return n&&a.addEventListener("upgradeneeded",c=>{n($t(a.result),c.oldVersion,c.newVersion,$t(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Xh=["get","getKey","getAll","getAllKeys","count"],Kh=["put","add","delete","clear"],Ks=new Map;function ca(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ks.get(e))return Ks.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=Kh.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Xh.includes(t)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),s&&c.done]))[0]};return Ks.set(e,i),i}jh(r=>({...r,get:(e,t,n)=>ca(e,t)||r.get(e,t,n),has:(e,t)=>!!ca(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jh(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Jh(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ci="@firebase/app",ua="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt=new Sl("@firebase/app"),Zh="@firebase/app-compat",ef="@firebase/analytics-compat",tf="@firebase/analytics",rf="@firebase/app-check-compat",nf="@firebase/app-check",sf="@firebase/auth",of="@firebase/auth-compat",af="@firebase/database",lf="@firebase/data-connect",cf="@firebase/database-compat",uf="@firebase/functions",df="@firebase/functions-compat",hf="@firebase/installations",ff="@firebase/installations-compat",pf="@firebase/messaging",mf="@firebase/messaging-compat",gf="@firebase/performance",yf="@firebase/performance-compat",vf="@firebase/remote-config",wf="@firebase/remote-config-compat",Ef="@firebase/storage",Tf="@firebase/storage-compat",_f="@firebase/firestore",Sf="@firebase/ai",bf="@firebase/firestore-compat",If="firebase",Af="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]",Cf={[ci]:"fire-core",[Zh]:"fire-core-compat",[tf]:"fire-analytics",[ef]:"fire-analytics-compat",[nf]:"fire-app-check",[rf]:"fire-app-check-compat",[sf]:"fire-auth",[of]:"fire-auth-compat",[af]:"fire-rtdb",[lf]:"fire-data-connect",[cf]:"fire-rtdb-compat",[uf]:"fire-fn",[df]:"fire-fn-compat",[hf]:"fire-iid",[ff]:"fire-iid-compat",[pf]:"fire-fcm",[mf]:"fire-fcm-compat",[gf]:"fire-perf",[yf]:"fire-perf-compat",[vf]:"fire-rc",[wf]:"fire-rc-compat",[Ef]:"fire-gcs",[Tf]:"fire-gcs-compat",[_f]:"fire-fst",[bf]:"fire-fst-compat",[Sf]:"fire-vertex","fire-js":"fire-js",[If]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Map,Pf=new Map,di=new Map;function da(r,e){try{r.container.addComponent(e)}catch(t){bt.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function is(r){const e=r.name;if(di.has(e))return bt.debug(`There were multiple attempts to register component ${e}.`),!1;di.set(e,r);for(const t of ss.values())da(t,r);for(const t of Pf.values())da(t,r);return!0}function xf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Rf(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gt=new _l("app","Firebase",Mf);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=Af;function Al(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:ui,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw Gt.create("bad-app-name",{appName:String(s)});if(t||(t=Tl()),!t)throw Gt.create("no-options");const i=ss.get(s);if(i){if(ns(t,i.options)&&ns(n,i.config))return i;throw Gt.create("duplicate-app",{appName:s})}const a=new kh(s);for(const c of di.values())a.addComponent(c);const l=new Df(t,n,a);return ss.set(s,l),l}function Lf(r=ui){const e=ss.get(r);if(!e&&r===ui&&Tl())return Al();if(!e)throw Gt.create("no-app",{appName:r});return e}function Tr(r,e,t){let n=Cf[r]??r;t&&(n+=`-${t}`);const s=n.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${e}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bt.warn(a.join(" "));return}is(new dn(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="firebase-heartbeat-database",Of=1,hn="firebase-heartbeat-store";let Qs=null;function Cl(){return Qs||(Qs=Yh(kf,Of,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hn)}catch(t){console.warn(t)}}}}).catch(r=>{throw Gt.create("idb-open",{originalErrorMessage:r.message})})),Qs}async function Nf(r){try{const t=(await Cl()).transaction(hn),n=await t.objectStore(hn).get(Pl(r));return await t.done,n}catch(e){if(e instanceof Or)bt.warn(e.message);else{const t=Gt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bt.warn(t.message)}}}async function ha(r,e){try{const n=(await Cl()).transaction(hn,"readwrite");await n.objectStore(hn).put(e,Pl(r)),await n.done}catch(t){if(t instanceof Or)bt.warn(t.message);else{const n=Gt.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bt.warn(n.message)}}}function Pl(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=1024,zf=30;class Bf{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Gf(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fa();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>zf){const a=Uf(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){bt.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fa(),{heartbeatsToSend:n,unsentEntries:s}=$f(this._heartbeatsCache.heartbeats),i=rs(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return bt.warn(t),""}}}function fa(){return new Date().toISOString().substring(0,10)}function $f(r,e=Ff){const t=[];let n=r.slice();for(const s of r){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),pa(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),pa(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Gf{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ah()?Ch().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Nf(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ha(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ha(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function pa(r){return rs(JSON.stringify({version:2,heartbeats:r})).length}function Uf(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(r){is(new dn("platform-logger",e=>new Qh(e),"PRIVATE")),is(new dn("heartbeat",e=>new Bf(e),"PRIVATE")),Tr(ci,ua,r),Tr(ci,ua,"esm2020"),Tr("fire-js","")}qf("");var ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ut,xl;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function g(){}g.prototype=w.prototype,x.D=w.prototype,x.prototype=new g,x.prototype.constructor=x,x.C=function(S,C,P){for(var v=Array(arguments.length-2),k=2;k<arguments.length;k++)v[k-2]=arguments[k];return w.prototype[C].apply(S,v)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,w,g){g||(g=0);var S=Array(16);if(typeof w=="string")for(var C=0;16>C;++C)S[C]=w.charCodeAt(g++)|w.charCodeAt(g++)<<8|w.charCodeAt(g++)<<16|w.charCodeAt(g++)<<24;else for(C=0;16>C;++C)S[C]=w[g++]|w[g++]<<8|w[g++]<<16|w[g++]<<24;w=x.g[0],g=x.g[1],C=x.g[2];var P=x.g[3],v=w+(P^g&(C^P))+S[0]+3614090360&4294967295;w=g+(v<<7&4294967295|v>>>25),v=P+(C^w&(g^C))+S[1]+3905402710&4294967295,P=w+(v<<12&4294967295|v>>>20),v=C+(g^P&(w^g))+S[2]+606105819&4294967295,C=P+(v<<17&4294967295|v>>>15),v=g+(w^C&(P^w))+S[3]+3250441966&4294967295,g=C+(v<<22&4294967295|v>>>10),v=w+(P^g&(C^P))+S[4]+4118548399&4294967295,w=g+(v<<7&4294967295|v>>>25),v=P+(C^w&(g^C))+S[5]+1200080426&4294967295,P=w+(v<<12&4294967295|v>>>20),v=C+(g^P&(w^g))+S[6]+2821735955&4294967295,C=P+(v<<17&4294967295|v>>>15),v=g+(w^C&(P^w))+S[7]+4249261313&4294967295,g=C+(v<<22&4294967295|v>>>10),v=w+(P^g&(C^P))+S[8]+1770035416&4294967295,w=g+(v<<7&4294967295|v>>>25),v=P+(C^w&(g^C))+S[9]+2336552879&4294967295,P=w+(v<<12&4294967295|v>>>20),v=C+(g^P&(w^g))+S[10]+4294925233&4294967295,C=P+(v<<17&4294967295|v>>>15),v=g+(w^C&(P^w))+S[11]+2304563134&4294967295,g=C+(v<<22&4294967295|v>>>10),v=w+(P^g&(C^P))+S[12]+1804603682&4294967295,w=g+(v<<7&4294967295|v>>>25),v=P+(C^w&(g^C))+S[13]+4254626195&4294967295,P=w+(v<<12&4294967295|v>>>20),v=C+(g^P&(w^g))+S[14]+2792965006&4294967295,C=P+(v<<17&4294967295|v>>>15),v=g+(w^C&(P^w))+S[15]+1236535329&4294967295,g=C+(v<<22&4294967295|v>>>10),v=w+(C^P&(g^C))+S[1]+4129170786&4294967295,w=g+(v<<5&4294967295|v>>>27),v=P+(g^C&(w^g))+S[6]+3225465664&4294967295,P=w+(v<<9&4294967295|v>>>23),v=C+(w^g&(P^w))+S[11]+643717713&4294967295,C=P+(v<<14&4294967295|v>>>18),v=g+(P^w&(C^P))+S[0]+3921069994&4294967295,g=C+(v<<20&4294967295|v>>>12),v=w+(C^P&(g^C))+S[5]+3593408605&4294967295,w=g+(v<<5&4294967295|v>>>27),v=P+(g^C&(w^g))+S[10]+38016083&4294967295,P=w+(v<<9&4294967295|v>>>23),v=C+(w^g&(P^w))+S[15]+3634488961&4294967295,C=P+(v<<14&4294967295|v>>>18),v=g+(P^w&(C^P))+S[4]+3889429448&4294967295,g=C+(v<<20&4294967295|v>>>12),v=w+(C^P&(g^C))+S[9]+568446438&4294967295,w=g+(v<<5&4294967295|v>>>27),v=P+(g^C&(w^g))+S[14]+3275163606&4294967295,P=w+(v<<9&4294967295|v>>>23),v=C+(w^g&(P^w))+S[3]+4107603335&4294967295,C=P+(v<<14&4294967295|v>>>18),v=g+(P^w&(C^P))+S[8]+1163531501&4294967295,g=C+(v<<20&4294967295|v>>>12),v=w+(C^P&(g^C))+S[13]+2850285829&4294967295,w=g+(v<<5&4294967295|v>>>27),v=P+(g^C&(w^g))+S[2]+4243563512&4294967295,P=w+(v<<9&4294967295|v>>>23),v=C+(w^g&(P^w))+S[7]+1735328473&4294967295,C=P+(v<<14&4294967295|v>>>18),v=g+(P^w&(C^P))+S[12]+2368359562&4294967295,g=C+(v<<20&4294967295|v>>>12),v=w+(g^C^P)+S[5]+4294588738&4294967295,w=g+(v<<4&4294967295|v>>>28),v=P+(w^g^C)+S[8]+2272392833&4294967295,P=w+(v<<11&4294967295|v>>>21),v=C+(P^w^g)+S[11]+1839030562&4294967295,C=P+(v<<16&4294967295|v>>>16),v=g+(C^P^w)+S[14]+4259657740&4294967295,g=C+(v<<23&4294967295|v>>>9),v=w+(g^C^P)+S[1]+2763975236&4294967295,w=g+(v<<4&4294967295|v>>>28),v=P+(w^g^C)+S[4]+1272893353&4294967295,P=w+(v<<11&4294967295|v>>>21),v=C+(P^w^g)+S[7]+4139469664&4294967295,C=P+(v<<16&4294967295|v>>>16),v=g+(C^P^w)+S[10]+3200236656&4294967295,g=C+(v<<23&4294967295|v>>>9),v=w+(g^C^P)+S[13]+681279174&4294967295,w=g+(v<<4&4294967295|v>>>28),v=P+(w^g^C)+S[0]+3936430074&4294967295,P=w+(v<<11&4294967295|v>>>21),v=C+(P^w^g)+S[3]+3572445317&4294967295,C=P+(v<<16&4294967295|v>>>16),v=g+(C^P^w)+S[6]+76029189&4294967295,g=C+(v<<23&4294967295|v>>>9),v=w+(g^C^P)+S[9]+3654602809&4294967295,w=g+(v<<4&4294967295|v>>>28),v=P+(w^g^C)+S[12]+3873151461&4294967295,P=w+(v<<11&4294967295|v>>>21),v=C+(P^w^g)+S[15]+530742520&4294967295,C=P+(v<<16&4294967295|v>>>16),v=g+(C^P^w)+S[2]+3299628645&4294967295,g=C+(v<<23&4294967295|v>>>9),v=w+(C^(g|~P))+S[0]+4096336452&4294967295,w=g+(v<<6&4294967295|v>>>26),v=P+(g^(w|~C))+S[7]+1126891415&4294967295,P=w+(v<<10&4294967295|v>>>22),v=C+(w^(P|~g))+S[14]+2878612391&4294967295,C=P+(v<<15&4294967295|v>>>17),v=g+(P^(C|~w))+S[5]+4237533241&4294967295,g=C+(v<<21&4294967295|v>>>11),v=w+(C^(g|~P))+S[12]+1700485571&4294967295,w=g+(v<<6&4294967295|v>>>26),v=P+(g^(w|~C))+S[3]+2399980690&4294967295,P=w+(v<<10&4294967295|v>>>22),v=C+(w^(P|~g))+S[10]+4293915773&4294967295,C=P+(v<<15&4294967295|v>>>17),v=g+(P^(C|~w))+S[1]+2240044497&4294967295,g=C+(v<<21&4294967295|v>>>11),v=w+(C^(g|~P))+S[8]+1873313359&4294967295,w=g+(v<<6&4294967295|v>>>26),v=P+(g^(w|~C))+S[15]+4264355552&4294967295,P=w+(v<<10&4294967295|v>>>22),v=C+(w^(P|~g))+S[6]+2734768916&4294967295,C=P+(v<<15&4294967295|v>>>17),v=g+(P^(C|~w))+S[13]+1309151649&4294967295,g=C+(v<<21&4294967295|v>>>11),v=w+(C^(g|~P))+S[4]+4149444226&4294967295,w=g+(v<<6&4294967295|v>>>26),v=P+(g^(w|~C))+S[11]+3174756917&4294967295,P=w+(v<<10&4294967295|v>>>22),v=C+(w^(P|~g))+S[2]+718787259&4294967295,C=P+(v<<15&4294967295|v>>>17),v=g+(P^(C|~w))+S[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,x.g[2]=x.g[2]+C&4294967295,x.g[3]=x.g[3]+P&4294967295}n.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var g=w-this.blockSize,S=this.B,C=this.h,P=0;P<w;){if(C==0)for(;P<=g;)s(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<w;)if(S[C++]=x.charCodeAt(P++),C==this.blockSize){s(this,S),C=0;break}}else for(;P<w;)if(S[C++]=x[P++],C==this.blockSize){s(this,S),C=0;break}}this.h=C,this.o+=w},n.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var g=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=g&255,g/=256;for(this.u(x),x=Array(16),w=g=0;4>w;++w)for(var S=0;32>S;S+=8)x[g++]=this.g[w]>>>S&255;return x};function i(x,w){var g=l;return Object.prototype.hasOwnProperty.call(g,x)?g[x]:g[x]=w(x)}function a(x,w){this.h=w;for(var g=[],S=!0,C=x.length-1;0<=C;C--){var P=x[C]|0;S&&P==w||(g[C]=P,S=!1)}this.g=g}var l={};function c(x){return-128<=x&&128>x?i(x,function(w){return new a([w|0],0>w?-1:0)}):new a([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return I(d(-x));for(var w=[],g=1,S=0;x>=g;S++)w[S]=x/g|0,g*=4294967296;return new a(w,0)}function h(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return I(h(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=d(Math.pow(w,8)),S=f,C=0;C<x.length;C+=8){var P=Math.min(8,x.length-C),v=parseInt(x.substring(C,C+P),w);8>P?(P=d(Math.pow(w,P)),S=S.j(P).add(d(v))):(S=S.j(g),S=S.add(d(v)))}return S}var f=c(0),p=c(1),y=c(16777216);r=a.prototype,r.m=function(){if(_(this))return-I(this).m();for(var x=0,w=1,g=0;g<this.g.length;g++){var S=this.i(g);x+=(0<=S?S:4294967296+S)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(E(this))return"0";if(_(this))return"-"+I(this).toString(x);for(var w=d(Math.pow(x,6)),g=this,S="";;){var C=D(g,w).g;g=R(g,C.j(w));var P=((0<g.g.length?g.g[0]:g.h)>>>0).toString(x);if(g=C,E(g))return P+S;for(;6>P.length;)P="0"+P;S=P+S}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function E(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function _(x){return x.h==-1}r.l=function(x){return x=R(this,x),_(x)?-1:E(x)?0:1};function I(x){for(var w=x.g.length,g=[],S=0;S<w;S++)g[S]=~x.g[S];return new a(g,~x.h).add(p)}r.abs=function(){return _(this)?I(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),g=[],S=0,C=0;C<=w;C++){var P=S+(this.i(C)&65535)+(x.i(C)&65535),v=(P>>>16)+(this.i(C)>>>16)+(x.i(C)>>>16);S=v>>>16,P&=65535,v&=65535,g[C]=v<<16|P}return new a(g,g[g.length-1]&-2147483648?-1:0)};function R(x,w){return x.add(I(w))}r.j=function(x){if(E(this)||E(x))return f;if(_(this))return _(x)?I(this).j(I(x)):I(I(this).j(x));if(_(x))return I(this.j(I(x)));if(0>this.l(y)&&0>x.l(y))return d(this.m()*x.m());for(var w=this.g.length+x.g.length,g=[],S=0;S<2*w;S++)g[S]=0;for(S=0;S<this.g.length;S++)for(var C=0;C<x.g.length;C++){var P=this.i(S)>>>16,v=this.i(S)&65535,k=x.i(C)>>>16,B=x.i(C)&65535;g[2*S+2*C]+=v*B,A(g,2*S+2*C),g[2*S+2*C+1]+=P*B,A(g,2*S+2*C+1),g[2*S+2*C+1]+=v*k,A(g,2*S+2*C+1),g[2*S+2*C+2]+=P*k,A(g,2*S+2*C+2)}for(S=0;S<w;S++)g[S]=g[2*S+1]<<16|g[2*S];for(S=w;S<2*w;S++)g[S]=0;return new a(g,0)};function A(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function T(x,w){this.g=x,this.h=w}function D(x,w){if(E(w))throw Error("division by zero");if(E(x))return new T(f,f);if(_(x))return w=D(I(x),w),new T(I(w.g),I(w.h));if(_(w))return w=D(x,I(w)),new T(I(w.g),w.h);if(30<x.g.length){if(_(x)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var g=p,S=w;0>=S.l(x);)g=V(g),S=V(S);var C=z(g,1),P=z(S,1);for(S=z(S,2),g=z(g,2);!E(S);){var v=P.add(S);0>=v.l(x)&&(C=C.add(g),P=v),S=z(S,1),g=z(g,1)}return w=R(x,C.j(w)),new T(C,w)}for(C=f;0<=x.l(w);){for(g=Math.max(1,Math.floor(x.m()/w.m())),S=Math.ceil(Math.log(g)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),P=d(g),v=P.j(w);_(v)||0<v.l(x);)g-=S,P=d(g),v=P.j(w);E(P)&&(P=p),C=C.add(P),x=R(x,v)}return new T(C,x)}r.A=function(x){return D(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),g=[],S=0;S<w;S++)g[S]=this.i(S)&x.i(S);return new a(g,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),g=[],S=0;S<w;S++)g[S]=this.i(S)|x.i(S);return new a(g,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),g=[],S=0;S<w;S++)g[S]=this.i(S)^x.i(S);return new a(g,this.h^x.h)};function V(x){for(var w=x.g.length+1,g=[],S=0;S<w;S++)g[S]=x.i(S)<<1|x.i(S-1)>>>31;return new a(g,x.h)}function z(x,w){var g=w>>5;w%=32;for(var S=x.g.length-g,C=[],P=0;P<S;P++)C[P]=0<w?x.i(P+g)>>>w|x.i(P+g+1)<<32-w:x.i(P+g);return new a(C,x.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,xl=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,Ut=a}).apply(typeof ma<"u"?ma:typeof self<"u"?self:typeof window<"u"?window:{});var Bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rl,en,Ml,Yn,hi,Dl,Vl,Ll;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,m){return o==Array.prototype||o==Object.prototype||(o[u]=m.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bn=="object"&&Bn];for(var u=0;u<o.length;++u){var m=o[u];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var n=t(this);function s(o,u){if(u)e:{var m=n;o=o.split(".");for(var b=0;b<o.length-1;b++){var L=o[b];if(!(L in m))break e;m=m[L]}o=o[o.length-1],b=m[o],u=u(b),u!=b&&u!=null&&e(m,o,{configurable:!0,writable:!0,value:u})}}function i(o,u){o instanceof String&&(o+="");var m=0,b=!1,L={next:function(){if(!b&&m<o.length){var F=m++;return{value:u(F,o[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(o){return o||function(){return i(this,function(u,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function d(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function h(o,u,m){return o.call.apply(o.bind,arguments)}function f(o,u,m){if(!o)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),o.apply(u,L)}}return function(){return o.apply(u,arguments)}}function p(o,u,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(o,u){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),o.apply(this,b)}}function E(o,u){function m(){}m.prototype=u.prototype,o.aa=u.prototype,o.prototype=new m,o.prototype.constructor=o,o.Qb=function(b,L,F){for(var W=Array(arguments.length-2),me=2;me<arguments.length;me++)W[me-2]=arguments[me];return u.prototype[L].apply(b,W)}}function _(o){const u=o.length;if(0<u){const m=Array(u);for(let b=0;b<u;b++)m[b]=o[b];return m}return[]}function I(o,u){for(let m=1;m<arguments.length;m++){const b=arguments[m];if(c(b)){const L=o.length||0,F=b.length||0;o.length=L+F;for(let W=0;W<F;W++)o[L+W]=b[W]}else o.push(b)}}class R{constructor(u,m){this.i=u,this.j=m,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function A(o){return/^[\s\xa0]*$/.test(o)}function T(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var V=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function z(o,u,m){for(const b in o)u.call(m,o[b],b,o)}function x(o,u){for(const m in o)u.call(void 0,o[m],m,o)}function w(o){const u={};for(const m in o)u[m]=o[m];return u}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,u){let m,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(m in b)o[m]=b[m];for(let F=0;F<g.length;F++)m=g[F],Object.prototype.hasOwnProperty.call(b,m)&&(o[m]=b[m])}}function C(o){var u=1;o=o.split(":");const m=[];for(;0<u&&o.length;)m.push(o.shift()),u--;return o.length&&m.push(o.join(":")),m}function P(o){l.setTimeout(()=>{throw o},0)}function v(){var o=Y;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class k{constructor(){this.h=this.g=null}add(u,m){const b=B.get();b.set(u,m),this.h?this.h.next=b:this.g=b,this.h=b}}var B=new R(()=>new X,o=>o.reset());class X{constructor(){this.next=this.g=this.h=null}set(u,m){this.h=u,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let O,N=!1,Y=new k,re=()=>{const o=l.Promise.resolve(void 0);O=()=>{o.then(G)}};var G=()=>{for(var o;o=v();){try{o.h.call(o.g)}catch(m){P(m)}var u=B;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}N=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};l.addEventListener("test",m,u),l.removeEventListener("test",m,u)}catch{}return o}();function J(o,u){if(q.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var m=this.type=o.type,b=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(V){e:{try{D(u.nodeName);var L=!0;break e}catch{}L=!1}L||(u=null)}}else m=="mouseover"?u=o.fromElement:m=="mouseout"&&(u=o.toElement);this.relatedTarget=u,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ae[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&J.aa.h.call(this)}}E(J,q);var ae={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),st=0;function it(o,u,m,b,L){this.listener=o,this.proxy=null,this.src=u,this.type=m,this.capture=!!b,this.ha=L,this.key=++st,this.da=this.fa=!1}function Re(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ye(o){this.src=o,this.g={},this.h=0}Ye.prototype.add=function(o,u,m,b,L){var F=o.toString();o=this.g[F],o||(o=this.g[F]=[],this.h++);var W=Ct(o,u,b,L);return-1<W?(u=o[W],m||(u.fa=!1)):(u=new it(u,this.src,F,!!b,L),u.fa=m,o.push(u)),u};function At(o,u){var m=u.type;if(m in o.g){var b=o.g[m],L=Array.prototype.indexOf.call(b,u,void 0),F;(F=0<=L)&&Array.prototype.splice.call(b,L,1),F&&(Re(u),o.g[m].length==0&&(delete o.g[m],o.h--))}}function Ct(o,u,m,b){for(var L=0;L<o.length;++L){var F=o[L];if(!F.da&&F.listener==u&&F.capture==!!m&&F.ha==b)return L}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),xt={};function lt(o,u,m,b,L){if(Array.isArray(u)){for(var F=0;F<u.length;F++)lt(o,u[F],m,b,L);return null}return m=Sn(m),o&&o[ge]?o.K(u,m,d(b)?!!b.capture:!1,L):Rt(o,u,m,!1,b,L)}function Rt(o,u,m,b,L,F){if(!u)throw Error("Invalid event type");var W=d(L)?!!L.capture:!!L,me=Dt(o);if(me||(o[Pt]=me=new Ye(o)),m=me.add(u,m,b,W,F),m.proxy)return m;if(b=Mt(),m.proxy=b,b.src=o,b.listener=m,o.addEventListener)pe||(L=W),L===void 0&&(L=!1),o.addEventListener(u.toString(),b,L);else if(o.attachEvent)o.attachEvent(ut(u.toString()),b);else if(o.addListener&&o.removeListener)o.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Mt(){function o(m){return u.call(o.src,o.listener,m)}const u=wt;return o}function vt(o,u,m,b,L){if(Array.isArray(u))for(var F=0;F<u.length;F++)vt(o,u[F],m,b,L);else b=d(b)?!!b.capture:!!b,m=Sn(m),o&&o[ge]?(o=o.i,u=String(u).toString(),u in o.g&&(F=o.g[u],m=Ct(F,m,b,L),-1<m&&(Re(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete o.g[u],o.h--)))):o&&(o=Dt(o))&&(u=o.g[u.toString()],o=-1,u&&(o=Ct(u,m,b,L)),(m=-1<o?u[o]:null)&&ct(m))}function ct(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[ge])At(u.i,o);else{var m=o.type,b=o.proxy;u.removeEventListener?u.removeEventListener(m,b,o.capture):u.detachEvent?u.detachEvent(ut(m),b):u.addListener&&u.removeListener&&u.removeListener(b),(m=Dt(u))?(At(m,o),m.h==0&&(m.src=null,u[Pt]=null)):Re(o)}}}function ut(o){return o in xt?xt[o]:xt[o]="on"+o}function wt(o,u){if(o.da)o=!0;else{u=new J(u,this);var m=o.listener,b=o.ha||o.src;o.fa&&ct(o),o=m.call(b,u)}return o}function Dt(o){return o=o[Pt],o instanceof Ye?o:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(o){return typeof o=="function"?o:(o[ot]||(o[ot]=function(u){return o.handleEvent(u)}),o[ot])}function Me(){U.call(this),this.i=new Ye(this),this.M=this,this.F=null}E(Me,U),Me.prototype[ge]=!0,Me.prototype.removeEventListener=function(o,u,m,b){vt(this,o,u,m,b)};function Le(o,u){var m,b=o.F;if(b)for(m=[];b;b=b.F)m.push(b);if(o=o.M,b=u.type||u,typeof u=="string")u=new q(u,o);else if(u instanceof q)u.target=u.target||o;else{var L=u;u=new q(b,o),S(u,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var W=u.g=m[F];L=K(W,b,!0,u)&&L}if(W=u.g=o,L=K(W,b,!0,u)&&L,L=K(W,b,!1,u)&&L,m)for(F=0;F<m.length;F++)W=u.g=m[F],L=K(W,b,!1,u)&&L}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var m=o.g[u],b=0;b<m.length;b++)Re(m[b]);delete o.g[u],o.h--}}this.F=null},Me.prototype.K=function(o,u,m,b){return this.i.add(String(o),u,!1,m,b)},Me.prototype.L=function(o,u,m,b){return this.i.add(String(o),u,!0,m,b)};function K(o,u,m,b){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var L=!0,F=0;F<u.length;++F){var W=u[F];if(W&&!W.da&&W.capture==m){var me=W.listener,ke=W.ha||W.src;W.fa&&At(o.i,W),L=me.call(ke,b)!==!1&&L}}return L&&!b.defaultPrevented}function M(o,u,m){if(typeof o=="function")m&&(o=p(o,m));else if(o&&typeof o.handleEvent=="function")o=p(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function j(o){o.g=M(()=>{o.g=null,o.i&&(o.i=!1,j(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class Q extends U{constructor(u,m){super(),this.m=u,this.l=m,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:j(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(o){U.call(this),this.h=o,this.g={}}E(ee,U);var et=[];function dt(o){z(o.g,function(u,m){this.g.hasOwnProperty(m)&&ct(u)},o),o.g={}}ee.prototype.N=function(){ee.aa.N.call(this),dt(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=l.JSON.stringify,dr=l.JSON.parse,Cs=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function hr(){}hr.prototype.h=null;function _e(o){return o.h||(o.h=o.i())}function bn(){}var Et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vt(){q.call(this,"d")}E(Vt,q);function Ps(){q.call(this,"c")}E(Ps,q);var Jt={},oo=null;function In(){return oo=oo||new Me}Jt.La="serverreachability";function ao(o){q.call(this,Jt.La,o)}E(ao,q);function Br(o){const u=In();Le(u,new ao(u))}Jt.STAT_EVENT="statevent";function lo(o,u){q.call(this,Jt.STAT_EVENT,o),this.stat=u}E(lo,q);function He(o){const u=In();Le(u,new lo(u,o))}Jt.Ma="timingevent";function co(o,u){q.call(this,Jt.Ma,o),this.size=u}E(co,q);function $r(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},u)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function Fc(o,u,m,b,L,F){o.info(function(){if(o.g)if(F)for(var W="",me=F.split("&"),ke=0;ke<me.length;ke++){var fe=me[ke].split("=");if(1<fe.length){var Be=fe[0];fe=fe[1];var $e=Be.split("_");W=2<=$e.length&&$e[1]=="type"?W+(Be+"="+fe+"&"):W+(Be+"=redacted&")}}else W=null;else W=F;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+u+`
`+m+`
`+W})}function zc(o,u,m,b,L,F,W){o.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+u+`
`+m+`
`+F+" "+W})}function fr(o,u,m,b){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+$c(o,m)+(b?" "+b:"")})}function Bc(o,u){o.info(function(){return"TIMEOUT: "+u})}Gr.prototype.info=function(){};function $c(o,u){if(!o.g)return u;if(!u)return null;try{var m=JSON.parse(u);if(m){for(o=0;o<m.length;o++)if(Array.isArray(m[o])){var b=m[o];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return tt(m)}catch{return u}}var An={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function Cn(){}E(Cn,hr),Cn.prototype.g=function(){return new XMLHttpRequest},Cn.prototype.i=function(){return{}},xs=new Cn;function Lt(o,u,m,b){this.j=o,this.i=u,this.l=m,this.R=b||1,this.U=new ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ho}function ho(){this.i=null,this.g="",this.h=!1}var fo={},Rs={};function Ms(o,u,m){o.L=1,o.v=Mn(Tt(u)),o.m=m,o.P=!0,po(o,null)}function po(o,u){o.F=Date.now(),Pn(o),o.A=Tt(o.v);var m=o.A,b=o.R;Array.isArray(b)||(b=[String(b)]),Po(m.i,"t",b),o.C=0,m=o.j.J,o.h=new ho,o.g=Ho(o.j,m?u:null,!o.m),0<o.O&&(o.M=new Q(p(o.Y,o,o.g),o.O)),u=o.U,m=o.g,b=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(et[0]=L.toString()),L=et);for(var F=0;F<L.length;F++){var W=lt(m,L[F],b||u.handleEvent,!1,u.h||u);if(!W)break;u.g[W.key]=W}u=o.H?w(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Br(),Fc(o.i,o.u,o.A,o.l,o.R,o.m)}Lt.prototype.ca=function(o){o=o.target;const u=this.M;u&&_t(o)==3?u.j():this.Y(o)},Lt.prototype.Y=function(o){try{if(o==this.g)e:{const $e=_t(this.g);var u=this.g.Ba();const gr=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||ko(this.g)))){this.J||$e!=4||u==7||(u==8||0>=gr?Br(3):Br(2)),Ds(this);var m=this.g.Z();this.X=m;t:if(mo(this)){var b=ko(this.g);o="";var L=b.length,F=_t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Ur(this);var W="";break t}this.h.i=new l.TextDecoder}for(u=0;u<L;u++)this.h.h=!0,o+=this.h.i.decode(b[u],{stream:!(F&&u==L-1)});b.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,zc(this.i,this.u,this.A,this.l,this.R,$e,m),this.o){if(this.T&&!this.K){t:{if(this.g){var me,ke=this.g;if((me=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(me)){var fe=me;break t}}fe=null}if(m=fe)fr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vs(this,m);else{this.o=!1,this.s=3,He(12),Zt(this),Ur(this);break e}}if(this.P){m=!0;let at;for(;!this.J&&this.C<W.length;)if(at=Gc(this,W),at==Rs){$e==4&&(this.s=4,He(14),m=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(at==fo){this.s=4,He(15),fr(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else fr(this.i,this.l,at,null),Vs(this,at);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||W.length!=0||this.h.h||(this.s=1,He(16),m=!1),this.o=this.o&&m,!m)fr(this.i,this.l,W,"[Invalid Chunked Response]"),Zt(this),Ur(this);else if(0<W.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),zs(Be),Be.M=!0,He(11))}}else fr(this.i,this.l,W,null),Vs(this,W);$e==4&&Zt(this),this.o&&!this.J&&($e==4?Go(this.j,this):(this.o=!1,Pn(this)))}else iu(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),Zt(this),Ur(this)}}}catch{}finally{}};function mo(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Gc(o,u){var m=o.C,b=u.indexOf(`
`,m);return b==-1?Rs:(m=Number(u.substring(m,b)),isNaN(m)?fo:(b+=1,b+m>u.length?Rs:(u=u.slice(b,b+m),o.C=b+m,u)))}Lt.prototype.cancel=function(){this.J=!0,Zt(this)};function Pn(o){o.S=Date.now()+o.I,go(o,o.I)}function go(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=$r(p(o.ba,o),u)}function Ds(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Lt.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bc(this.i,this.A),this.L!=2&&(Br(),He(17)),Zt(this),this.s=2,Ur(this)):go(this,this.S-o)};function Ur(o){o.j.G==0||o.J||Go(o.j,o)}function Zt(o){Ds(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,dt(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function Vs(o,u){try{var m=o.j;if(m.G!=0&&(m.g==o||Ls(m.h,o))){if(!o.K&&Ls(m.h,o)&&m.G==3){try{var b=m.Da.g.parse(u)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<o.F)Nn(m),kn(m);else break e;Fs(m),He(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=$r(p(m.Za,m),6e3));if(1>=wo(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else tr(m,11)}else if((o.K||m.g==o)&&Nn(m),!A(u))for(L=m.Da.g.parse(u),u=0;u<L.length;u++){let fe=L[u];if(m.T=fe[0],fe=fe[1],m.G==2)if(fe[0]=="c"){m.K=fe[1],m.ia=fe[2];const Be=fe[3];Be!=null&&(m.la=Be,m.j.info("VER="+m.la));const $e=fe[4];$e!=null&&(m.Aa=$e,m.j.info("SVER="+m.Aa));const gr=fe[5];gr!=null&&typeof gr=="number"&&0<gr&&(b=1.5*gr,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const at=o.g;if(at){const zn=at.g?at.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zn){var F=b.h;F.g||zn.indexOf("spdy")==-1&&zn.indexOf("quic")==-1&&zn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ks(F,F.h),F.h=null))}if(b.D){const Bs=at.g?at.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(b.ya=Bs,ye(b.I,b.D,Bs))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-o.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var W=o;if(b.qa=jo(b,b.J?b.ia:null,b.W),W.K){Eo(b.h,W);var me=W,ke=b.L;ke&&(me.I=ke),me.B&&(Ds(me),Pn(me)),b.g=W}else Bo(b);0<m.i.length&&On(m)}else fe[0]!="stop"&&fe[0]!="close"||tr(m,7);else m.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?tr(m,7):Ns(m):fe[0]!="noop"&&m.l&&m.l.ta(fe),m.v=0)}}Br(4)}catch{}}var Uc=class{constructor(o,u){this.g=o,this.map=u}};function yo(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vo(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function wo(o){return o.h?1:o.g?o.g.size:0}function Ls(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function ks(o,u){o.g?o.g.add(u):o.h=u}function Eo(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function To(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const m of o.g.values())u=u.concat(m.D);return u}return _(o.i)}function qc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var u=[],m=o.length,b=0;b<m;b++)u.push(o[b]);return u}u=[],m=0;for(b in o)u[m++]=o[b];return u}function jc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var u=[];o=o.length;for(var m=0;m<o;m++)u.push(m);return u}u=[],m=0;for(const b in o)u[m++]=b;return u}}}function _o(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var m=jc(o),b=qc(o),L=b.length,F=0;F<L;F++)u.call(void 0,b[F],m&&m[F],o)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hc(o,u){if(o){o=o.split("&");for(var m=0;m<o.length;m++){var b=o[m].indexOf("="),L=null;if(0<=b){var F=o[m].substring(0,b);L=o[m].substring(b+1)}else F=o[m];u(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function er(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof er){this.h=o.h,xn(this,o.j),this.o=o.o,this.g=o.g,Rn(this,o.s),this.l=o.l;var u=o.i,m=new Hr;m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),bo(this,m),this.m=o.m}else o&&(u=String(o).match(So))?(this.h=!1,xn(this,u[1]||"",!0),this.o=qr(u[2]||""),this.g=qr(u[3]||"",!0),Rn(this,u[4]),this.l=qr(u[5]||"",!0),bo(this,u[6]||"",!0),this.m=qr(u[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}er.prototype.toString=function(){var o=[],u=this.j;u&&o.push(jr(u,Io,!0),":");var m=this.g;return(m||u=="file")&&(o.push("//"),(u=this.o)&&o.push(jr(u,Io,!0),"@"),o.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&o.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(jr(m,m.charAt(0)=="/"?Xc:Yc,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",jr(m,Qc)),o.join("")};function Tt(o){return new er(o)}function xn(o,u,m){o.j=m?qr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Rn(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function bo(o,u,m){u instanceof Hr?(o.i=u,Jc(o.i,o.h)):(m||(u=jr(u,Kc)),o.i=new Hr(u,o.h))}function ye(o,u,m){o.i.set(u,m)}function Mn(o){return ye(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function qr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function jr(o,u,m){return typeof o=="string"?(o=encodeURI(o).replace(u,Wc),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Wc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Io=/[#\/\?@]/g,Yc=/[#\?:]/g,Xc=/[#\?]/g,Kc=/[#\?@]/g,Qc=/#/g;function Hr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function kt(o){o.g||(o.g=new Map,o.h=0,o.i&&Hc(o.i,function(u,m){o.add(decodeURIComponent(u.replace(/\+/g," ")),m)}))}r=Hr.prototype,r.add=function(o,u){kt(this),this.i=null,o=pr(this,o);var m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(u),this.h+=1,this};function Ao(o,u){kt(o),u=pr(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Co(o,u){return kt(o),u=pr(o,u),o.g.has(u)}r.forEach=function(o,u){kt(this),this.g.forEach(function(m,b){m.forEach(function(L){o.call(u,L,b,this)},this)},this)},r.na=function(){kt(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),m=[];for(let b=0;b<u.length;b++){const L=o[b];for(let F=0;F<L.length;F++)m.push(u[b])}return m},r.V=function(o){kt(this);let u=[];if(typeof o=="string")Co(this,o)&&(u=u.concat(this.g.get(pr(this,o))));else{o=Array.from(this.g.values());for(let m=0;m<o.length;m++)u=u.concat(o[m])}return u},r.set=function(o,u){return kt(this),this.i=null,o=pr(this,o),Co(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},r.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function Po(o,u,m){Ao(o,u),0<m.length&&(o.i=null,o.g.set(pr(o,u),_(m)),o.h+=m.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var m=0;m<u.length;m++){var b=u[m];const F=encodeURIComponent(String(b)),W=this.V(b);for(b=0;b<W.length;b++){var L=F;W[b]!==""&&(L+="="+encodeURIComponent(String(W[b]))),o.push(L)}}return this.i=o.join("&")};function pr(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Jc(o,u){u&&!o.j&&(kt(o),o.i=null,o.g.forEach(function(m,b){var L=b.toLowerCase();b!=L&&(Ao(this,b),Po(this,L,m))},o)),o.j=u}function Zc(o,u){const m=new Gr;if(l.Image){const b=new Image;b.onload=y(Ot,m,"TestLoadImage: loaded",!0,u,b),b.onerror=y(Ot,m,"TestLoadImage: error",!1,u,b),b.onabort=y(Ot,m,"TestLoadImage: abort",!1,u,b),b.ontimeout=y(Ot,m,"TestLoadImage: timeout",!1,u,b),l.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=o}else u(!1)}function eu(o,u){const m=new Gr,b=new AbortController,L=setTimeout(()=>{b.abort(),Ot(m,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:b.signal}).then(F=>{clearTimeout(L),F.ok?Ot(m,"TestPingServer: ok",!0,u):Ot(m,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(L),Ot(m,"TestPingServer: error",!1,u)})}function Ot(o,u,m,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(m)}catch{}}function tu(){this.g=new Cs}function ru(o,u,m){const b=m||"";try{_o(o,function(L,F){let W=L;d(L)&&(W=tt(L)),u.push(b+F+"="+encodeURIComponent(W))})}catch(L){throw u.push(b+"type="+encodeURIComponent("_badmap")),L}}function Dn(o){this.l=o.Ub||null,this.j=o.eb||!1}E(Dn,hr),Dn.prototype.g=function(){return new Vn(this.l,this.j)},Dn.prototype.i=function(o){return function(){return o}}({});function Vn(o,u){Me.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Vn,Me),r=Vn.prototype,r.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Yr(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Wr(this):Yr(this),this.readyState==3&&xo(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,Wr(this))},r.Qa=function(o){this.g&&(this.response=o,Wr(this))},r.ga=function(){this.g&&Wr(this)};function Wr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Yr(o)}r.setRequestHeader=function(o,u){this.u.append(o,u)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var m=u.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=u.next();return o.join(`\r
`)};function Yr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ro(o){let u="";return z(o,function(m,b){u+=b,u+=":",u+=m,u+=`\r
`}),u}function Os(o,u,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=Ro(m),typeof o=="string"?m!=null&&encodeURIComponent(String(m)):ye(o,u,m))}function Ee(o){Me.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ee,Me);var nu=/^https?$/i,su=["POST","PUT"];r=Ee.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,u,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?_e(this.o):_e(xs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(F){Mo(this,F);return}if(o=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)m.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())m.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(su,u,void 0))||b||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of m)this.g.setRequestHeader(F,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lo(this),this.u=!0,this.g.send(o),this.u=!1}catch(F){Mo(this,F)}};function Mo(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,Do(o),Ln(o)}function Do(o){o.A||(o.A=!0,Le(o,"complete"),Le(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Le(this,"complete"),Le(this,"abort"),Ln(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),Ee.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},r.bb=function(){Vo(this)};function Vo(o){if(o.h&&typeof a<"u"&&(!o.v[1]||_t(o)!=4||o.Z()!=2)){if(o.u&&_t(o)==4)M(o.Ea,0,o);else if(Le(o,"readystatechange"),_t(o)==4){o.h=!1;try{const W=o.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var m;if(!(m=u)){var b;if(b=W===0){var L=String(o.D).match(So)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),b=!nu.test(L?L.toLowerCase():"")}m=b}if(m)Le(o,"complete"),Le(o,"success");else{o.m=6;try{var F=2<_t(o)?o.g.statusText:""}catch{F=""}o.l=F+" ["+o.Z()+"]",Do(o)}}finally{Ln(o)}}}}function Ln(o,u){if(o.g){Lo(o);const m=o.g,b=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||Le(o,"ready");try{m.onreadystatechange=b}catch{}}}function Lo(o){o.I&&(l.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function _t(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<_t(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),dr(u)}};function ko(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function iu(o){const u={};o=(o.g&&2<=_t(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<o.length;b++){if(A(o[b]))continue;var m=C(o[b]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=u[L]||[];u[L]=F,F.push(m)}x(u,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(o,u,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||u}function Oo(o){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,o),this.cb=Xr("retryDelaySeedMs",1e4,o),this.Wa=Xr("forwardChannelMaxRetries",2,o),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(o&&o.concurrentRequestLimit),this.Da=new tu,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Oo.prototype,r.la=8,r.G=1,r.connect=function(o,u,m,b){He(0),this.W=o,this.H=u||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=jo(this,null,this.W),On(this)};function Ns(o){if(No(o),o.G==3){var u=o.U++,m=Tt(o.I);if(ye(m,"SID",o.K),ye(m,"RID",u),ye(m,"TYPE","terminate"),Kr(o,m),u=new Lt(o,o.j,u),u.L=2,u.v=Mn(Tt(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=u.v,m=!0),m||(u.g=Ho(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Pn(u)}qo(o)}function kn(o){o.g&&(zs(o),o.g.cancel(),o.g=null)}function No(o){kn(o),o.u&&(l.clearTimeout(o.u),o.u=null),Nn(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function On(o){if(!vo(o.h)&&!o.s){o.s=!0;var u=o.Ga;O||re(),N||(O(),N=!0),Y.add(u,o),o.B=0}}function ou(o,u){return wo(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=$r(p(o.Ga,o,u),Uo(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Lt(this,this.j,o);let F=this.o;if(this.S&&(F?(F=w(F),S(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var u=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(u+=b,4096<u){u=m;break e}if(u===4096||m===this.i.length-1){u=m+1;break e}}u=1e3}else u=1e3;u=zo(this,L,u),m=Tt(this.I),ye(m,"RID",o),ye(m,"CVER",22),this.D&&ye(m,"X-HTTP-Session-Id",this.D),Kr(this,m),F&&(this.O?u="headers="+encodeURIComponent(String(Ro(F)))+"&"+u:this.m&&Os(m,this.m,F)),ks(this.h,L),this.Ua&&ye(m,"TYPE","init"),this.P?(ye(m,"$req",u),ye(m,"SID","null"),L.T=!0,Ms(L,m,null)):Ms(L,m,u),this.G=2}}else this.G==3&&(o?Fo(this,o):this.i.length==0||vo(this.h)||Fo(this))};function Fo(o,u){var m;u?m=u.l:m=o.U++;const b=Tt(o.I);ye(b,"SID",o.K),ye(b,"RID",m),ye(b,"AID",o.T),Kr(o,b),o.m&&o.o&&Os(b,o.m,o.o),m=new Lt(o,o.j,m,o.B+1),o.m===null&&(m.H=o.o),u&&(o.i=u.D.concat(o.i)),u=zo(o,m,1e3),m.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ks(o.h,m),Ms(m,b,u)}function Kr(o,u){o.H&&z(o.H,function(m,b){ye(u,b,m)}),o.l&&_o({},function(m,b){ye(u,b,m)})}function zo(o,u,m){m=Math.min(o.i.length,m);var b=o.l?p(o.l.Na,o.l,o):null;e:{var L=o.i;let F=-1;for(;;){const W=["count="+m];F==-1?0<m?(F=L[0].g,W.push("ofs="+F)):F=0:W.push("ofs="+F);let me=!0;for(let ke=0;ke<m;ke++){let fe=L[ke].g;const Be=L[ke].map;if(fe-=F,0>fe)F=Math.max(0,L[ke].g-100),me=!1;else try{ru(Be,W,"req"+fe+"_")}catch{b&&b(Be)}}if(me){b=W.join("&");break e}}}return o=o.i.splice(0,m),u.D=o,b}function Bo(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;O||re(),N||(O(),N=!0),Y.add(u,o),o.v=0}}function Fs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=$r(p(o.Fa,o),Uo(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,$o(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=$r(p(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),kn(this),$o(this))};function zs(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function $o(o){o.g=new Lt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=Tt(o.qa);ye(u,"RID","rpc"),ye(u,"SID",o.K),ye(u,"AID",o.T),ye(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&ye(u,"TO",o.ja),ye(u,"TYPE","xmlhttp"),Kr(o,u),o.m&&o.o&&Os(u,o.m,o.o),o.L&&(o.g.I=o.L);var m=o.g;o=o.ia,m.L=1,m.v=Mn(Tt(u)),m.m=null,m.P=!0,po(m,o)}r.Za=function(){this.C!=null&&(this.C=null,kn(this),Fs(this),He(19))};function Nn(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Go(o,u){var m=null;if(o.g==u){Nn(o),zs(o),o.g=null;var b=2}else if(Ls(o.h,u))m=u.D,Eo(o.h,u),b=1;else return;if(o.G!=0){if(u.o)if(b==1){m=u.m?u.m.length:0,u=Date.now()-u.F;var L=o.B;b=In(),Le(b,new co(b,m)),On(o)}else Bo(o);else if(L=u.s,L==3||L==0&&0<u.X||!(b==1&&ou(o,u)||b==2&&Fs(o)))switch(m&&0<m.length&&(u=o.h,u.i=u.i.concat(m)),L){case 1:tr(o,5);break;case 4:tr(o,10);break;case 3:tr(o,6);break;default:tr(o,2)}}}function Uo(o,u){let m=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(m*=2),m*u}function tr(o,u){if(o.j.info("Error code "+u),u==2){var m=p(o.fb,o),b=o.Xa;const L=!b;b=new er(b||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xn(b,"https"),Mn(b),L?Zc(b.toString(),m):eu(b.toString(),m)}else He(2);o.G=0,o.l&&o.l.sa(u),qo(o),No(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function qo(o){if(o.G=0,o.ka=[],o.l){const u=To(o.h);(u.length!=0||o.i.length!=0)&&(I(o.ka,u),I(o.ka,o.i),o.h.i.length=0,_(o.i),o.i.length=0),o.l.ra()}}function jo(o,u,m){var b=m instanceof er?Tt(m):new er(m);if(b.g!="")u&&(b.g=u+"."+b.g),Rn(b,b.s);else{var L=l.location;b=L.protocol,u=u?u+"."+L.hostname:L.hostname,L=+L.port;var F=new er(null);b&&xn(F,b),u&&(F.g=u),L&&Rn(F,L),m&&(F.l=m),b=F}return m=o.D,u=o.ya,m&&u&&ye(b,m,u),ye(b,"VER",o.la),Kr(o,b),b}function Ho(o,u,m){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new Ee(new Dn({eb:m})):new Ee(o.pa),u.Ha(o.J),u}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}r=Wo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fn(){}Fn.prototype.g=function(o,u){return new Qe(o,u)};function Qe(o,u){Me.call(this),this.g=new Oo(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!A(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!A(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new mr(this)}E(Qe,Me),Qe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qe.prototype.close=function(){Ns(this.g)},Qe.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.u&&(m={},m.__data__=tt(o),o=m);u.i.push(new Uc(u.Ya++,o)),u.G==3&&On(u)},Qe.prototype.N=function(){this.g.l=null,delete this.j,Ns(this.g),delete this.g,Qe.aa.N.call(this)};function Yo(o){Vt.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const m in u){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}E(Yo,Vt);function Xo(){Ps.call(this),this.status=1}E(Xo,Ps);function mr(o){this.g=o}E(mr,Wo),mr.prototype.ua=function(){Le(this.g,"a")},mr.prototype.ta=function(o){Le(this.g,new Yo(o))},mr.prototype.sa=function(o){Le(this.g,new Xo)},mr.prototype.ra=function(){Le(this.g,"b")},Fn.prototype.createWebChannel=Fn.prototype.g,Qe.prototype.send=Qe.prototype.o,Qe.prototype.open=Qe.prototype.m,Qe.prototype.close=Qe.prototype.close,Ll=function(){return new Fn},Vl=function(){return In()},Dl=Jt,hi={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,Yn=An,uo.COMPLETE="complete",Ml=uo,bn.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",Me.prototype.listen=Me.prototype.K,en=bn,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha,Rl=Ee}).apply(typeof Bn<"u"?Bn:typeof self<"u"?self:typeof window<"u"?window:{});const ga="@firebase/firestore",ya="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nr="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Sl("@firebase/firestore");function yr(){return lr.logLevel}function Z(r,...e){if(lr.logLevel<=ue.DEBUG){const t=e.map(Oi);lr.debug(`Firestore (${Nr}): ${r}`,...t)}}function It(r,...e){if(lr.logLevel<=ue.ERROR){const t=e.map(Oi);lr.error(`Firestore (${Nr}): ${r}`,...t)}}function Pr(r,...e){if(lr.logLevel<=ue.WARN){const t=e.map(Oi);lr.warn(`Firestore (${Nr}): ${r}`,...t)}}function Oi(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,kl(r,n,t)}function kl(r,e,t){let n=`FIRESTORE (${Nr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw It(n),new Error(n)}function we(r,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,r||kl(e,s,n)}function de(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qe.UNAUTHENTICATED))}shutdown(){}}class Hf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wf{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let n=this.i;const s=c=>this.i!==n?(n=this.i,t(c)):Promise.resolve();let i=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ir,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ir)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(we(typeof n.accessToken=="string",31837,{l:n}),new Ol(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new qe(e)}}class Yf{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xf{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Yf(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class va{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kf{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rf(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);const n=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new va(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new va(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=Qf(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<t&&(n+=e.charAt(s[i]%62))}return n}}function le(r,e){return r<e?-1:r>e?1:0}function fi(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const s=r.charAt(n),i=e.charAt(n);if(s!==i)return Js(s)===Js(i)?le(s,i):Js(s)?1:-1}return le(r.length,e.length)}const Jf=55296,Zf=57343;function Js(r){const e=r.charCodeAt(0);return e>=Jf&&e<=Zf}function xr(r,e,t){return r.length===e.length&&r.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="__name__";class ht{constructor(e,t,n){t===void 0?t=0:t>e.length&&ie(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&ie(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ht.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ht?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const i=ht.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return le(e.length,t.length)}static compareSegments(e,t){const n=ht.isNumericId(e),s=ht.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?ht.extractNumericId(e).compare(ht.extractNumericId(t)):fi(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ut.fromString(e.substring(4,e.length-2))}}class ve extends ht{construct(e,t,n){return new ve(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new te(H.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}const ep=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends ht{construct(e,t,n){return new We(e,t,n)}static isValidIdentifier(e){return ep.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wa}static keyField(){return new We([wa])}static fromServerFormat(e){const t=[];let n="",s=0;const i=()=>{if(n.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new te(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(n+=l,s++):(i(),s++)}if(i(),a)throw new te(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(t)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(ve.fromString(e))}static fromName(e){return new ne(ve.fromString(e).popFirst(5))}static empty(){return new ne(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,e,t){if(!t)throw new te(H.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rp(r,e,t,n){if(e===!0&&n===!0)throw new te(H.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ea(r){if(ne.isDocumentKey(r))throw new te(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function np(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function sp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ie(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new te(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sp(r);throw new te(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e){const t={typeString:r};return e&&(t.value=e),t}function vn(r,e){if(!np(r))throw new te(H.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const a=r[n];if(s&&typeof a!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){t=`Expected '${n}' field to equal '${i.value}'`;break}}if(t)throw new te(H.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=-62135596800,_a=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*_a);return new Ae(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ta)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_a}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vn(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ta;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Ce("string",Ae._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Ae(0,0))}static max(){return new se(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=-1;function ip(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=se.fromTimestamp(n===1e9?new Ae(t+1,0):new Ae(t,n));return new Ht(s,ne.empty(),e)}function op(r){return new Ht(r.readTime,r.key,fn)}class Ht{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ht(se.min(),ne.empty(),fn)}static max(){return new Ht(se.max(),ne.empty(),fn)}}function ap(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ne.comparator(r.documentKey,e.documentKey),t!==0?t:le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(r){if(r.code!==H.FAILED_PRECONDITION||r.message!==lp)throw r;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$.reject(t)}static resolve(e){return new $((t,n)=>{t(e)})}static reject(e){return new $((t,n)=>{n(e)})}static waitFor(e){return new $((t,n)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&t()},c=>n(c))}),a=!0,i===s&&t()})}static or(e){let t=$.resolve(!1);for(const n of e)t=t.next(s=>s?$.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,i)=>{n.push(t.call(this,s,i))}),this.waitFor(n)}static mapArray(e,t){return new $((n,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;t(e[d]).next(h=>{a[d]=h,++l,l===i&&n(a)},h=>s(h))}})}static doWhile(e,t){return new $((n,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):n()};i()})}}function up(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gs.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=-1;function ys(r){return r==null}function mi(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="";function hp(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sa(e)),e=fp(r.get(t),e);return Sa(e)}function fp(r,e){let t=e;const n=r.length;for(let s=0;s<n;s++){const i=r.charAt(s);switch(i){case"\0":t+="";break;case Fl:t+="";break;default:t+=i}}return t}function Sa(r){return r+Fl+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function wn(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function pp(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,t){this.comparator=e,this.root=t||Oe.EMPTY}insert(e,t){return new be(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oe.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $n(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $n(this.root,e,this.comparator,!1)}getReverseIterator(){return new $n(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $n(this.root,e,this.comparator,!0)}}class $n{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oe{constructor(e,t,n,s,i){this.key=e,this.value=t,this.color=n??Oe.RED,this.left=s??Oe.EMPTY,this.right=i??Oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,i){return new Oe(e??this.key,t??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,n),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Oe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Oe.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}Oe.EMPTY=null,Oe.RED=!0,Oe.BLACK=!1;Oe.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,t,n,s,i){return this}insert(e,t,n){return new Oe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ia(this.data.getIterator())}getIteratorFrom(e){return new Ia(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xe(this.comparator);return t.data=e,t}}class Ia{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new zt([])}unionWith(e){let t=new xe(We.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new zt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xr(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new zl("Invalid base64 string: "+i):i}}(e);return new ze(t)}static fromUint8Array(e){const t=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new ze(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const mp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wt(r){if(we(!!r,39018),typeof r=="string"){let e=0;const t=mp.exec(r);if(we(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yt(r){return typeof r=="string"?ze.fromBase64String(r):ze.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="server_timestamp",$l="__type__",Gl="__previous_value__",Ul="__local_write_time__";function Ni(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[$l])==null?void 0:n.stringValue)===Bl}function vs(r){const e=r.mapValue.fields[Gl];return Ni(e)?vs(e):e}function pn(r){const e=Wt(r.mapValue.fields[Ul].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t,n,s,i,a,l,c,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const os="(default)";class mn{constructor(e,t){this.projectId=e,this.database=t||os}static empty(){return new mn("","")}get isDefaultDatabase(){return this.database===os}isEqual(e){return e instanceof mn&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="__type__",vp="__max__",Gn={mapValue:{}},wp="__vector__",gi="value";function Xt(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ni(r)?4:Tp(r)?9007199254740991:Ep(r)?10:11:ie(28295,{value:r})}function gt(r,e){if(r===e)return!0;const t=Xt(r);if(t!==Xt(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return pn(r).isEqual(pn(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Wt(s.timestampValue),l=Wt(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,i){return Yt(s.bytesValue).isEqual(Yt(i.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,i){return Se(s.geoPointValue.latitude)===Se(i.geoPointValue.latitude)&&Se(s.geoPointValue.longitude)===Se(i.geoPointValue.longitude)}(r,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Se(s.integerValue)===Se(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Se(s.doubleValue),l=Se(i.doubleValue);return a===l?mi(a)===mi(l):isNaN(a)&&isNaN(l)}return!1}(r,e);case 9:return xr(r.arrayValue.values||[],e.arrayValue.values||[],gt);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(ba(a)!==ba(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!gt(a[c],l[c])))return!1;return!0}(r,e);default:return ie(52216,{left:r})}}function gn(r,e){return(r.values||[]).find(t=>gt(t,e))!==void 0}function Rr(r,e){if(r===e)return 0;const t=Xt(r),n=Xt(e);if(t!==n)return le(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(r.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Se(i.integerValue||i.doubleValue),c=Se(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(r,e);case 3:return Aa(r.timestampValue,e.timestampValue);case 4:return Aa(pn(r),pn(e));case 5:return fi(r.stringValue,e.stringValue);case 6:return function(i,a){const l=Yt(i),c=Yt(a);return l.compareTo(c)}(r.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=le(l[d],c[d]);if(h!==0)return h}return le(l.length,c.length)}(r.referenceValue,e.referenceValue);case 8:return function(i,a){const l=le(Se(i.latitude),Se(a.latitude));return l!==0?l:le(Se(i.longitude),Se(a.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ca(r.arrayValue,e.arrayValue);case 10:return function(i,a){var p,y,E,_;const l=i.fields||{},c=a.fields||{},d=(p=l[gi])==null?void 0:p.arrayValue,h=(y=c[gi])==null?void 0:y.arrayValue,f=le(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:Ca(d,h)}(r.mapValue,e.mapValue);case 11:return function(i,a){if(i===Gn.mapValue&&a===Gn.mapValue)return 0;if(i===Gn.mapValue)return 1;if(a===Gn.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=fi(c[f],h[f]);if(p!==0)return p;const y=Rr(l[c[f]],d[h[f]]);if(y!==0)return y}return le(c.length,h.length)}(r.mapValue,e.mapValue);default:throw ie(23264,{he:t})}}function Aa(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return le(r,e);const t=Wt(r),n=Wt(e),s=le(t.seconds,n.seconds);return s!==0?s:le(t.nanos,n.nanos)}function Ca(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const i=Rr(t[s],n[s]);if(i)return i}return le(t.length,n.length)}function Mr(r){return yi(r)}function yi(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Wt(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Yt(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ne.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",s=!0;for(const i of t.values||[])s?s=!1:n+=",",n+=yi(i);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const a of n)i?i=!1:s+=",",s+=`${a}:${yi(t.fields[a])}`;return s+"}"}(r.mapValue):ie(61005,{value:r})}function Xn(r){switch(Xt(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vs(r);return e?16+Xn(e):16;case 5:return 2*r.stringValue.length;case 6:return Yt(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,i)=>s+Xn(i),0)}(r.arrayValue);case 10:case 11:return function(n){let s=0;return wn(n.fields,(i,a)=>{s+=i.length+Xn(a)}),s}(r.mapValue);default:throw ie(13486,{value:r})}}function vi(r){return!!r&&"integerValue"in r}function Fi(r){return!!r&&"arrayValue"in r}function Pa(r){return!!r&&"nullValue"in r}function xa(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zs(r){return!!r&&"mapValue"in r}function Ep(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[yp])==null?void 0:n.stringValue)===wp}function on(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return wn(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=on(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=on(r.arrayValue.values[t]);return e}return{...r}}function Tp(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vp}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.value=e}static empty(){return new ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=on(t)}setAll(e){let t=We.emptyPath(),n={},s=[];e.forEach((a,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,n,s),n={},s=[],t=l.popLast()}a?n[l.lastSegment()]=on(a):s.push(l.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,s)}delete(e){const t=this.field(e.popLast());Zs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Zs(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){wn(t,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new ft(on(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,t,n,s,i,a,l){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new je(e,0,se.min(),se.min(),se.min(),ft.empty(),0)}static newFoundDocument(e,t,n,s){return new je(e,1,t,se.min(),n,s,0)}static newNoDocument(e,t){return new je(e,2,t,se.min(),se.min(),ft.empty(),0)}static newUnknownDocument(e,t){return new je(e,3,t,se.min(),se.min(),ft.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){this.position=e,this.inclusive=t}}function Ra(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const i=e[s],a=r.position[s];if(i.field.isKeyField()?n=ne.comparator(ne.fromName(a.referenceValue),t.key):n=Rr(a,t.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Ma(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!gt(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t="asc"){this.field=e,this.dir=t}}function _p(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{}class Pe extends ql{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new bp(e,t,n):t==="array-contains"?new Cp(e,n):t==="in"?new Pp(e,n):t==="not-in"?new xp(e,n):t==="array-contains-any"?new Rp(e,n):new Pe(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new Ip(e,n):new Ap(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Rr(t,this.value)):t!==null&&Xt(this.value)===Xt(t)&&this.matchesComparison(Rr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yt extends ql{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yt(e,t)}matches(e){return jl(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jl(r){return r.op==="and"}function Hl(r){return Sp(r)&&jl(r)}function Sp(r){for(const e of r.filters)if(e instanceof yt)return!1;return!0}function wi(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+Mr(r.value);if(Hl(r))return r.filters.map(e=>wi(e)).join(",");{const e=r.filters.map(t=>wi(t)).join(",");return`${r.op}(${e})`}}function Wl(r,e){return r instanceof Pe?function(n,s){return s instanceof Pe&&n.op===s.op&&n.field.isEqual(s.field)&&gt(n.value,s.value)}(r,e):r instanceof yt?function(n,s){return s instanceof yt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,a,l)=>i&&Wl(a,s.filters[l]),!0):!1}(r,e):void ie(19439)}function Yl(r){return r instanceof Pe?function(t){return`${t.field.canonicalString()} ${t.op} ${Mr(t.value)}`}(r):r instanceof yt?function(t){return t.op.toString()+" {"+t.getFilters().map(Yl).join(" ,")+"}"}(r):"Filter"}class bp extends Pe{constructor(e,t,n){super(e,t,n),this.key=ne.fromName(n.referenceValue)}matches(e){const t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ip extends Pe{constructor(e,t){super(e,"in",t),this.keys=Xl("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ap extends Pe{constructor(e,t){super(e,"not-in",t),this.keys=Xl("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xl(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(n=>ne.fromName(n.referenceValue))}class Cp extends Pe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fi(t)&&gn(t.arrayValue,this.value)}}class Pp extends Pe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gn(this.value.arrayValue,t)}}class xp extends Pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(gn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gn(this.value.arrayValue,t)}}class Rp extends Pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>gn(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t=null,n=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Da(r,e=null,t=[],n=[],s=null,i=null,a=null){return new Mp(r,e,t,n,s,i,a)}function zi(r){const e=de(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>wi(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),ys(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Mr(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Mr(n)).join(",")),e.Te=t}return e.Te}function Bi(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!_p(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Wl(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ma(r.startAt,e.startAt)&&Ma(r.endAt,e.endAt)}function Ei(r){return ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t=null,n=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dp(r,e,t,n,s,i,a,l){return new ws(r,e,t,n,s,i,a,l)}function Kl(r){return new ws(r)}function Va(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Vp(r){return r.collectionGroup!==null}function an(r){const e=de(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new xe(We.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ls(i,n))}),t.has(We.keyField().canonicalString())||e.Ie.push(new ls(We.keyField(),n))}return e.Ie}function mt(r){const e=de(r);return e.Ee||(e.Ee=Lp(e,an(r))),e.Ee}function Lp(r,e){if(r.limitType==="F")return Da(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ls(s.field,i)});const t=r.endAt?new as(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new as(r.startAt.position,r.startAt.inclusive):null;return Da(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Ti(r,e,t){return new ws(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Es(r,e){return Bi(mt(r),mt(e))&&r.limitType===e.limitType}function Ql(r){return`${zi(mt(r))}|lt:${r.limitType}`}function vr(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>Yl(s)).join(", ")}]`),ys(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Mr(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Mr(s)).join(",")),`Target(${n})`}(mt(r))}; limitType=${r.limitType})`}function Ts(r,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(r,e)&&function(n,s){for(const i of an(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(a,l,c){const d=Ra(a,l,c);return a.inclusive?d<=0:d<0}(n.startAt,an(n),s)||n.endAt&&!function(a,l,c){const d=Ra(a,l,c);return a.inclusive?d>=0:d>0}(n.endAt,an(n),s))}(r,e)}function kp(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Jl(r){return(e,t)=>{let n=!1;for(const s of an(r)){const i=Op(s,e,t);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function Op(r,e,t){const n=r.field.isKeyField()?ne.comparator(e.key,t.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Rr(c,d):ie(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wn(this.inner,(t,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return pp(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new be(ne.comparator);function Kt(){return Np}const Zl=new be(ne.comparator);function tn(...r){let e=Zl;for(const t of r)e=e.insert(t.key,t);return e}function Fp(r){let e=Zl;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function nr(){return ln()}function ec(){return ln()}function ln(){return new ur(r=>r.toString(),(r,e)=>r.isEqual(e))}const zp=new xe(ne.comparator);function he(...r){let e=zp;for(const t of r)e=e.add(t);return e}const Bp=new xe(le);function $p(){return Bp}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mi(e)?"-0":e}}function Up(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this._=void 0}}function qp(r,e,t){return r instanceof _i?function(s,i){const a={fields:{[$l]:{stringValue:Bl},[Ul]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ni(i)&&(i=vs(i)),i&&(a.fields[Gl]=i),{mapValue:a}}(t,e):r instanceof cs?tc(r,e):r instanceof us?rc(r,e):function(s,i){const a=Hp(s,i),l=La(a)+La(s.Ae);return vi(a)&&vi(s.Ae)?Up(l):Gp(s.serializer,l)}(r,e)}function jp(r,e,t){return r instanceof cs?tc(r,e):r instanceof us?rc(r,e):t}function Hp(r,e){return r instanceof Si?function(n){return vi(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class _i extends _s{}class cs extends _s{constructor(e){super(),this.elements=e}}function tc(r,e){const t=nc(e);for(const n of r.elements)t.some(s=>gt(s,n))||t.push(n);return{arrayValue:{values:t}}}class us extends _s{constructor(e){super(),this.elements=e}}function rc(r,e){let t=nc(e);for(const n of r.elements)t=t.filter(s=>!gt(s,n));return{arrayValue:{values:t}}}class Si extends _s{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function La(r){return Se(r.integerValue||r.doubleValue)}function nc(r){return Fi(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Wp(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof cs&&s instanceof cs||n instanceof us&&s instanceof us?xr(n.elements,s.elements,gt):n instanceof Si&&s instanceof Si?gt(n.Ae,s.Ae):n instanceof _i&&s instanceof _i}(r.transform,e.transform)}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kn(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $i{}function sc(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xp(r.key,or.none()):new Gi(r.key,r.data,or.none());{const t=r.data,n=ft.empty();let s=new xe(We.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?n.delete(i):n.set(i,a),s=s.add(i)}return new Ss(r.key,n,new zt(s.toArray()),or.none())}}function Yp(r,e,t){r instanceof Gi?function(s,i,a){const l=s.value.clone(),c=Oa(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(r,e,t):r instanceof Ss?function(s,i,a){if(!Kn(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Oa(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(ic(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(r,e,t):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function cn(r,e,t,n){return r instanceof Gi?function(i,a,l,c){if(!Kn(i.precondition,a))return l;const d=i.value.clone(),h=Na(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(r,e,t,n):r instanceof Ss?function(i,a,l,c){if(!Kn(i.precondition,a))return l;const d=Na(i.fieldTransforms,c,a),h=a.data;return h.setAll(ic(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(r,e,t,n):function(i,a,l){return Kn(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(r,e,t)}function ka(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&xr(n,s,(i,a)=>Wp(i,a))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Gi extends $i{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ss extends $i{constructor(e,t,n,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ic(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Oa(r,e,t){const n=new Map;we(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let s=0;s<t.length;s++){const i=r[s],a=i.transform,l=e.data.field(i.field);n.set(i.field,jp(a,l,t[s]))}return n}function Na(r,e,t){const n=new Map;for(const s of r){const i=s.transform,a=t.data.field(s.field);n.set(s.field,qp(i,a,e))}return n}class Xp extends $i{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Yp(i,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=cn(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=cn(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ec();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=t.has(s.key)?null:l;const c=sc(a,l);c!==null&&n.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(se.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&xr(this.mutations,e.mutations,(t,n)=>ka(t,n))&&xr(this.baseMutations,e.baseMutations,(t,n)=>ka(t,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,ce;function oc(r){if(r===void 0)return It("GRPC error has no .code"),H.UNKNOWN;switch(r){case Ie.OK:return H.OK;case Ie.CANCELLED:return H.CANCELLED;case Ie.UNKNOWN:return H.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return H.INTERNAL;case Ie.UNAVAILABLE:return H.UNAVAILABLE;case Ie.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Ie.NOT_FOUND:return H.NOT_FOUND;case Ie.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Ie.ABORTED:return H.ABORTED;case Ie.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Ie.DATA_LOSS:return H.DATA_LOSS;default:return ie(39323,{code:r})}}(ce=Ie||(Ie={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Ut([4294967295,4294967295],0);function Fa(r){const e=Zp().encode(r),t=new xl;return t.update(e),new Uint8Array(t.digest())}function za(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ut([t,n],0),new Ut([s,i],0)]}class Ui{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new rn(`Invalid padding: ${t}`);if(n<0)throw new rn(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new rn(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new rn(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ut.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(Ut.fromNumber(n)));return s.compare(em)===1&&(s=new Ut([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Fa(e),[n,s]=za(t);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);if(!this.we(a))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Ui(i,s,t);return n.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const t=Fa(e),[n,s]=za(t);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);this.Se(a)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class rn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,n,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,En.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new bs(se.min(),s,new be(le),Kt(),he())}}class En{constructor(e,t,n,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new En(n,t,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class ac{constructor(e,t){this.targetId=e,this.Ce=t}}class lc{constructor(e,t,n=ze.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Ba{constructor(){this.ve=0,this.Fe=$a(),this.Me=ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),t=he(),n=he();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:ie(38017,{changeType:i})}}),new En(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=$a()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tm{constructor(e){this.Ge=e,this.ze=new Map,this.je=Kt(),this.Je=Un(),this.He=Un(),this.Ye=new be(le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(Ei(i))if(n===0){const a=new ne(i.path);this.et(t,a,je.newNoDocument(a,se.min()))}else we(n===1,20013,{expectedCount:n});else{const a=this._t(t);if(a!==n){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(t);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=t;let a,l;try{a=Yt(n).toUint8Array()}catch(c){if(c instanceof zl)return Pr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Ui(a,s,i)}catch(c){return Pr(c instanceof rn?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(t,i,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Ei(l.target)){const c=new ne(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,je.newNoDocument(c,e))}i.Be&&(t.set(a,i.ke()),i.qe())}});let n=he();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new bs(e,t,this.Ye,this.je,n);return this.je=Kt(),this.Je=Un(),this.He=Un(),this.Ye=new be(le),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ba,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xe(le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xe(le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Z("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ba),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Un(){return new be(ne.comparator)}function $a(){return new be(ne.comparator)}const rm={asc:"ASCENDING",desc:"DESCENDING"},nm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sm={and:"AND",or:"OR"};class im{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bi(r,e){return r.useProto3Json||ys(e)?e:{value:e}}function om(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function am(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _r(r){return we(!!r,49232),se.fromTimestamp(function(t){const n=Wt(t);return new Ae(n.seconds,n.nanos)}(r))}function lm(r,e){return Ii(r,e).canonicalString()}function Ii(r,e){const t=function(s){return new ve(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function cc(r){const e=ve.fromString(r);return we(pc(e),10190,{key:e.toString()}),e}function ei(r,e){const t=cc(e);if(t.get(1)!==r.databaseId.projectId)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ne(dc(t))}function uc(r,e){return lm(r.databaseId,e)}function cm(r){const e=cc(r);return e.length===4?ve.emptyPath():dc(e)}function Ga(r){return new ve(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dc(r){return we(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function um(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(we(h===void 0||typeof h=="string",58123),ze.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ze.fromUint8Array(h||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?H.UNKNOWN:oc(d.code);return new te(h,d.message||"")}(a);t=new lc(n,s,i,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=ei(r,n.document.name),i=_r(n.document.updateTime),a=n.document.createTime?_r(n.document.createTime):se.min(),l=new ft({mapValue:{fields:n.document.fields}}),c=je.newFoundDocument(s,i,a,l),d=n.targetIds||[],h=n.removedTargetIds||[];t=new Qn(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=ei(r,n.document),i=n.readTime?_r(n.readTime):se.min(),a=je.newNoDocument(s,i),l=n.removedTargetIds||[];t=new Qn([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=ei(r,n.document),i=n.removedTargetIds||[];t=new Qn([],i,s,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,a=new Jp(s,i),l=n.targetId;t=new ac(l,a)}}return t}function dm(r,e){return{documents:[uc(r,e.path)]}}function hm(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=uc(r,s);const i=function(d){if(d.length!==0)return fc(yt.create(d,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:wr(p.field),direction:mm(p.dir)}}(h))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=bi(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:t,parent:s}}function fm(r){let e=cm(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){we(n===1,65062);const h=t.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=function(f){const p=hc(f);return p instanceof yt&&Hl(p)?p.getFilters():[p]}(t.where));let a=[];t.orderBy&&(a=function(f){return f.map(p=>function(E){return new ls(Er(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(t.orderBy));let l=null;t.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,ys(p)?null:p}(t.limit));let c=null;t.startAt&&(c=function(f){const p=!!f.before,y=f.values||[];return new as(y,p)}(t.startAt));let d=null;return t.endAt&&(d=function(f){const p=!f.before,y=f.values||[];return new as(y,p)}(t.endAt)),Dp(e,s,a,i,l,"F",c,d)}function pm(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hc(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Er(t.unaryFilter.field);return Pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Er(t.unaryFilter.field);return Pe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Er(t.unaryFilter.field);return Pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Er(t.unaryFilter.field);return Pe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(r):r.fieldFilter!==void 0?function(t){return Pe.create(Er(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return yt.create(t.compositeFilter.filters.map(n=>hc(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(t.compositeFilter.op))}(r):ie(30097,{filter:r})}function mm(r){return rm[r]}function gm(r){return nm[r]}function ym(r){return sm[r]}function wr(r){return{fieldPath:r.canonicalString()}}function Er(r){return We.fromServerFormat(r.fieldPath)}function fc(r){return r instanceof Pe?function(t){if(t.op==="=="){if(xa(t.value))return{unaryFilter:{field:wr(t.field),op:"IS_NAN"}};if(Pa(t.value))return{unaryFilter:{field:wr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xa(t.value))return{unaryFilter:{field:wr(t.field),op:"IS_NOT_NAN"}};if(Pa(t.value))return{unaryFilter:{field:wr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wr(t.field),op:gm(t.op),value:t.value}}}(r):r instanceof yt?function(t){const n=t.getFilters().map(s=>fc(s));return n.length===1?n[0]:{compositeFilter:{op:ym(t.op),filters:n}}}(r):ie(54877,{filter:r})}function pc(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,n,s,i=se.min(),a=se.min(),l=ze.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Bt(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bt(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.yt=e}}function wm(r){const e=fm({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ti(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Cn=new Tm}addToCollectionParentIndex(e,t){return this.Cn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Ht.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Ht.min())}updateCollectionGroup(e,t,n){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class Tm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new xe(ve.comparator),i=!s.has(n);return this.index[t]=s.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new xe(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mc=41943040;class Ke{static withCacheSize(e){return new Ke(e,Ke.DEFAULT_COLLECTION_PERCENTILE,Ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ke.DEFAULT_COLLECTION_PERCENTILE=10,Ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ke.DEFAULT=new Ke(mc,Ke.DEFAULT_COLLECTION_PERCENTILE,Ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ke.DISABLED=new Ke(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dr(0)}static cr(){return new Dr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="LruGarbageCollector",_m=1048576;function ja([r,e],[t,n]){const s=le(r,t);return s===0?le(e,n):s}class Sm{constructor(e){this.Ir=e,this.buffer=new xe(ja),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();ja(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bm{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(qa,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fr(t)?Z(qa,"Ignoring IndexedDB error during garbage collection: ",t):await ms(t)}await this.Vr(3e5)})}}class Im{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return $.resolve(gs.ce);const n=new Sm(t);return this.mr.forEachTarget(e,s=>n.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>n.Ar(s))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Ua)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ua):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,i,a,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(n=f,l=Date.now(),this.removeTargets(e,n,t))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(d=Date.now(),yr()<=ue.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function Am(r,e){return new Im(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.changes=new ur(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,je.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?$.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&cn(n.mutation,s,zt.empty(),Ae.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,he()).next(()=>n))}getLocalViewOfDocuments(e,t,n=he()){const s=nr();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(i=>{let a=tn();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const n=nr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,he()))}populateOverlays(e,t,n){const s=[];return n.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{t.set(a,l)})})}computeViews(e,t,n,s){let i=Kt();const a=ln(),l=function(){return ln()}();return t.forEach((c,d)=>{const h=n.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ss)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),cn(h.mutation,d,h.mutation.getFieldMask(),Ae.now())):a.set(d.key,zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),t.forEach((d,h)=>l.set(d,new Pm(h,a.get(d)??null))),l))}recalculateAndSaveOverlays(e,t){const n=ln();let s=new be((a,l)=>a-l),i=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=t.get(c);if(d===null)return;let h=n.get(c)||zt.empty();h=l.applyToLocalView(d,h),n.set(c,h);const f=(s.get(l.batchId)||he()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=ec();h.forEach(p=>{if(!i.has(p)){const y=sc(t.get(p),n.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-i.size):$.resolve(nr());let l=fn,c=i;return a.next(d=>$.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,he())).next(h=>({batchId:l,changes:Fp(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(n=>{let s=tn();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const i=t.collectionGroup;let a=tn();return this.indexManager.getCollectionParents(e,i).next(l=>$.forEach(l,c=>{const d=function(f,p){return new ws(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,n,s).next(h=>{h.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,je.newInvalidDocument(h)))});let l=tn();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&cn(h.mutation,d,zt.empty(),Ae.now()),Ts(t,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return $.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:_r(s.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:wm(s.bundledQuery),readTime:_r(s.readTime)}}(t)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.overlays=new be(ne.comparator),this.qr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const n=nr();return $.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,i)=>{this.St(e,t,i)}),$.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),$.resolve()}getOverlaysForCollection(e,t,n){const s=nr(),i=t.length+1,a=new ne(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>n&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let i=new be((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let h=i.get(d.largestBatchId);h===null&&(h=nr(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=nr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return $.resolve(l)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Qp(t,n));let i=this.qr.get(t);i===void 0&&(i=he(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.Qr=new xe(De.$r),this.Ur=new xe(De.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new De(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new De(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new ne(new ve([])),n=new De(t,e),s=new De(t,e+1),i=[];return this.Ur.forEachInRange([n,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ne(new ve([])),n=new De(t,e),s=new De(t,e+1);let i=he();return this.Ur.forEachInRange([n,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new De(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class De{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ne.comparator(e.key,t.key)||le(e.Yr,t.Yr)}static Kr(e,t){return le(e.Yr,t.Yr)||ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xe(De.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Kp(i,t,n,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new De(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(a)}lookupMutationBatch(e,t){return $.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?dp:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new De(t,0),s=new De(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xe(le);return t.forEach(s=>{const i=new De(s,0),a=new De(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{n=n.add(l.Yr)})}),$.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let i=n;ne.isDocumentKey(i)||(i=i.child(""));const a=new De(new ne(i),0);let l=new xe(le);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},a),$.resolve(this.ti(l))}ti(e){const t=[];return e.forEach(n=>{const s=this.Xr(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){we(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $.forEach(t.mutations,s=>{const i=new De(s.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new De(t,0),s=this.Zr.firstAfterOrEqual(n);return $.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.ri=e,this.docs=function(){return new be(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),i=s?s.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $.resolve(n?n.document.mutableCopy():je.newInvalidDocument(t))}getEntries(e,t){let n=Kt();return t.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():je.newInvalidDocument(s))}),$.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let i=Kt();const a=t.path,l=new ne(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||ap(op(h),n)<=0||(s.has(h.key)||Ts(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,t,n,s){ie(9500)}ii(e,t){return $.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new km(this)}getSize(e){return $.resolve(this.size)}}class km extends Cm{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)}),$.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.persistence=e,this.si=new ur(t=>zi(t),Bi),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new qi,this.targetCount=0,this.ai=Dr.ur()}forEachTarget(e,t){return this.si.forEach((n,s)=>t(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),$.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Dr(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Pr(t),$.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,n){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=t&&n.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return $.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),$.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return $.resolve(n)}containsKey(e,t){return $.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.ui={},this.overlays={},this.ci=new gs(0),this.li=!1,this.li=!0,this.hi=new Dm,this.referenceDelegate=e(this),this.Pi=new Om(this),this.indexManager=new Em,this.remoteDocumentCache=function(s){return new Lm(s)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new vm(t),this.Ii=new Rm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Vm(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Z("MemoryPersistence","Starting transaction:",e);const s=new Nm(this.ci.next());return this.referenceDelegate.Ei(),n(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,t){return $.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Nm extends cp{constructor(e){super(),this.currentSequenceNumber=e}}class ji{constructor(e){this.persistence=e,this.Ri=new qi,this.Vi=null}static mi(e){return new ji(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),$.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),$.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,n=>{const s=ne.fromPath(n);return this.gi(e,s).next(i=>{i||t.removeEntry(s,se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return $.or([()=>$.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ds{constructor(e,t){this.persistence=e,this.pi=new ur(n=>hp(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=Am(this,t)}static mi(e,t){return new ds(e,t)}Ei(){}di(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(s=>n+s))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return $.forEach(this.pi,(n,s)=>this.br(e,n,s).next(i=>i?$.resolve():t(s)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,t).next(l=>{l||(n++,i.removeEntry(a,se.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),$.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xn(e.data.value)),t}br(e,t,n){return $.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return $.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=he(),s=he();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hi(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Ih()?8:up(Sh())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const i={result:null};return this.ys(e,t).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,t,s,n).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new Fm;return this.Ss(e,t,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,t,a,l.size)})}).next(()=>i.result)}bs(e,t,n,s){return n.documentReadCount<this.fs?(yr()<=ue.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",vr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(yr()<=ue.DEBUG&&Z("QueryEngine","Query:",vr(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(yr()<=ue.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",vr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mt(t))):$.resolve())}ys(e,t){if(Va(t))return $.resolve(null);let n=mt(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Ti(t,null,"F"),n=mt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const a=he(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const d=this.Ds(t,l);return this.Cs(t,d,a,c.readTime)?this.ys(e,Ti(t,null,"F")):this.vs(e,d,t,c)}))})))}ws(e,t,n,s){return Va(t)||s.isEqual(se.min())?$.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,s)?$.resolve(null):(yr()<=ue.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vr(t)),this.vs(e,a,t,ip(s,fn)).next(l=>l))})}Ds(e,t){let n=new xe(Jl(e));return t.forEach((s,i)=>{Ts(e,i)&&(n=n.add(i))}),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,n){return yr()<=ue.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",vr(t)),this.ps.getDocumentsMatchingQuery(e,t,Ht.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="LocalStore",Bm=3e8;class $m{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new be(le),this.xs=new ur(i=>zi(i),Bi),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xm(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Gm(r,e,t,n){return new $m(r,e,t,n)}async function yc(r,e){const t=de(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(i=>{const a=[],l=[];let c=he();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(n,c).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:l}))})})}function vc(r){const e=de(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Um(r,e){const t=de(r),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(t.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>t.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(ze.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,n)),s=s.insert(f,y),function(_,I,R){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Bm?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(p,y,h)&&l.push(t.Pi.updateTargetData(i,y))});let c=Kt(),d=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(qm(i,a,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!n.isEqual(se.min())){const h=t.Pi.getLastRemoteSnapshotVersion(i).next(f=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));l.push(h)}return $.waitFor(l).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(t.Ms=s,i))}function qm(r,e,t){let n=he(),s=he();return t.forEach(i=>n=n.add(i)),e.getEntries(r,n).next(i=>{let a=Kt();return t.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Z(Wi,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:a,qs:s}})}function jm(r,e){const t=de(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Pi.getTargetData(n,e).next(i=>i?(s=i,$.resolve(s)):t.Pi.allocateTargetId(n).next(a=>(s=new Bt(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function Ai(r,e,t){const n=de(r),s=n.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",i,a=>n.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Fr(a))throw a;Z(Wi,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function Ha(r,e,t){const n=de(r);let s=se.min(),i=he();return n.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const f=de(c),p=f.xs.get(h);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(n,a,mt(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,e,t?s:se.min(),t?i:he())).next(l=>(Hm(n,kp(e),l),{documents:l,Qs:i})))}function Hm(r,e,t){let n=r.Os.get(e)||se.min();t.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),r.Os.set(e,n)}class Wa{constructor(){this.activeTargetIds=$p()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wm{constructor(){this.Mo=new Wa,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wa,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="ConnectivityMonitor";class Xa{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(Ya,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(Ya,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=null;function Ci(){return qn===null?qn=function(){return 268435456+Math.round(2147483648*Math.random())}():qn++,"0x"+qn.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="RestConnection",Xm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Km{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===os?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,i){const a=Ci(),l=this.zo(e,t.toUriEncodedString());Z(ti,`Sending RPC '${e}' ${a}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=Li(d);return this.Jo(e,l,c,n,h).then(f=>(Z(ti,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Pr(ti,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",n),f})}Ho(e,t,n,s,i,a){return this.Go(e,t,n,s,i)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,i)=>e[i]=s),n&&n.headers.forEach((s,i)=>e[i]=s)}zo(e,t){const n=Xm[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Jm extends Km{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,i){const a=Ci();return new Promise((l,c)=>{const d=new Rl;d.setWithCredentials(!0),d.listenOnce(Ml.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Yn.NO_ERROR:const f=d.getResponseJson();Z(Ge,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case Yn.TIMEOUT:Z(Ge,`RPC '${e}' ${a} timed out`),c(new te(H.DEADLINE_EXCEEDED,"Request time out"));break;case Yn.HTTP_ERROR:const p=d.getStatus();if(Z(Ge,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const _=function(R){const A=R.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(A)>=0?A:H.UNKNOWN}(E.status);c(new te(_,E.message))}else c(new te(H.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new te(H.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(Ge,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);Z(Ge,`RPC '${e}' ${a} sending request:`,s),d.send(t,"POST",h,n,15)})}T_(e,t,n){const s=Ci(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ll(),l=Vl(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;const h=i.join("");Z(Ge,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);this.I_(f);let p=!1,y=!1;const E=new Qm({Yo:I=>{y?Z(Ge,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(Z(Ge,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Z(Ge,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},Zo:()=>f.close()}),_=(I,R,A)=>{I.listen(R,T=>{try{A(T)}catch(D){setTimeout(()=>{throw D},0)}})};return _(f,en.EventType.OPEN,()=>{y||(Z(Ge,`RPC '${e}' stream ${s} transport opened.`),E.o_())}),_(f,en.EventType.CLOSE,()=>{y||(y=!0,Z(Ge,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(f))}),_(f,en.EventType.ERROR,I=>{y||(y=!0,Pr(Ge,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),E.a_(new te(H.UNAVAILABLE,"The operation could not be completed")))}),_(f,en.EventType.MESSAGE,I=>{var R;if(!y){const A=I.data[0];we(!!A,16349);const T=A,D=(T==null?void 0:T.error)||((R=T[0])==null?void 0:R.error);if(D){Z(Ge,`RPC '${e}' stream ${s} received error:`,D);const V=D.status;let z=function(g){const S=Ie[g];if(S!==void 0)return oc(S)}(V),x=D.message;z===void 0&&(z=H.INTERNAL,x="Unknown error status: "+V+" with message "+D.message),y=!0,E.a_(new te(z,x)),f.close()}else Z(Ge,`RPC '${e}' stream ${s} received:`,A),E.u_(A)}}),_(l,Dl.STAT_EVENT,I=>{I.stat===hi.PROXY?Z(Ge,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===hi.NOPROXY&&Z(Ge,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ri(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r){return new im(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t,n=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="PersistentStream";class Zm{constructor(e,t,n,s,i,a,l,c){this.Mi=e,this.S_=n,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ec(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(It(t.toString()),It("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.D_===t&&this.G_(n,s)},n=>{e(()=>{const s=new te(H.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{n(()=>this.z_(s))}),this.stream.onMessage(s=>{n(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(Ka,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Z(Ka,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eg extends Zm{constructor(e,t,n,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=um(this.serializer,e),n=function(i){if(!("targetChange"in i))return se.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?se.min():a.readTime?_r(a.readTime):se.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ga(this.serializer),t.addTarget=function(i,a){let l;const c=a.target;if(l=Ei(c)?{documents:dm(i,c)}:{query:hm(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=am(i,a.resumeToken);const d=bi(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(se.min())>0){l.readTime=om(i,a.snapshotVersion.toTimestamp());const d=bi(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const n=pm(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ga(this.serializer),t.removeTarget=e,this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{}class rg extends tg{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Ii(t,n),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(H.UNKNOWN,i.toString())})}Ho(e,t,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Ii(t,n),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(H.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ng{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(It(t),this.aa=!1):Z("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="RemoteStore";class sg{constructor(e,t,n,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{_n(this)&&(Z(Vr,"Restarting streams for network reachability change."),await async function(c){const d=de(c);d.Ea.add(4),await Tn(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Is(d)}(this))})}),this.Ra=new ng(n,s)}}async function Is(r){if(_n(r))for(const e of r.da)await e(!0)}async function Tn(r){for(const e of r.da)await e(!1)}function Tc(r,e){const t=de(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qi(t)?Ki(t):zr(t).O_()&&Xi(t,e))}function Yi(r,e){const t=de(r),n=zr(t);t.Ia.delete(e),n.O_()&&_c(t,e),t.Ia.size===0&&(n.O_()?n.L_():_n(t)&&t.Ra.set("Unknown"))}function Xi(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zr(r).Y_(e)}function _c(r,e){r.Va.Ue(e),zr(r).Z_(e)}function Ki(r){r.Va=new tm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),zr(r).start(),r.Ra.ua()}function Qi(r){return _n(r)&&!zr(r).x_()&&r.Ia.size>0}function _n(r){return de(r).Ea.size===0}function Sc(r){r.Va=void 0}async function ig(r){r.Ra.set("Online")}async function og(r){r.Ia.forEach((e,t)=>{Xi(r,e)})}async function ag(r,e){Sc(r),Qi(r)?(r.Ra.ha(e),Ki(r)):r.Ra.set("Unknown")}async function lg(r,e,t){if(r.Ra.set("Online"),e instanceof lc&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(r,e)}catch(n){Z(Vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Qa(r,n)}else if(e instanceof Qn?r.Va.Ze(e):e instanceof ac?r.Va.st(e):r.Va.tt(e),!t.isEqual(se.min()))try{const n=await vc(r.localStore);t.compareTo(n)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(ze.EMPTY_BYTE_STRING,h.snapshotVersion)),_c(i,c);const f=new Bt(h.target,c,d,h.sequenceNumber);Xi(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(r,t)}catch(n){Z(Vr,"Failed to raise snapshot:",n),await Qa(r,n)}}async function Qa(r,e,t){if(!Fr(e))throw e;r.Ea.add(1),await Tn(r),r.Ra.set("Offline"),t||(t=()=>vc(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Z(Vr,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Is(r)})}async function Ja(r,e){const t=de(r);t.asyncQueue.verifyOperationInProgress(),Z(Vr,"RemoteStore received new credentials");const n=_n(t);t.Ea.add(3),await Tn(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Is(t)}async function cg(r,e){const t=de(r);e?(t.Ea.delete(2),await Is(t)):e||(t.Ea.add(2),await Tn(t),t.Ra.set("Unknown"))}function zr(r){return r.ma||(r.ma=function(t,n,s){const i=de(t);return i.sa(),new eg(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(r.datastore,r.asyncQueue,{Xo:ig.bind(null,r),t_:og.bind(null,r),r_:ag.bind(null,r),H_:lg.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Qi(r)?Ki(r):r.Ra.set("Unknown")):(await r.ma.stop(),Sc(r))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,n,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,i){const a=Date.now()+n,l=new Ji(e,t,a,s,i);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bc(r,e){if(It("AsyncQueue",`${e}: ${r}`),Fr(r))return new te(H.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{static emptySet(e){return new Sr(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ne.comparator(t.key,n.key):(t,n)=>ne.comparator(t.key,n.key),this.keyedMap=tn(),this.sortedSet=new be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Sr;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.ga=new be(ne.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Lr{constructor(e,t,n,s,i,a,l,c,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,s,i){const a=[];return t.forEach(l=>{a.push({type:0,doc:l})}),new Lr(e,t,Sr.emptySet(t),a,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Es(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dg{constructor(){this.queries=el(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=de(t),i=s.queries;s.queries=el(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new te(H.ABORTED,"Firestore shutting down"))}}function el(){return new ur(r=>Ql(r),Es)}async function hg(r,e){const t=de(r);let n=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(n=2):(i=new ug,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const l=bc(a,`Initialization of query '${vr(e.query)}' failed`);return void e.onError(l)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&Zi(t)}async function fg(r,e){const t=de(r),n=e.query;let s=3;const i=t.queries.get(n);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function pg(r,e){const t=de(r);let n=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(n=!0);a.wa=s}}n&&Zi(t)}function mg(r,e,t){const n=de(r),s=n.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);n.queries.delete(e)}function Zi(r){r.Ca.forEach(e=>{e.next()})}var Pi,tl;(tl=Pi||(Pi={})).Ma="default",tl.Cache="cache";class gg{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Lr(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Lr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pi.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.key=e}}class Ac{constructor(e){this.key=e}}class yg{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=he(),this.mutatedKeys=he(),this.eu=Jl(e),this.tu=new Sr(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Za,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=Ts(this.query,f)?f:null,E=!!p&&this.mutatedKeys.has(p.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;p&&y?p.data.isEqual(y.data)?E!==_&&(n.track({type:3,doc:y}),I=!0):this.su(p,y)||(n.track({type:2,doc:y}),I=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!p&&y?(n.track({type:0,doc:y}),I=!0):p&&!y&&(n.track({type:1,doc:p}),I=!0,(c||d)&&(l=!0)),I&&(y?(a=a.add(y),i=_?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{tu:a,iu:n,Cs:l,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(y,E){const _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:I})}};return _(y)-_(E)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(n),s=s??!1;const l=t&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new Lr(this.query,e.tu,i,a,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Za,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=he(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new Ac(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Ic(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=he();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Lr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eo="SyncEngine";class vg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wg{constructor(e){this.key=e,this.hu=!1}}class Eg{constructor(e,t,n,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ur(l=>Ql(l),Es),this.Iu=new Map,this.Eu=new Set,this.du=new be(ne.comparator),this.Au=new Map,this.Ru=new qi,this.Vu={},this.mu=new Map,this.fu=Dr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tg(r,e,t=!0){const n=Mc(r);let s;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Cc(n,e,t,!0),s}async function _g(r,e){const t=Mc(r);await Cc(t,e,!0,!1)}async function Cc(r,e,t,n){const s=await jm(r.localStore,mt(e)),i=s.targetId,a=r.sharedClientState.addLocalQueryTarget(i,t);let l;return n&&(l=await Sg(r,e,i,a==="current",s.resumeToken)),r.isPrimaryClient&&t&&Tc(r.remoteStore,s),l}async function Sg(r,e,t,n,s){r.pu=(f,p,y)=>async function(_,I,R,A){let T=I.view.ru(R);T.Cs&&(T=await Ha(_.localStore,I.query,!1).then(({documents:x})=>I.view.ru(x,T)));const D=A&&A.targetChanges.get(I.targetId),V=A&&A.targetMismatches.get(I.targetId)!=null,z=I.view.applyChanges(T,_.isPrimaryClient,D,V);return nl(_,I.targetId,z.au),z.snapshot}(r,f,p,y);const i=await Ha(r.localStore,e,!0),a=new yg(e,i.Qs),l=a.ru(i.documents),c=En.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),d=a.applyChanges(l,r.isPrimaryClient,c);nl(r,t,d.au);const h=new vg(e,t,a);return r.Tu.set(e,h),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),d.snapshot}async function bg(r,e,t){const n=de(r),s=n.Tu.get(e),i=n.Iu.get(s.targetId);if(i.length>1)return n.Iu.set(s.targetId,i.filter(a=>!Es(a,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Ai(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&Yi(n.remoteStore,s.targetId),xi(n,s.targetId)}).catch(ms)):(xi(n,s.targetId),await Ai(n.localStore,s.targetId,!0))}async function Ig(r,e){const t=de(r),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Yi(t.remoteStore,n.targetId))}async function Pc(r,e){const t=de(r);try{const n=await Um(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.Au.get(i);a&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?we(a.hu,14607):s.removedDocuments.size>0&&(we(a.hu,42227),a.hu=!1))}),await Rc(t,n,e)}catch(n){await ms(n)}}function rl(r,e,t){const n=de(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=de(a);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(l)&&(d=!0)}),d&&Zi(c)}(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Ag(r,e,t){const n=de(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),i=s&&s.key;if(i){let a=new be(ne.comparator);a=a.insert(i,je.newNoDocument(i,se.min()));const l=he().add(i),c=new bs(se.min(),new Map,new be(le),a,l);await Pc(n,c),n.du=n.du.remove(i),n.Au.delete(e),to(n)}else await Ai(n.localStore,e,!1).then(()=>xi(n,e,t)).catch(ms)}function xi(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(n=>{r.Ru.containsKey(n)||xc(r,n)})}function xc(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Yi(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),to(r))}function nl(r,e,t){for(const n of t)n instanceof Ic?(r.Ru.addReference(n.key,e),Cg(r,n)):n instanceof Ac?(Z(eo,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||xc(r,n.key)):ie(19791,{wu:n})}function Cg(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(Z(eo,"New document in limbo: "+t),r.Eu.add(n),to(r))}function to(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ne(ve.fromString(e)),n=r.fu.next();r.Au.set(n,new wg(t)),r.du=r.du.insert(t,n),Tc(r.remoteStore,new Bt(mt(Kl(t.path)),n,"TargetPurposeLimboResolution",gs.ce))}}async function Rc(r,e,t){const n=de(r),s=[],i=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{a.push(n.pu(c,e,t).then(d=>{var h;if((d||t)&&n.isPrimaryClient){const f=d?!d.fromCache:(h=t==null?void 0:t.targetChanges.get(c.targetId))==null?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Hi.As(c.targetId,d);i.push(f)}}))}),await Promise.all(a),n.Pu.H_(s),await async function(c,d){const h=de(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,p=>$.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>$.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!Fr(f))throw f;Z(Wi,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const y=h.Ms.get(p),E=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(p,_)}}}(n.localStore,i))}async function Pg(r,e){const t=de(r);if(!t.currentUser.isEqual(e)){Z(eo,"User change. New user:",e.toKey());const n=await yc(t.localStore,e);t.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new te(H.CANCELLED,a))})}),i.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Rc(t,n.Ls)}}function xg(r,e){const t=de(r),n=t.Au.get(e);if(n&&n.hu)return he().add(n.key);{let s=he();const i=t.Iu.get(e);if(!i)return s;for(const a of i){const l=t.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function Mc(r){const e=de(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ag.bind(null,e),e.Pu.H_=pg.bind(null,e.eventManager),e.Pu.yu=mg.bind(null,e.eventManager),e}class hs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Gm(this.persistence,new zm,e.initialUser,this.serializer)}Cu(e){return new gc(ji.mi,this.serializer)}Du(e){return new Wm}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hs.provider={build:()=>new hs};class Rg extends hs{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){we(this.persistence.referenceDelegate instanceof ds,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new bm(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ke.withCacheSize(this.cacheSizeBytes):Ke.DEFAULT;return new gc(n=>ds.mi(n,t),this.serializer)}}class Ri{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>rl(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pg.bind(null,this.syncEngine),await cg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dg}()}createDatastore(e){const t=wc(e.databaseInfo.databaseId),n=function(i){return new Jm(i)}(e.databaseInfo);return function(i,a,l,c){return new rg(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,s,i,a,l){return new sg(n,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,t=>rl(this.syncEngine,t,0),function(){return Xa.v()?new Xa:new Ym}())}createSyncEngine(e,t){return function(s,i,a,l,c,d,h){const f=new Eg(s,i,a,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=de(s);Z(Vr,"RemoteStore shutting down."),i.Ea.add(5),await Tn(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Ri.provider={build:()=>new Ri};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="FirestoreClient";class Dg{constructor(e,t,n,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=qe.UNAUTHENTICATED,this.clientId=Nl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async a=>{Z(Qt,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Z(Qt,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ni(r,e){r.asyncQueue.verifyOperationInProgress(),Z(Qt,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await yc(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function sl(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Vg(r);Z(Qt,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Ja(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>Ja(e.remoteStore,s)),r._onlineComponents=e}async function Vg(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Z(Qt,"Using user provided OfflineComponentProvider");try{await ni(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Pr("Error using user provided cache. Falling back to memory cache: "+t),await ni(r,new hs)}}else Z(Qt,"Using default OfflineComponentProvider"),await ni(r,new Rg(void 0));return r._offlineComponents}async function Lg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Z(Qt,"Using user provided OnlineComponentProvider"),await sl(r,r._uninitializedComponentsProvider._online)):(Z(Qt,"Using default OnlineComponentProvider"),await sl(r,new Ri))),r._onlineComponents}async function kg(r){const e=await Lg(r),t=e.eventManager;return t.onListen=Tg.bind(null,e.syncEngine),t.onUnlisten=bg.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_g.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ig.bind(null,e.syncEngine),t}function Og(r,e,t={}){const n=new ir;return r.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new Mg({next:p=>{h.Nu(),a.enqueueAndForget(()=>fg(i,f)),p.fromCache&&c.source==="server"?d.reject(new te(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new gg(l,h,{includeMetadataChanges:!0,qa:!0});return hg(i,f)}(await kg(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="firestore.googleapis.com",ol=!0;class al{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vc,this.ssl=ol}else this.host=e.host,this.ssl=e.ssl??ol;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mc;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_m)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dc(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ro{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new al({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new al(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jf;switch(n.type){case"firstParty":return new Xf(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new te(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=il.get(t);n&&(Z("ComponentProvider","Removing Datastore"),il.delete(t),n.terminate())}(this),Promise.resolve()}}function Ng(r,e,t,n={}){var d;r=pi(r,ro);const s=Li(e),i=r._getSettings(),a={...i,emulatorOptions:r._getEmulatorOptions()},l=`${e}:${t}`;s&&(vh(`https://${l}`),_h("Firestore",!0)),i.host!==Vc&&i.host!==l&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:n};if(!ns(c,a)&&(r._setSettings(c),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=qe.MOCK_USER;else{h=wh(n.mockUserToken,(d=r._app)==null?void 0:d.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new te(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qe(p)}r._authCredentials=new Hf(new Ol(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class nt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(vn(t,nt._jsonSchema))return new nt(e,n||null,new ne(ve.fromString(t.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:Ce("string",nt._jsonSchemaVersion),referencePath:Ce("string")};class br extends As{constructor(e,t,n){super(e,t,Kl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new ne(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function no(r,e,...t){if(r=Mh(r),tp("collection","path",e),r instanceof ro){const n=ve.fromString(e,...t);return Ea(n),new br(r,null,n)}{if(!(r instanceof nt||r instanceof br))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ve.fromString(e,...t));return Ea(n),new br(r.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="AsyncQueue";class cl{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ec(this,"async_queue_retry"),this._c=()=>{const n=ri();n&&Z(ll,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=ri();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ri();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fr(e))throw e;Z(ll,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,It("INTERNAL UNHANDLED ERROR: ",ul(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Ji.createAndSchedule(this,e,t,n,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ie(47125,{Pc:ul(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ul(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Lc extends ro{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new cl,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cl(e),this._firestoreClient=void 0,await e}}}function Fg(r,e){const t=typeof r=="object"?r:Lf(),n=typeof r=="string"?r:os,s=xf(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=gh("firestore");i&&Ng(s,...i)}return s}function zg(r){if(r._terminated)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Bg(r),r._firestoreClient}function Bg(r){var n,s,i;const e=r._freezeSettings(),t=function(l,c,d,h){return new gp(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Dc(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Dg(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pt(ze.fromBase64String(e))}catch(t){throw new te(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pt(ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vn(e,pt._jsonSchema))return pt.fromBase64String(e.bytes)}}pt._jsonSchemaVersion="firestore/bytes/1.0",pt._jsonSchema={type:Ce("string",pt._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qt._jsonSchemaVersion}}static fromJSON(e){if(vn(e,qt._jsonSchema))return new qt(e.latitude,e.longitude)}}qt._jsonSchemaVersion="firestore/geoPoint/1.0",qt._jsonSchema={type:Ce("string",qt._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jt._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vn(e,jt._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new jt(e.vectorValues);throw new te(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jt._jsonSchemaVersion="firestore/vectorValue/1.0",jt._jsonSchema={type:Ce("string",jt._jsonSchemaVersion),vectorValues:Ce("object")};const $g=new RegExp("[~\\*/\\[\\]]");function Gg(r,e,t){if(e.search($g)>=0)throw dl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new kc(...e.split("."))._internalPath}catch{throw dl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function dl(r,e,t,n,s){let i=`Function ${e}() called with invalid data`;i+=". ";let a="";return new te(H.INVALID_ARGUMENT,i+r+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,n,s,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ug(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ug extends Oc{data(){return super.data()}}function Nc(r,e){return typeof e=="string"?Gg(r,e):e instanceof kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new te(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{convertValue(e,t="none"){switch(Xt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return wn(e,(s,i)=>{n[s]=this.convertValue(i,t)}),n}convertVectorValue(e){var n,s,i;const t=(i=(s=(n=e.fields)==null?void 0:n[gi].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>Se(a.doubleValue));return new jt(t)}convertGeoPoint(e){return new qt(Se(e.latitude),Se(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vs(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pn(e));default:return null}}convertTimestamp(e){const t=Wt(e);return new Ae(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ve.fromString(e);we(pc(n),9688,{name:e});const s=new mn(n.get(1),n.get(3)),i=new ne(n.popFirst(5));return s.isEqual(t)||It(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class jn{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ir extends Oc{constructor(e,t,n,s,i,a){super(e,t,n,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Nc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ir._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ir._jsonSchema={type:Ce("string",Ir._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Jn extends Ir{data(e={}){return super.data(e)}}class Ar{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new jn(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Jn(this._firestore,this._userDataWriter,n.key,n,new jn(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Jn(s._firestore,s._userDataWriter,l.doc.key,l.doc,new jn(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Jn(s._firestore,s._userDataWriter,l.doc.key,l.doc,new jn(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:Hg(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ar._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hg(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:r})}}Ar._jsonSchemaVersion="firestore/querySnapshot/1.0",Ar._jsonSchema={type:Ce("string",Ar._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Wg extends jg{constructor(e){super(),this.firestore=e}convertBytes(e){return new pt(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,t)}}function so(r){r=pi(r,As);const e=pi(r.firestore,Lc),t=zg(e),n=new Wg(e);return qg(r._query),Og(t,r._query).then(s=>new Ar(e,n,r,s))}(function(e,t=!0){(function(s){Nr=s})(Vf),is(new dn("firestore",(n,{instanceIdentifier:s,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new Lc(new Wf(n.getProvider("auth-internal")),new Kf(a,n.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mn(d.options.projectId,h)}(a,s),a);return i={useFetchStreams:t,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Tr(ga,ya,e),Tr(ga,ya,"esm2020")})();var Yg="firebase",Xg="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(Yg,Xg,"app");const Kg={apiKey:"AIzaSyDOWFazlwHsZjgXU5a-7EuHuSOO3o_U2Gg",authDomain:"vet-cat.firebaseapp.com",projectId:"vet-cat",storageBucket:"vet-cat.firebasestorage.app",messagingSenderId:"1058557590103",appId:"1:1058557590103:web:0918d3d62a4451a0568112"},Qg=Al(Kg),io=Fg(Qg);async function Jg(){return(await so(no(io,"cards-services"))).docs.map(e=>({id:e.id,...e.data()}))}function Zg(r){const e=Ve(".service-slider"),t=Ve(".swiper-wrapper",e);r.forEach(n=>{const s=`
                             <div class=" triple-slider__slide simple-card swiper-slide">
                                <div class="simple-card__title">${n.title}</div>
                                <div class="simple-card__text">${n.text}
                                </div>
                                <a class="simple-card__link" href="${n.link}">  
                                    <svg width="19" height="10" viewBox="0 0 19 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M-1.74845e-07 5L17 5M17 5C15.3146 3.85714 12.7865 1 12.7865 1M17 5C15.3146 6.14286 12.7865 9 12.7865 9" stroke="white" stroke-width="2" />
                                    </svg>
                                </a>
                            </div>`;t.insertAdjacentHTML("beforeend",s)})}async function ey(){try{const r=await Jg();Zg(r)}catch(r){console.error(r)}}function ty(r){return` <a class="swiper-slide img-card" href="#">
                    <div class="img-card__img-wrapper">
                        <picture>
                            <source srcset="/img/home/${r.imgLinkWebp}" type="image/webp">
                            <img class="img-card__img" src="/img/home/${r.imgLinkPng}" width="344" height="400"
                                 alt="expert photo" loading="lazy">
                        </picture>
                        <div class="img-card__hover-information">
                            <div class="img-card__hover-text">
                                
                            </div>
                            <div class="img-card__date">${r.nextDate[0].date} <br> ${r.nextDate[1].time}</div>

                            <div class="img-card__date">${r.nextDate[1].date} <br> ${r.nextDate[1].time}</div>
                        </div>
                    </div>
                    <div class="img-card__full-name">${r.lastName} <br> ${r.firstName} ${r.patronymic}</div>
                    <div class="img-card__position">${r.position}</div>
                </a>`}async function ry(){const r=Ve(".expert-slider"),e=Ve(".swiper-wrapper",r);try{(await so(no(io,"cards-experts"))).docs.map(s=>({id:s.id,...s.data()})).forEach(s=>{e.insertAdjacentHTML("beforeend",ty(s))})}catch(t){console.error(t)}}function ny(r,e,t){new Xe(`.${r}`,{slidesPerView:4,spaceBetween:40,loop:!0,navigation:{nextEl:`.${e}`,prevEl:`.${t}`},breakpoints:{320:{slidesPerView:"auto",spaceBetween:20},1100:{slidesPerView:4,spaceBetween:40}}})}function sy(r){return` <div class="swiper-slide small-img-card">
                    <div class="small-img-card__img-wrapper">
                        <picture>
                            <source srcset="/img/home/${r.linkWebp}" type="image/webp">
                            <img class="small-img-card__img" src="/img/home/${r.linkPng}" alt="photo animals"
                                 width="248" height="248">
                        </picture>
                    </div>
                    <div class="small-img-card__title">${r.title}</div>

                    <div class="small-img-card__date">${r.date}</div>
                </div>`}async function iy(){const r=Ve(".swiper-wrapper",Ve(".stories-slider"));try{(await so(no(io,"cards-stories"))).docs.map(n=>({id:n.id,...n.data()})).forEach(n=>{r.insertAdjacentHTML("beforeend",sy(n))})}catch(e){console.error(e)}}let Qr;async function oy(){const r={lat:50.4194,lng:30.4809},e={lat:50.444,lng:30.619},{Map:t}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:n}=await google.maps.importLibrary("marker"),{InfoWindow:s}=await google.maps.importLibrary("maps"),i=document.createElement("img");i.src=new URL("/vet-cat/img/home/1.png",import.meta.url).href;const a=document.createElement("img");a.src=new URL("/vet-cat/img/home/2.png",import.meta.url).href,Qr=new t(document.getElementById("map"),{zoom:11,center:r,mapId:"DEMO_MAP_ID"});const l=new n({map:Qr,position:r,title:" ",content:i}),c=new n({map:Qr,position:e,title:" ",content:a}),d=new s({content:`<div class="info-window">
<span>  !</span>
<strong>   </strong>
</div>`});l.addListener("click",()=>{d.open({anchor:l,map:Qr})}),c.addListener("click",()=>{d.open({anchor:l,map:Qr})})}document.addEventListener("DOMContentLoaded",async r=>{hu(),fu(),na("triple-slider_services","triple-slider__button-next-icon_service","triple-slider__button-prev-icon_service"),na("triple-slider_experts","triple-slider__button-next-icon_experts","triple-slider__button-prev-icon_experts"),ny("triple-slider_stories","triple-slider__button-next-icon_stories","triple-slider__button-prev-icon_stories"),await ey(),await ry(),await iy(),oy()});
