import{r as p,g as i,a as m,c as d,i as h}from"./header-zVkTQlWD.js";import{a as b,d as f,b as y}from"./firebase-D0A0i6wl.js";import{u as v}from"./use-query-DC4Lgv9E.js";import{e as _,t as x}from"./experts-slider-inner-DJ0GSmqU.js";async function C(r){const t=r||"дерматология";try{const n=b(f,"articles",t),o=await y(n);if(o.exists())return o.data()}catch(n){console.error(n)}}function E(r){const t={container:"story__text-container",paragraph:"story__paragraph",heading:"story__sub-title",list:"story__list",listItem:"story__list-item"},n=p("div",t.container),o=document.createDocumentFragment();return r.story.forEach(a=>{switch(a.type){case"paragraph":{const e=p("p",t.paragraph);e.textContent=a.content,o.appendChild(e);break}case"heading":{const e=a.level,s=p("h"+e,t.heading);s.textContent=a.content,o.appendChild(s);break}case"list":{const e=p("ul",t.list);a.items.forEach(s=>{const u=p("li",t.listItem);u.textContent=s,e.appendChild(u)}),o.appendChild(e)}}}),n.appendChild(o),n}async function w(){const r="/vet-cat/",t=i(".story__title"),n=i(".story__img-wrapper"),o=i("picture",n),c=p("source"),a=p("img"),e=i(".breadcrumbs").lastElementChild,u=v().getParam("story"),l=await C(u);t.innerText=l.title,a.src=`${r}${l.img}`,a.alt="animal",a.width="824",a.height="360",c.srcset=`${r}${l.imgWebp}`,c.type="image/webp",o.appendChild(c),o.appendChild(a),document.title=l.title,e.innerText=l.title,i(".story__text-block").appendChild(E(l))}function k(r){const t=i(r),n=m(".button-group__button",t);let o=i(".button-group__button_active",t);const c=i(".button-group__slider",t);function a(e){const{offsetWidth:s,offsetHeight:u,offsetLeft:l,offsetTop:g}=e;c.style.width=`${s}px`,c.style.height=`${u}px`,c.style.transform=`translate(${l}px, ${g}px)`}a(o),n.forEach(e=>{e.addEventListener("click",()=>{n.forEach(s=>d(s,"remove","button-group__button_active")),d(e,"add","button-group__button_active"),o=e,a(o)})})}async function $(){const r=m(".button-group__button");let t=i(".button-group__button_active");await _(t.getAttribute("data-attribute")),r.forEach(n=>{n.addEventListener("click",async()=>{await _(n.getAttribute("data-attribute"))})})}document.addEventListener("DOMContentLoaded",async r=>{h(),await w(),x("triple-slider_experts","triple-slider__button-next-icon_experts","triple-slider__button-prev-icon_experts"),await $(),k(".service-slider__button-block")});
