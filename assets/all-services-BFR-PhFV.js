import{g as u,a as d,c as n,i as _}from"./header-zVkTQlWD.js";import{q as v,c as y,d as f,w as p,g as b}from"./firebase-D0A0i6wl.js";import{u as g}from"./use-query-DC4Lgv9E.js";import{c as h}from"./capitalize-name-C89BSpDV.js";async function o(a){const r=u(".list-services__list");r.innerHTML="",a.forEach(i=>{const s=`<li class="list-services__item">
            <a class="list-services__link" href="${i.link}">${i.title}</a>
        </li>`;r.insertAdjacentHTML("beforeend",s)})}async function m(a){try{const r=v(y(f,"all-services"),a?p("type","==",a):null);return(await b(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){return console.error("Ошибка при получении данных:",r),[]}}async function E(){const a=g(),r=a.getParam("type"),i=d(".banner__item"),s=u(".list-services__title");let t=r??null;m(t).then(e=>{o(e)}),i.forEach(e=>{e.getAttribute("data-attribute")===t?n(e,"add","banner__item_active"):n(e,"remove","banner__item_active")}),i.forEach(e=>{e.addEventListener("click",()=>{const l=e.getAttribute("data-attribute");t!==l?t=e.getAttribute("data-attribute"):t=null,t?a.setParam("type",l):a.deleteParam("type"),s.innerText=h(t),i.forEach(c=>{n(c,"remove","banner__item_active")}),t!==null&&t===e.getAttribute("data-attribute")&&n(e,"add","banner__item_active"),m(t).then(c=>{o(c)})})})}document.addEventListener("DOMContentLoaded",async a=>{_(),await E()});
