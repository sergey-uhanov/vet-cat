import{g as d,a as m,c as n,i as _}from"./header-zVkTQlWD.js";import{q as p,c as v,d as y,w as f,g as b}from"./firebase-D0A0i6wl.js";import{u as g}from"./use-query-DC4Lgv9E.js";async function o(e){const r=d(".list-services__list");r.innerHTML="",e.forEach(i=>{const s=`<li class="list-services__item">
            <a class="list-services__link" href="${i.link}">${i.title}</a>
        </li>`;r.insertAdjacentHTML("beforeend",s)})}async function u(e){try{const r=p(v(y,"all-services"),e?f("type","==",e):null);return(await b(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){return console.error("Ошибка при получении данных:",r),[]}}function h(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"Все учлуги"}async function E(){const e=g(),r=e.getParam("type"),i=m(".banner__item"),s=d(".list-services__title");let a=r??null;u(a).then(t=>{o(t)}),i.forEach(t=>{t.getAttribute("data-attribute")===a?n(t,"add","banner__item_active"):n(t,"remove","banner__item_active")}),i.forEach(t=>{t.addEventListener("click",()=>{const l=t.getAttribute("data-attribute");a!==l?a=t.getAttribute("data-attribute"):a=null,a?e.setParam("type",l):e.deleteParam("type"),s.innerText=h(a),i.forEach(c=>{n(c,"remove","banner__item_active")}),a!==null&&a===t.getAttribute("data-attribute")&&n(t,"add","banner__item_active"),u(a).then(c=>{o(c)})})})}document.addEventListener("DOMContentLoaded",async e=>{_(),await E()});
