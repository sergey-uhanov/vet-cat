import{c as P,d as E,q as G,w as S,a as L,r as e,g as d,b as f,i as V}from"./firebase-kXAzlJEp.js";import{s as q}from"./selection-button-group-DdZLGIiI.js";import{S as B,N as M}from"./navigation-BLWR7E83.js";async function k(n){try{const t=P(E,"work-time"),i=G(t,S("location","==",n));return(await L(i)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){console.error("Ошибка при получении документов:",t)}}function b(n){const t=document.createDocumentFragment();return n.forEach(i=>{const s=e("div","work-schedule__content-wrapper"),r=e("div",["container-work-time","work-schedule__content"]),p=e("div","item-service__sidebar"),w=e("div","item-service__title");w.textContent=i.service,p.appendChild(w),i.staff.forEach(a=>{const o=e("div","item-service__employer"),c=e("div","item-service__employer-name");c.textContent=a.name;const l=e("div","item-service__employer-position");l.textContent=a.position,o.appendChild(c),o.appendChild(l),p.appendChild(o)}),r.appendChild(p);const _=e("div",["item-service__slider","swiper"]);_.dataset.attribute=i.id;const h=e("div",["swiper-wrapper","item-service__slider-wrapper"]);for(let a=0;a<21;a++){const o=new Date;o.setDate(o.getDate()+a);const c=e("div",["swiper-slide","item-service__slide","slide"]),l=e("div","slide__date-wrapper"),u=e("span","slide__day-week"),C=e("span","slide__date");if(a===0)u.textContent="Сегодня";else if(a===1)u.textContent="Завтра";else{const m=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];u.textContent=m[o.getDay()],(o.getDay()===0||o.getDay()===6)&&(u.style.color="red")}C.textContent=o.toLocaleDateString("ru-RU",{day:"numeric",month:"long"}),l.appendChild(u),l.appendChild(C),c.appendChild(l),i.staff.forEach(m=>{const g=e("div","slide__times-wrapper"),D=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][o.getDay()];g.textContent=m.schedule[D]||"-",c.appendChild(g)}),h.appendChild(c)}_.appendChild(h),r.appendChild(_);const v=e("div","item-service__button-prev");v.innerHTML=`<svg class="icon item-service__button-prev-icon">
                                <use xlink:href="#row"></use>
                             </svg>`;const y=e("div","item-service__button-next");y.innerHTML=`<svg class="icon item-service__button-next-icon">
                                <use xlink:href="#row"></use>
                             </svg>`,r.appendChild(v),r.appendChild(y),s.appendChild(r),t.appendChild(s)}),t}function x(n){const t=d(".item-service__slider",n),i=d(".item-service__button-prev",n),s=d(".item-service__button-next",n);new B(t,{modules:[M],slidesPerView:7,spaceBetween:16,slidesPerGroup:7,navigation:{nextEl:s,prevEl:i},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2},415:{slidesPerView:3,slidesPerGroup:3},562:{slidesPerView:4,slidesPerGroup:4},628:{slidesPerView:5,slidesPerGroup:5},889:{slidesPerView:6,slidesPerGroup:6,spaceBetween:0},1024:{slidesPerView:7,slidesPerGroup:7}}})}async function T(){const n=d(".work-schedule__wrapper");try{const t=await k("Строгино");n.append(b(t)),f(".work-schedule__content").forEach(s=>{x(s)})}catch(t){console.log(t)}}async function H(){const n=d(".work-schedule__wrapper"),t=d(".button-group__container");t.addEventListener("click",async()=>{const i=d(".button-group__button_active",t);try{const s=await k(i.innerText);n.innerHTML="",n.append(b(s)),f(".work-schedule__content").forEach(p=>{x(p)})}catch(s){console.log(s)}})}document.addEventListener("DOMContentLoaded",async n=>{V(),q(".work-schedule__button-block"),await T(),await H()});
