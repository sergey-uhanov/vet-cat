import{g as u,i as D}from"./header-zVkTQlWD.js";import{t as C,e as j}from"./experts-slider-inner-DlZ-LBa5.js";import{g as O,c as M,d as P}from"./firebase-D0A0i6wl.js";import{S as q}from"./navigation-BLWR7E83.js";import{r as x}from"./render-small-img-card-CfF6AgLh.js";import"./render-img-cards-DOLAWv2M.js";function F(){const t=u(".first-screen__background"),e=u(".first-screen");e.style.height=getComputedStyle(t).height,window.addEventListener("resize",()=>{e.style.height=getComputedStyle(t).height})}async function U(){return(await O(M(P,"cards-services"))).docs.map(e=>({id:e.id,...e.data()}))}function T(t){const e=u(".service-slider"),r=u(".swiper-wrapper",e);t.forEach(i=>{const n=`
                             <div class=" triple-slider__slide simple-card swiper-slide">
                                <div class="simple-card__title">${i.title}</div>
                                <div class="simple-card__text">${i.text}
                                </div>
                                <a class="simple-card__link" href="${i.link}"> Подробнее 
                                    <svg width="19" height="10" viewBox="0 0 19 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M-1.74845e-07 5L17 5M17 5C15.3146 3.85714 12.7865 1 12.7865 1M17 5C15.3146 6.14286 12.7865 9 12.7865 9" stroke="white" stroke-width="2" />
                                    </svg>
                                </a>
                            </div>`;r.insertAdjacentHTML("beforeend",n)})}async function K(){try{const t=await U();T(t)}catch(t){console.error(t)}}function N(t,e,r,i=40){new q(`.${t}`,{slidesPerView:4,loop:!0,navigation:{nextEl:`.${e}`,prevEl:`.${r}`},breakpoints:{320:{slidesPerView:"auto",spaceBetween:20},1100:{slidesPerView:4,spaceBetween:i}}})}async function B(){const t=u(".swiper-wrapper",u(".stories-slider"));try{(await O(M(P,"cards-stories"))).docs.map(i=>({id:i.id,...i.data()})).forEach(i=>{t.insertAdjacentHTML("beforeend",x(i))})}catch(e){console.error(e)}}function G(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{h(i.next(l))}catch(c){o(c)}}function p(l){try{h(i.throw(l))}catch(c){o(c)}}function h(l){l.done?s(l.value):n(l.value).then(a,p)}h((i=i.apply(t,[])).next())})}function z(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S,A;function V(){return A||(A=1,S=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,s;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=i;n--!==0;){var o=s[n];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),S}var W=V(),Z=z(W);const L="__googleMapsScriptId";var f;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(f||(f={}));class d{constructor({apiKey:e,authReferrerPolicy:r,channel:i,client:n,id:s=L,language:o,libraries:a=[],mapIds:p,nonce:h,region:l,retries:c=3,url:v="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=i,this.client=n,this.id=s||L,this.language=o,this.libraries=a,this.mapIds=p,this.nonce=h,this.region=l,this.retries=c,this.url=v,this.version=g,d.instance){if(!Z(this.options,d.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(d.instance.options)}`);return d.instance}d.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?f.FAILURE:this.done?f.SUCCESS:this.loading?f.LOADING:f.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(i=>{i?r(i.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(s=>!i[s]&&delete i[s]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(s=>{let o,a,p,h="The Google Maps JavaScript API",l="google",c="importLibrary",v="__ib__",g=document,m=window;m=m[l]||(m[l]={});const y=m.maps||(m.maps={}),k=new Set,b=new URLSearchParams,R=()=>o||(o=new Promise((_,E)=>G(this,void 0,void 0,function*(){var I;yield a=g.createElement("script"),a.id=this.id,b.set("libraries",[...k]+"");for(p in s)b.set(p.replace(/[A-Z]/g,$=>"_"+$[0].toLowerCase()),s[p]);b.set("callback",l+".maps."+v),a.src=this.url+"?"+b,y[v]=_,a.onerror=()=>o=E(Error(h+" could not load.")),a.nonce=this.nonce||((I=g.querySelector("script[nonce]"))===null||I===void 0?void 0:I.nonce)||"",g.head.append(a)})));y[c]?console.warn(h+" only loads once. Ignoring:",s):y[c]=(_,...E)=>k.add(_)&&R().then(()=>y[c](_,...E))})(i);const n=this.libraries.map(s=>this.importLibrary(s));n.length||n.push(this.importLibrary("core")),Promise.all(n).then(()=>this.callback(),s=>{const o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const H=new d({apiKey:"AIzaSyAnK7hs2Wafw6R5Vt0TLBebz4C4eSqskWU",version:"weekly",libraries:["maps","marker"]});let w;async function J(){console.log(1);const t=await H.load(),e={lat:50.4194,lng:30.4809},r={lat:50.444,lng:30.619},i=document.createElement("img");i.src=new URL("/vet-cat/img/map/1.png",import.meta.url).href;const n=document.createElement("img");n.src=new URL("/vet-cat/img/map/2.png",import.meta.url).href,w=new t.maps.Map(u("#map"),{zoom:11,center:e,mapId:"DEMO_MAP_ID"});const s=new t.maps.marker.AdvancedMarkerElement({map:w,position:e,title:"Первая точка",content:i}),o=new t.maps.marker.AdvancedMarkerElement({map:w,position:r,title:"Вторая точка",content:n}),a=new t.maps.InfoWindow({content:`
      <div class="info-window">
        <span>Дополнительная важная информация!</span>
        <strong>Кто грустит тот трансвистит</strong>
      </div>`});s.addListener("click",()=>{a.open({anchor:s,map:w})}),o.addListener("click",()=>{a.open({anchor:o,map:w})})}document.addEventListener("DOMContentLoaded",async t=>{D(),F(),C("triple-slider_services","triple-slider__button-next-icon_service","triple-slider__button-prev-icon_service"),C("triple-slider_experts","triple-slider__button-next-icon_experts","triple-slider__button-prev-icon_experts"),N("triple-slider_stories","triple-slider__button-next-icon_stories","triple-slider__button-prev-icon_stories"),await K(),await j(),await B(),await J()});
