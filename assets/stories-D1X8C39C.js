import{g as u,a as o,c as d,i as m}from"./header-zVkTQlWD.js";import{m as g,s as b}from"./selection-button-group-CnRSCfiK.js";import{g as f,c as p,d as l}from"./firebase-D0A0i6wl.js";import{u as s}from"./use-query-DC4Lgv9E.js";import{r as y}from"./render-small-img-card-CfF6AgLh.js";async function i(a){return(await f(p(l,`истории-${a}`))).docs.map(t=>({id:t.id,...t.data()}))}async function c(a){const e=u(".tubs__cards");e.innerHTML="",a.forEach(t=>{e.insertAdjacentHTML("beforeend",y(t))})}async function v(){const a=o(".button-group__button"),e=s();let t=e.getParam("active")??a[0].getAttribute("data-attribute");t!==e.getParam("active")&&e.setParam("active",a[0].getAttribute("data-attribute")),a.forEach(r=>{r.innerText.toLowerCase()===t&&(d(r,"add","button-group__button_active"),g(r))});const n=await i(t);await c(n)}async function w(){const a=o(".button-group__button"),e=s();a.forEach(t=>{t.addEventListener("click",async()=>{const n=t.getAttribute("data-attribute");e.setParam("active",n);const r=await i(n);await c(r)})})}document.addEventListener("DOMContentLoaded",async a=>{m(),b(),await v(),await w()});
